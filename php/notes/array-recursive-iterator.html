<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>RecursiveArrayIterator class &mdash; PHP SPL Iterators 1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="PHP SPL Iterators 1 documentation" href="../index.html" />
    <link rel="next" title="Directory Iteration" href="directory-iteration.html" />
    <link rel="prev" title="Iterating Recursive Structures" href="recursive-iteration.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="directory-iteration.html" title="Directory Iteration"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="recursive-iteration.html" title="Iterating Recursive Structures"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PHP SPL Iterators 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="recursive-iteration.html"
                        title="previous chapter">Iterating Recursive Structures</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="directory-iteration.html"
                        title="next chapter">Directory Iteration</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/notes/array-recursive-iterator.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="recursivearrayiterator-class">
<h1>RecursiveArrayIterator class<a class="headerlink" href="#recursivearrayiterator-class" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal"><span class="pre">RecursiveArrayIterator</span></code> extends <code class="docutils literal"><span class="pre">ArrayIterator</span></code> and implements <code class="docutils literal"><span class="pre">RecursiveIterator</span></code>, implementing the two <code class="docutils literal"><span class="pre">RecursiveIterator</span></code> interface methods of <code class="docutils literal"><span class="pre">getChildren()</span></code> and <code class="docutils literal"><span class="pre">hasChildren()</span></code>.</p>
<p>This iterator allows you to unset and modify values and keys while iterating over Arrays and Objects in the same way as ArrayIterator, and, in addition, you can iterate over the current iterator entry.
The use of ArrayIterator is straight forward, but limited to single dimensional arrays. Sometimes you’ll have a multidimensional array and you’ll want to iterate through the nested arrays recursively.
This is when to use <code class="docutils literal"><span class="pre">RecursiveArrayIterator</span></code>. Like <code class="docutils literal"><span class="pre">ArrayIterator</span></code>, <code class="docutils literal"><span class="pre">RecursiveArrayIterator</span></code> also contains the <code class="docutils literal"><span class="pre">append</span></code> method and the same sorting methods.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">RecursiveArrayIterator</span> <span class="kd">extends</span> <span class="n">ArrayIterator</span> <span class="kd">implements</span> <span class="n">RecursiveIterator</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">__construct</span> <span class="o">([</span> <span class="n">mixed</span> <span class="n">$array</span> <span class="o">=</span> <span class="n">array</span><span class="o">();</span> <span class="o">[,</span> <span class="kt">int</span> <span class="n">$flags</span> <span class="o">=</span> <span class="mi">0</span> <span class="o">]]</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="n">array</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">getArrayCopy</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>

    <span class="cm">/* RecursiveIterator methods */</span>

    <span class="kd">public</span> <span class="n">RecursiveArrayIterator</span> <span class="nf">getChildren</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="n">bool</span> <span class="nf">hasChildren</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>

    <span class="cm">/* Inherited methtods below, categorize by interface */</span>

    <span class="c1">// Seekable interface (which extends Iterator) methods</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">seek</span> <span class="o">(</span> <span class="kt">int</span> <span class="n">$position</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="n">mixed</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">key</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">next</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="n">bool</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">valid</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="n">mixed</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">current</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">rewind</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>

    <span class="c1">// Countable methods</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">count</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>

    <span class="c1">// ArrayAccess methods</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">offsetExists</span> <span class="o">(</span> <span class="n">string</span> <span class="n">$index</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="n">mixed</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">offsetGet</span> <span class="o">(</span> <span class="n">string</span> <span class="n">$index</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">offsetSet</span> <span class="o">(</span> <span class="n">string</span> <span class="n">$index</span> <span class="o">,</span> <span class="n">string</span> <span class="n">$newval</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">offsetUnset</span> <span class="o">(</span> <span class="n">string</span> <span class="n">$index</span> <span class="o">);</span>

    <span class="c1">// Serializable interface methods</span>
    <span class="kd">public</span> <span class="n">string</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">serialize</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="n">string</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">unserialize</span> <span class="o">(</span> <span class="n">string</span> <span class="n">$serialized</span> <span class="o">);</span>

    <span class="c1">// other class methods</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">append</span> <span class="o">(</span> <span class="n">mixed</span> <span class="n">$value</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">asort</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">setFlags</span> <span class="o">(</span> <span class="n">string</span> <span class="n">$flags</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">getFlags</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">uasort</span> <span class="o">(</span> <span class="n">string</span> <span class="n">$cmp_function</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">uksort</span> <span class="o">(</span> <span class="n">string</span> <span class="n">$cmp_function</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">ksort</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">natcasesort</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="n">ArrayIterator</span><span class="o">::</span><span class="n">natsort</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
<p>To do recursive iteration, use pass <code class="docutils literal"><span class="pre">RecurisveArrayIterator</span></code> to <code class="docutils literal"><span class="pre">RecursiverIteratorIterator</span></code>.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

 <span class="c1">// An array containing four elements, the first three are nested subarrays.</span>
 <span class="nv">$arr</span> <span class="o">=</span> <span class="p">[</span>
     <span class="p">[</span><span class="s2">&quot;sitepoint&quot;</span><span class="p">,</span> <span class="s2">&quot;phpmaster&quot;</span><span class="p">],</span>      <span class="c1">// first nested array</span>
     <span class="p">[</span><span class="s2">&quot;buildmobile&quot;</span><span class="p">,</span> <span class="s2">&quot;rubysource&quot;</span><span class="p">],</span>   <span class="c1">// second nested array</span>
     <span class="p">[</span><span class="s2">&quot;designfestival&quot;</span><span class="p">,</span> <span class="s2">&quot;cloudspring&quot;</span><span class="p">],</span> <span class="c1">// third nested array</span>
     <span class="s2">&quot;not a subarray&quot;</span>                     <span class="c1">// one-dimensional array of one element</span>
 <span class="p">];</span>

 <span class="nv">$riteriter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">RecursiveIteratorIterator</span><span class="p">(</span><span class="k">new</span> <span class="nx">RecursiveArrayIterator</span><span class="p">(</span><span class="nv">$arr</span><span class="p">));</span> <span class="c1">// RecursiveIteratorIterator::CHILD_FIRST);</span>

 <span class="k">foreach</span><span class="p">(</span><span class="nv">$riteriter</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$value</span> <span class="p">)</span> <span class="p">{</span>

     <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">$key</span><span class="s2"> =&gt; </span><span class="si">$value</span><span class="s2"> </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>

 <span class="p">}</span>
</pre></div>
</div>
<p>This will output:</p>
<div class="highlight-python"><div class="highlight"><pre>0 =&gt; string(9) &quot;sitepoint&quot;
1 =&gt; string(9) &quot;phpmaster&quot;
0 =&gt; string(11) &quot;buildmobile&quot;
1 =&gt; string(10) &quot;rubysource&quot;
0 =&gt; string(14) &quot;designfestival&quot;
1 =&gt; string(11) &quot;cloudspring&quot;
3 =&gt; string(12) &quot;not a subarray&quot;
</pre></div>
</div>
<p>Changing the iterator mode to RecursiveIteratorIterator::CHILD_FIRST:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
 <span class="nv">$riteriter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">RecursiveIteratorIterator</span><span class="p">(</span><span class="k">new</span> <span class="nx">RecursiveArrayIterator</span><span class="p">(</span><span class="nv">$arr</span><span class="p">));</span> <span class="c1">// RecursiveIteratorIterator::CHILD_FIRST);</span>

 <span class="k">foreach</span><span class="p">(</span><span class="nv">$riteriter</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$value</span> <span class="p">)</span> <span class="p">{</span>

     <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">$key</span><span class="s2"> =&gt; </span><span class="si">$value</span><span class="s2"> </span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>

 <span class="p">}</span>
</pre></div>
</div>
<p>will give this output:</p>
<div class="highlight-python"><div class="highlight"><pre>0 =&gt; string(9) &quot;sitepoint&quot;
1 =&gt; string(9) &quot;phpmaster&quot;
0 =&gt; array(2) {
  [0] =&gt;
  string(9) &quot;sitepoint&quot;
  [1] =&gt;
  string(9) &quot;phpmaster&quot;
}
0 =&gt; string(11) &quot;buildmobile&quot;
1 =&gt; string(10) &quot;rubysource&quot;
1 =&gt; array(2) {
  [0] =&gt;
  string(11) &quot;buildmobile&quot;
  [1] =&gt;
  string(10) &quot;rubysource&quot;
}
0 =&gt; string(14) &quot;designfestival&quot;
1 =&gt; string(11) &quot;cloudspring&quot;
2 =&gt; array(2) {
  [0] =&gt;
  string(14) &quot;designfestival&quot;
  [1] =&gt;
  string(11) &quot;cloudspring&quot;
}
3 =&gt; string(12) &quot;not an array&quot;
</pre></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="directory-iteration.html" title="Directory Iteration"
             >next</a> |</li>
        <li class="right" >
          <a href="recursive-iteration.html" title="Iterating Recursive Structures"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PHP SPL Iterators 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Kurt Krueckeberg.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>