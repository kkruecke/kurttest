<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Arrays &mdash; PHP SPL Iterators 1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="PHP SPL Iterators 1 documentation" href="../index.html" />
    <link rel="next" title="Basic Iterator interfaces" href="basic-iter.html" />
    <link rel="prev" title="PHP Standard Library Notes" href="../index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="basic-iter.html" title="Basic Iterator interfaces"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="PHP Standard Library Notes"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PHP SPL Iterators 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Arrays</a><ul>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#extracting-multiple-values-using-the-list-construct">Extracting Multiple Values Using the <code class="docutils literal"><span class="pre">list()</span></code> construct</a></li>
</ul>
</li>
<li><a class="reference internal" href="#slicing-an-array">Slicing an Array</a></li>
<li><a class="reference internal" href="#splitting-an-array-into-chunks">Splitting an Array into Chunks</a></li>
<li><a class="reference internal" href="#keys-and-values">Keys and Values</a></li>
<li><a class="reference internal" href="#checking-whether-an-element-exists">Checking Whether an Element Exists</a></li>
<li><a class="reference internal" href="#removing-and-inserting-elements-in-an-array">Removing and Inserting Elements in an Array</a></li>
<li><a class="reference internal" href="#converting-between-arrays-and-variables">Converting Between Arrays and Variables</a><ul>
<li><a class="reference internal" href="#creating-variables-from-an-array">Creating Variables from an Array</a></li>
</ul>
</li>
<li><a class="reference internal" href="#creating-an-array-from-a-variable">Creating an Array from a Variable</a></li>
<li><a class="reference internal" href="#traversing-arrays">Traversing Arrays</a><ul>
<li><a class="reference internal" href="#the-foreach-construct">The foreach Construct</a></li>
</ul>
</li>
<li><a class="reference internal" href="#iterator-functions">Iterator functions</a></li>
<li><a class="reference internal" href="#array-slice-versus-array-splice"><code class="docutils literal"><span class="pre">array_slice</span></code> versus <code class="docutils literal"><span class="pre">array_splice</span></code></a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../index.html"
                        title="previous chapter">PHP Standard Library Notes</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="basic-iter.html"
                        title="next chapter">Basic Iterator interfaces</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/notes/array-review.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="arrays">
<h1>Arrays<a class="headerlink" href="#arrays" title="Permalink to this headline">¶</a></h1>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>PHP arrays are internally stored as maps. And PHP arrays have an internal order to their elements that is independent of the keys and values, and there are functions that you can use to traverse the arrays based on this internal order. The order is normally that in which values were inserted into the array, but the sorting functions described later let you change the order to one based on keys, values, or anything else you choose.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$a1</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;item&quot;</span><span class="p">);</span>
<span class="nv">$a2</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="s2">&quot;a&quot;</span><span class="p">,</span><span class="s2">&quot;k&quot;</span><span class="p">);</span>
<span class="nv">$a3</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;abc&quot;</span><span class="p">;</span>
<span class="nv">$a3</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;def&quot;</span><span class="p">;</span>
<span class="nv">$a3</span><span class="p">[]</span>  <span class="o">=</span> <span class="nx">“ghi”</span><span class="p">;</span> <span class="c1">// adds third element</span>
<span class="nv">$a4</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;k1&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;v1&quot;</span><span class="p">,</span> <span class="s2">&quot;k2&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;v2&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>If keys are omitted when defining an asso. array, a numeric key beginning with 0 is assumed. The key for “v3” is 0, for “v4” 1. This is most likely not wanted.</p>
<blockquote>
<div>$a5 = array(&#8220;k1&#8221; =&gt; &#8220;v1&#8221;, &#8220;k2&#8221; =&gt; &#8220;v2&#8221;, “v3”, “v4” );</div></blockquote>
<p>Multidimensional arrays can be created:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$row_0</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="nv">$row_1</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>
<span class="nv">$row_2</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">);</span>
<span class="nv">$multi</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="nv">$row_0</span><span class="p">,</span> <span class="nv">$row_1</span><span class="p">,</span> <span class="nv">$row_2</span><span class="p">);</span>
<span class="k">echo</span><span class="p">(</span><span class="s2">&quot;The value at row 2, column 0 is </span><span class="si">{</span><span class="nv">$multi</span><span class="p">[</span><span class="mi">2</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">sizeof()</span></code> and <code class="docutils literal"><span class="pre">count()</span></code> operators return the number of elements.</p>
<div class="section" id="extracting-multiple-values-using-the-list-construct">
<h3>Extracting Multiple Values Using the <code class="docutils literal"><span class="pre">list()</span></code> construct<a class="headerlink" href="#extracting-multiple-values-using-the-list-construct" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>The list() construct lets you copy array elements into variables:</div></blockquote>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$person</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Fred&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">35</span><span class="p">,</span> <span class="s1">&#39;wife&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Betty&#39;</span><span class="p">);</span>
<span class="k">list</span><span class="p">(</span><span class="nv">$n</span><span class="p">,</span> <span class="nv">$a</span><span class="p">,</span> <span class="nv">$w</span><span class="p">)</span> <span class="o">=</span> <span class="nv">$person</span><span class="p">;</span>  <span class="c1">// $n is &#39;Fred&#39;, $a is 35, $w is &#39;Betty&#39;</span>
<span class="k">list</span><span class="p">(</span><span class="nv">$n</span><span class="p">,</span> <span class="nv">$a</span><span class="p">)</span> <span class="o">=</span> <span class="nv">$person</span><span class="p">;</span>     <span class="c1">// $n is &#39;Fred&#39;, $a is 35</span>
<span class="nv">$values</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;hello&#39;</span><span class="p">,</span> <span class="s1">&#39;world&#39;</span><span class="p">);</span>

<span class="cm">/* Extra variables are fill with NULL */</span>
<span class="k">list</span><span class="p">(</span><span class="nv">$a</span><span class="p">,</span> <span class="nv">$b</span><span class="p">,</span> <span class="nv">$c</span><span class="p">)</span> <span class="o">=</span> <span class="nv">$values</span><span class="p">;</span>   <span class="c1">// $a is &#39;hello&#39;, $b is &#39;world&#39;, $c is NULL</span>
<span class="nv">$values</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">);</span>

<span class="cm">/* Use two or more commas to skip values */</span>
<span class="k">list</span><span class="p">(</span><span class="nv">$m</span><span class="p">,,</span><span class="nv">$n</span><span class="p">,,</span><span class="nv">$o</span><span class="p">)</span> <span class="o">=</span> <span class="nv">$values</span><span class="p">;</span>   <span class="c1">// $m is &#39;a&#39;, $n is &#39;c&#39;, $o is &#39;e&#39;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="slicing-an-array">
<h2>Slicing an Array<a class="headerlink" href="#slicing-an-array" title="Permalink to this headline">¶</a></h2>
<p>To extract a subset from an numerically-indexed array, use <code class="docutils literal"><span class="pre">array_slice()</span></code>:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$subset</span> <span class="o">=</span> <span class="nb">array_slice</span><span class="p">(</span><span class="k">array</span><span class="p">,</span> <span class="nx">offset</span><span class="p">,</span> <span class="nx">length</span><span class="p">);</span>

<span class="nv">$people</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Tom&#39;</span><span class="p">,</span> <span class="s1">&#39;Dick&#39;</span><span class="p">,</span> <span class="s1">&#39;Harriet&#39;</span><span class="p">,</span> <span class="s1">&#39;Brenda&#39;</span><span class="p">,</span> <span class="s1">&#39;Jo&#39;</span><span class="p">);</span>
<span class="nv">$middle</span> <span class="o">=</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nv">$people</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span> <span class="c1">// $middle is array(&#39;Harriet&#39;, &#39;Brenda&#39;)</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">array_slice()</span></code> returns a new array consisting of a consecutive series of values from the original array. The offset parameter identifies the initial element to copy (0 represents the first element in the array), and the length parameter identifies the number of values to copy. The new array has consecutive numeric keys starting at 0.</p>
<p>It is generally only meaningful to use array_slice() on indexed arrays (i.e., those with consecutive integer indexes, starting at 0):</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="c1">// this use of array_slice() makes no sense</span>
<span class="nv">$person</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Fred&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">35</span><span class="p">,</span> <span class="s1">&#39;wife&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Betty&#39;</span><span class="p">);</span>
<span class="nv">$subset</span> <span class="o">=</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nv">$person</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>  <span class="c1">// $subset is array(0 =&gt; 35, 1 =&gt; &#39;Betty&#39;)</span>
<span class="nb">array_slice</span><span class="p">()</span> <span class="nx">can</span> <span class="nx">be</span> <span class="nx">combined</span> <span class="nx">with</span> <span class="k">list</span><span class="p">()</span> <span class="nx">to</span> <span class="nb">extract</span> <span class="nx">only</span> <span class="nx">some</span> <span class="nx">values</span> <span class="nx">to</span> <span class="nx">variables</span><span class="o">:</span>
<span class="nv">$order</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Tom&#39;</span><span class="p">,</span> <span class="s1">&#39;Dick&#39;</span><span class="p">,</span> <span class="s1">&#39;Harriet&#39;</span><span class="p">,</span> <span class="s1">&#39;Brenda&#39;</span><span class="p">,</span> <span class="s1">&#39;Jo&#39;</span><span class="p">);</span>
<span class="k">list</span><span class="p">(</span><span class="nv">$second</span><span class="p">,</span> <span class="nv">$third</span><span class="p">)</span> <span class="o">=</span> <span class="nb">array_slice</span><span class="p">(</span><span class="nv">$order</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span> <span class="c1">// $second is &#39;Dick&#39;, $third is &#39;Harriet&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="splitting-an-array-into-chunks">
<h2>Splitting an Array into Chunks<a class="headerlink" href="#splitting-an-array-into-chunks" title="Permalink to this headline">¶</a></h2>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$chunks</span> <span class="o">=</span> <span class="nb">array_chunk</span><span class="p">(</span><span class="k">array</span><span class="p">,</span> <span class="nx">size</span> <span class="p">[,</span> <span class="nx">preserve_keys</span><span class="p">]);</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">array_chunk()</span></code> returns a multidimensional array whose inner arrays or are smaller, evenly-sized arrays (chunks) of the original array. The third argument, preserve_keys, is a Boolean value that determines whether the elements of the new arrays have the same keys as in the original (useful for associative arrays) or new numeric keys starting from 0 (useful for indexed arrays). The default is to assign new keys, as shown here:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$nums</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>
<span class="nv">$rows</span> <span class="o">=</span> <span class="nb">array_chunk</span><span class="p">(</span><span class="nv">$nums</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$rows</span><span class="p">);</span>
</pre></div>
</div>
<p>outputs:</p>
<div class="highlight-python"><div class="highlight"><pre>Array
(
    [0] =&gt; Array
        (
            [0] =&gt; 1
            [1] =&gt; 2
            [2] =&gt; 3
        )
    [1] =&gt; Array
        (
            [0] =&gt; 4
            [1] =&gt; 5
            [2] =&gt; 6
        )
    [2] =&gt; Array
        (
            [0] =&gt; 7
        )
)
</pre></div>
</div>
<p>This example divides an array into three parts corresponding to three rows of a table.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$columns</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span>
<span class="nv">$citylist</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Black Canyon City&#39;</span><span class="p">,</span> <span class="s1">&#39;Chandler&#39;</span><span class="p">,</span> <span class="s1">&#39;Flagstaff&#39;</span><span class="p">,</span> <span class="s1">&#39;Gilbert&#39;</span><span class="p">,</span> <span class="s1">&#39;Glendale&#39;</span><span class="p">,</span> <span class="s1">&#39;Globe&#39;</span><span class="p">,</span> <span class="s1">&#39;Mesa&#39;</span><span class="p">,</span> <span class="s1">&#39;Miami&#39;</span><span class="p">,</span>
        <span class="s1">&#39;Phoenix&#39;</span><span class="p">,</span> <span class="s1">&#39;Peoria&#39;</span><span class="p">,</span> <span class="s1">&#39;Prescott&#39;</span><span class="p">,</span> <span class="s1">&#39;Scottsdale&#39;</span><span class="p">,</span> <span class="s1">&#39;Sun City&#39;</span><span class="p">,</span> <span class="s1">&#39;Surprise&#39;</span><span class="p">,</span> <span class="s1">&#39;Tempe&#39;</span><span class="p">,</span> <span class="s1">&#39;Tucson&#39;</span><span class="p">,</span> <span class="s1">&#39;Wickenburg&#39;</span><span class="p">);</span>

<span class="nv">$columns</span> <span class="o">=</span> <span class="nb">array_chunk</span><span class="p">(</span><span class="nv">$citylist</span><span class="p">,</span> <span class="nb">ceil</span><span class="p">(</span><span class="nb">count</span><span class="p">(</span><span class="nv">$citylist</span><span class="p">)</span> <span class="o">/</span> <span class="nv">$rows</span><span class="p">));</span>
<span class="nx">buildtable1</span><span class="p">(</span><span class="nv">$columns</span><span class="p">);</span>

<span class="c1">// buildtable1(&amp;$columns) will creates a table with $columns as the columns</span>
<span class="k">function</span> <span class="nf">buildtable1</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$columns</span><span class="p">)</span>
<span class="p">{</span>
   <span class="nv">$size</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>

   <span class="k">for</span> <span class="p">(</span><span class="nv">$i</span> <span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$columns</span><span class="p">);</span> <span class="nv">$i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="nv">$size</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$columns</span><span class="p">[</span><span class="nv">$i</span><span class="p">]);</span>
   <span class="p">}</span>

   <span class="nv">$max</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="nv">$size</span><span class="p">);</span>
   <span class="k">echo</span> <span class="s1">&#39;&lt;table&gt;&#39;</span><span class="p">;</span>
   <span class="k">for</span> <span class="p">(</span><span class="nv">$j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$j</span> <span class="o">&lt;</span> <span class="nv">$max</span><span class="p">;</span> <span class="nv">$j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
          <span class="k">echo</span> <span class="s1">&#39;&lt;tr&gt;&#39;</span><span class="p">;</span>
          <span class="k">for</span> <span class="p">(</span><span class="nv">$i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$columns</span><span class="p">);</span> <span class="nv">$i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

                  <span class="k">echo</span> <span class="s1">&#39;&lt;td&gt;&#39;</span><span class="o">.</span><span class="p">(</span><span class="nv">$size</span><span class="p">[</span><span class="nv">$i</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="nv">$max</span> <span class="o">?</span> <span class="nv">$columns</span><span class="p">[</span><span class="nv">$i</span><span class="p">][</span><span class="nv">$j</span><span class="p">]</span> <span class="o">:</span> <span class="s2">&quot;&amp;nbsp;&quot;</span><span class="p">)</span><span class="o">.</span><span class="s1">&#39;&lt;/td&gt;&#39;</span><span class="p">;</span>
          <span class="p">}</span>
          <span class="k">echo</span> <span class="s1">&#39;&lt;/tr&gt;&#39;</span><span class="p">;</span>
   <span class="p">}</span>
   <span class="k">echo</span> <span class="s1">&#39;&lt;/table&gt;&#39;</span><span class="p">;</span>
<span class="p">}</span>
<span class="nv">$rows</span> <span class="o">=</span> <span class="nv">$columns</span><span class="p">;</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">buildtable2(&amp;$rows)</span></code> creates a table whose rows are $row ???????. output the data is horizontally</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
 <span class="k">function</span> <span class="nf">buildtable2</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$rows</span><span class="p">)</span>
 <span class="p">{</span>
         <span class="k">echo</span> <span class="s1">&#39;&lt;table&gt;&#39;</span><span class="p">;</span>
         <span class="k">foreach</span> <span class="p">(</span><span class="nv">$rows</span> <span class="k">as</span> <span class="nv">$a</span><span class="p">)</span> <span class="p">{</span>
                 <span class="k">echo</span> <span class="s1">&#39;&lt;tr&gt;&#39;</span><span class="p">;</span>
                 <span class="k">foreach</span> <span class="p">(</span><span class="nv">$a</span> <span class="k">as</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
                         <span class="k">echo</span> <span class="s2">&quot;&lt;td&gt;</span><span class="si">$value</span><span class="s2">&lt;/td&gt;&quot;</span><span class="p">;</span>
                 <span class="p">}</span>
                 <span class="k">echo</span> <span class="s1">&#39;&lt;/tr&gt;&#39;</span><span class="p">;</span>
         <span class="p">}</span>
         <span class="k">echo</span> <span class="s1">&#39;&lt;/table&gt;&#39;</span><span class="p">;</span>
 <span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="keys-and-values">
<h2>Keys and Values<a class="headerlink" href="#keys-and-values" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">array</span> <span class="pre">array_keys()</span></code> returns an array consisting of only the keys in the array, in internal order (the order in which the elements were inserted):</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
 <span class="nv">$person</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Fred&#39;</span><span class="p">,</span> <span class="s1">&#39;age&#39;</span> <span class="o">=&gt;</span> <span class="mi">35</span><span class="p">,</span> <span class="s1">&#39;wife&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Wilma&#39;</span><span class="p">);</span>
 <span class="nv">$keys</span> <span class="o">=</span> <span class="nb">array_keys</span><span class="p">(</span><span class="nv">$person</span><span class="p">);</span>   <span class="c1">// $keys is array(&#39;name&#39;, &#39;age&#39;, &#39;wife&#39;)</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">array</span> <span class="pre">array_of_values()</span></code> is a less generally useful function to retrieve an array of just the values in an array. The values are returned in the array| &#8216;s internal order:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
 <span class="nv">$values</span> <span class="o">=</span> <span class="nb">array_values</span><span class="p">(</span><span class="nv">$person</span><span class="p">);</span>   <span class="c1">// $values is array(&#39;Fred&#39;, 35, &#39;Wilma&#39;);</span>
</pre></div>
</div>
</div>
<div class="section" id="checking-whether-an-element-exists">
<h2>Checking Whether an Element Exists<a class="headerlink" href="#checking-whether-an-element-exists" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">bool</span> <span class="pre">array_key_exists(key,</span> <span class="pre">array)</span></code> returns <code class="docutils literal"><span class="pre">TRUE</span></code> if the given key is set in the array.  key can be any value possible for an array index. <code class="docutils literal"><span class="pre">array_key_exists()</span></code>
also works on objects. <code class="docutils literal"><span class="pre">array_key_exists()</span></code> should be used in if-tests because it is dangerous to do:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="k">if</span> <span class="p">(</span><span class="nv">$person</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">])</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>    <span class="c1">// this can be misleading</span>

<span class="nv">$person</span><span class="p">[</span><span class="nx">‘name’</span><span class="p">]</span> <span class="nx">might</span> <span class="mi">0</span><span class="p">,</span> <span class="k">NULL</span><span class="p">,</span> <span class="k">or</span> <span class="nx">the</span> <span class="k">empty</span> <span class="nx">string</span><span class="p">,</span> <span class="nx">which</span> <span class="nx">will</span> <span class="nx">cause</span> <span class="nx">the</span> <span class="k">if</span><span class="o">-</span><span class="nx">test</span> <span class="nx">to</span> <span class="nx">fail</span><span class="o">.</span> <span class="nx">We</span> <span class="nx">therefore</span> <span class="nx">should</span> <span class="nx">prefer</span> <span class="nb">array_key_exists</span><span class="p">()</span><span class="o">:</span>
<span class="nv">$person</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>     <span class="c1">// unborn</span>

<span class="k">if</span> <span class="p">(</span><span class="nv">$person</span><span class="p">[</span><span class="s1">&#39;age&#39;</span><span class="p">])</span> <span class="p">{</span> <span class="c1">//</span>

  <span class="k">echo</span> <span class="s2">&quot;true!</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">if</span> <span class="p">(</span><span class="nb">array_key_exists</span><span class="p">(</span><span class="s1">&#39;age&#39;</span><span class="p">,</span> <span class="nv">$person</span><span class="p">))</span> <span class="p">{</span>
  <span class="k">echo</span> <span class="s2">&quot;exists!</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>outputs:</p>
<blockquote>
<div>exists!</div></blockquote>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$a</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="k">NULL</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">);</span>

<span class="k">function</span> <span class="nf">trueORfalse</span><span class="p">(</span><span class="nv">$v</span><span class="p">)</span>
<span class="p">{</span>
   <span class="k">return</span> <span class="nv">$v</span> <span class="o">?</span> <span class="s2">&quot;T&quot;</span> <span class="o">:</span> <span class="s2">&quot;F&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">for</span> <span class="p">(</span><span class="nv">$i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="mi">4</span><span class="p">;</span> <span class="nv">$i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>

  <span class="nb">printf</span><span class="p">(</span><span class="s2">&quot;%d: %s %s&lt;br /&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nv">$i</span><span class="p">,</span> <span class="nx">trueORfalse</span><span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$a</span><span class="p">[</span><span class="nv">$i</span><span class="p">])),</span> <span class="nx">trueORfalse</span><span class="p">(</span><span class="nb">array_key_exists</span><span class="p">(</span><span class="nv">$i</span><span class="p">,</span> <span class="nv">$a</span><span class="p">)));</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The first column is the index. The second is the result of calling isset() on the element. The third is array_key_exists():</p>
<blockquote>
<div>0: T T
1: F T   // NULL fails isset() but not array_key_exists()
2: T T
3: F F</div></blockquote>
<p><cite>http://www.alternateinterior.com/2006/11/comparing-array_key_exists-with-isset.html</cite> explains that it is faster to use <code class="docutils literal"><span class="pre">isset()</span></code> than <code class="docutils literal"><span class="pre">array_key_exists()</span></code>, and
argues it is therefore better to avoid using NULL as a valid array elements.</p>
</div>
<div class="section" id="removing-and-inserting-elements-in-an-array">
<h2>Removing and Inserting Elements in an Array<a class="headerlink" href="#removing-and-inserting-elements-in-an-array" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">array</span> <span class="pre">array_splice(array</span> <span class="pre">&amp;$input</span> <span class="pre">,</span> <span class="pre">int</span> <span class="pre">$offset</span> <span class="pre">[,int</span> <span class="pre">$length</span> <span class="pre">[,mixed</span> <span class="pre">$replacement</span> <span class="pre">]])</span></code> removes the elements designated by offset and length from the input array, and replaces them with the elements of the replacement array, if supplied. It returns the array consisting of the extracted elements . Numeric keys in input are not preserved.  If offset is positive, then the start of removed portion is at that offset from the beginning of the input array. For example:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
 <span class="nv">$subjects </span><span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;physics&quot;</span><span class="p">,</span> <span class="s2">&quot;chem&quot;</span><span class="p">,</span> <span class="s2">&quot;math&quot;</span><span class="p">,</span> <span class="s2">&quot;bio&quot;</span><span class="p">,</span> <span class="nx">“cs”</span><span class="p">,</span> <span class="nx">“drama”</span><span class="p">,</span> <span class="nx">“classics”</span><span class="p">);</span>
</pre></div>
</div>
<p>We can remove the math, bio, and cs elements by telling array_splice() to start at position 2 and remove 3 elements:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
 <span class="nv">$removed</span> <span class="o">=</span> <span class="nb">array_splice</span><span class="p">(</span><span class="nv">$subjects</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="c1">// remove 3 elements starting with index 2</span>
 <span class="c1">// $removed is (&quot;math&quot;, “bio”, “cs”)</span>
 <span class="c1">// subjects is array(‘physics’, “chem”, “drama”, “classics”)</span>

 <span class="nv">$colors </span><span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;yellow&quot;</span><span class="p">,</span> <span class="nx">“violet”</span><span class="p">,</span> <span class="nx">“pink”</span><span class="p">);</span>
 <span class="nv">$removed</span> <span class="o">=</span> <span class="nb">array_splice</span><span class="p">(</span><span class="nv">$colors</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="c1">// remove 3 elements starting with index 1</span>
 <span class="c1">// $removed is now array(“green”, “blue”, “yellow”)</span>
 <span class="c1">// $colors is now array(&quot;red&quot;, “violet”, “pink”)</span>
</pre></div>
</div>
<p>If you omit the length, array_splice() removes from the offset to the end of the array:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
 <span class="nv">$removed</span> <span class="o">=</span> <span class="nb">array_splice</span><span class="p">(</span><span class="nv">$subjects</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span> <span class="c1">// remove from index 2 to end of array</span>

 <span class="c1">// $removed is (&quot;math&quot;, “bio”, “cs”, “drama”, “classics”)</span>
 <span class="c1">// $subjects is array(“physics”, “chem”)</span>
</pre></div>
</div>
<p>If you simply want to delete the elements and you don&#8216;t care about their values, you don&#8216;t need to assign the results of array_splice():</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nb">array_splice</span><span class="p">(</span><span class="nv">$colors</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>
<span class="c1">// $colors is now array(&quot;red&quot;, &quot;green&quot;)</span>
</pre></div>
</div>
<p>If offset is negative, the removal starts that far from the end of the input array, where -1 corresponds to the last element, -2 to the next to last,  and so on. Thus:
<code class="docutils literal"><span class="pre">array_splice($colors,</span> <span class="pre">-3,</span> <span class="pre">2)</span></code> removes two elements starting with the third element from the end. <code class="docutils literal"><span class="pre">$colors</span></code> is now <code class="docutils literal"><span class="pre">array(“red”,</span> <span class="pre">“green”,</span> <span class="pre">“blue”,</span> <span class="pre">“pink”)</span></code></p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">i   </span><span class="cp">&lt;?php</span>
   <span class="nb">array_splice</span><span class="p">(</span><span class="nv">$colors</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
   <span class="c1">// $colors is now array(“red”, “green”, “blue”, “yellow”, “pink”)</span>
   <span class="nb">array_splice</span><span class="p">(</span><span class="nv">$colors</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
   <span class="c1">// $colors is now array(&quot;red”, “green”, “blue”, “yellow”, “violet”)</span>
   <span class="nb">array_splice</span><span class="p">(</span><span class="nv">$colors</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">);</span> <span class="c1">// removed all elements from the third element from the end.</span>
   <span class="c1">// $colors is now array(&quot;red”, “green”, “blue”)</span>
</pre></div>
</div>
<p>A negative length is equivalent to <code class="docutils literal"><span class="pre">array_splice($input,</span> <span class="pre">$offset,</span> <span class="pre">count($input)–$offset+$length))</span></code>. For example, if length is -1, everything from offset up to (but excluding) the last element will be removed. If length is -2, the last two elements are kept, but everything up to this will be removed. Using a negative length means: remove from $offset
up to the $length element from the end.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$colors </span><span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;yellow&quot;</span><span class="p">,</span> <span class="nx">“violet”</span><span class="p">,</span> <span class="nx">“pink”</span><span class="p">);</span>
<span class="nb">array_splice</span><span class="p">(</span><span class="nv">$colors</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">);</span> <span class="c1">// equivalent to array_splice($colors, 1, 3)</span>
 <span class="c1">// $colors is now array(&quot;red&quot;, &quot;violet”, “pink”)</span>
<span class="nb">array_splice</span><span class="p">(</span><span class="nv">$colors</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>  <span class="c1">// equivalent to array_splice($colors, 2, 3);</span>
<span class="c1">// $colors is now array(&quot;red&quot;, &quot;green”, “pink”)</span>
</pre></div>
</div>
<p>To insert elements where others were removed, use the fourth argument.  (If the replacement array is just one element, array() doesn’t have to be used, unless the element is an array itself).</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$colors </span><span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;yellow&quot;</span><span class="p">);</span>
<span class="nb">array_splice</span><span class="p">(</span><span class="nv">$colors</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$colors</span><span class="p">),</span> <span class="s2">&quot;orange&quot;</span><span class="p">);</span>
<span class="c1">// $colors is now array(&quot;red&quot;, &quot;orange&quot;)</span>

<span class="nv">$colors </span><span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;yellow&quot;</span><span class="p">);</span>
<span class="nb">array_splice</span><span class="p">(</span><span class="nv">$colors</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;black&quot;</span><span class="p">,</span> <span class="s2">&quot;maroon&quot;</span><span class="p">));</span>
<span class="c1">// $colors is now array(&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;black&quot;, &quot;maroon&quot;)</span>
</pre></div>
</div>
<p>The size of the replacement array doesn&#8216;t have to be the same as the number of elements you delete. The array grows or shrinks as needed:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$subjects </span><span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;physics&quot;</span><span class="p">,</span> <span class="s2">&quot;chem&quot;</span><span class="p">,</span> <span class="s2">&quot;math&quot;</span><span class="p">,</span> <span class="s2">&quot;bio&quot;</span><span class="p">,</span> <span class="nx">“cs”</span><span class="p">,</span> <span class="nx">“drama”</span><span class="p">,</span> <span class="nx">“classics”</span><span class="p">);</span>
<span class="nv">$new </span><span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;law&quot;</span><span class="p">,</span> <span class="s2">&quot;business&quot;</span><span class="p">,</span> <span class="s2">&quot;IS&quot;</span><span class="p">);</span>
<span class="nv">$removed</span> <span class="o">=</span> <span class="nb">array_splice</span><span class="p">(</span><span class="nv">$subjects</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="nv">$new</span><span class="p">);</span>
<span class="c1">// $subjects is now array(&quot;physics”, “chem”, “law”, “business”, “IS”, “classics”)</span>
<span class="c1">// $removed is array(&quot;math&quot;, &quot;bio&quot;, “cs”, “drama”)</span>
</pre></div>
</div>
<p>To get the effect of inserting new elements into the array, delete zero elements. The inserted elements are placed before offset. Keys in the replacement array will not be preserved. array_splice($a1, $offset, 0, $replace) is thus an idiom for
inserting elements into an existing array.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$colors </span><span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="s2">&quot;green&quot;</span><span class="p">,</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span> <span class="s2">&quot;yellow&quot;</span><span class="p">);</span>
<span class="nb">array_splice</span><span class="p">(</span><span class="nv">$colors</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;purple&quot;</span><span class="p">);</span>
<span class="c1">// idiom for how to insert elements using array_splice(): set value to delete to 0.</span>
<span class="c1">// $colors is now array(&quot;red&quot;, &quot;green&quot;, &quot;blue&quot;, &quot;purple&quot;, &quot;yellow&quot;);</span>
</pre></div>
</div>
<p>Although the examples so far have used an indexed array, array_splice() also works on associative arrays:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$capitals </span><span class="o">=</span> <span class="k">array</span> <span class="p">(</span> <span class="s2">&quot;USA&quot;</span>  <span class="o">=&gt;</span> <span class="s2">&quot;Washington&quot;</span><span class="p">,</span> <span class="s2">&quot;Great Britain&quot;</span><span class="o">=&gt;</span> <span class="s2">&quot;London&quot;</span><span class="p">,</span> <span class="s2">&quot;New Zealand&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Wellington&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Australia&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Canberra&quot;</span><span class="p">,</span> <span class="s2">&quot;Italy&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Rome&quot;</span><span class="p">);</span>
<span class="p">);</span>

<span class="nv">$down_under</span> <span class="o">=</span> <span class="nb">array_splice</span><span class="p">(</span><span class="nv">$capitals</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>  <span class="c1">// Remove New Zealand and Australia</span>
<span class="nv">$france</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;France&quot;</span>  <span class="o">=&gt;</span> <span class="s2">&quot;Paris&quot;</span><span class="p">);</span>
<span class="nb">array_splice</span><span class="p">(</span><span class="nv">$capitals</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nv">$france</span><span class="p">);</span>     <span class="c1">// insert France between USA and G.B.</span>
<span class="c1">// $capitals is: array([USA] =&gt; Washington [0] =&gt; Paris [Great Britain] =&gt; London [Italy] =&gt; Rome )</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">array</span> <span class="pre">array_pad(array</span> <span class="pre">$input,</span> <span class="pre">int</span> <span class="pre">$pad_size</span> <span class="pre">,</span> <span class="pre">mixed</span> <span class="pre">$pad_value)</span></code></p>
<p>returns a copy of the input padded to (increased to) the size specified by pad_size, padded with pad_value. If pad_size is positive then the array is padded on the right,
if it&#8216;s negative then on the left. If the absolute value of pad_size is less than or equal to the length of the input then no padding takes place.</p>
<div class="highlight-cpp"><div class="highlight"><pre>&lt;?php
$input = array(12, 10, 9);

$result = array_pad($input, 5, 0);
// result is array(12, 10, 9, 0, 0)

$result = array_pad($input, -7, -1);
// result is array(-1, -1, -1, -1, 12, 10, 9)

$result = array_pad($input, 2, &quot;noop&quot;);
// not padded
</pre></div>
</div>
<p>If you pad an associative array, existing keys will be preserved. New elements will have numeric keys starting at 0.</p>
<p>array array_fill (int $start_index, int $num, mixed $value)</p>
<p>Fills an array with num entries of the value of the value parameter, keys starting at the start_index parameter.  Returns the filled array.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$a </span><span class="o">=</span> <span class="nb">array_fill</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">);</span>
<span class="nv">$b </span><span class="o">=</span> <span class="nb">array_fill</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;pear&#39;</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$a</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$b</span><span class="p">);</span>
</pre></div>
</div>
<p>outputs:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$a </span><span class="o">=</span> <span class="nb">array_fill</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="s1">&#39;banana&#39;</span><span class="p">);</span>
<span class="nv">$b </span><span class="o">=</span> <span class="nb">array_fill</span><span class="p">(</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;pear&#39;</span><span class="p">);</span>
<span class="k">Array</span>
<span class="p">(</span>
    <span class="p">[</span><span class="mi">5</span><span class="p">]</span>  <span class="o">=&gt;</span> <span class="nx">banana</span>
    <span class="p">[</span><span class="mi">6</span><span class="p">]</span>  <span class="o">=&gt;</span> <span class="nx">banana</span>
    <span class="p">[</span><span class="mi">7</span><span class="p">]</span>  <span class="o">=&gt;</span> <span class="nx">banana</span>
    <span class="p">[</span><span class="mi">8</span><span class="p">]</span>  <span class="o">=&gt;</span> <span class="nx">banana</span>
    <span class="p">[</span><span class="mi">9</span><span class="p">]</span>  <span class="o">=&gt;</span> <span class="nx">banana</span>
    <span class="p">[</span><span class="mi">10</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">banana</span>
<span class="p">)</span>
<span class="k">Array</span>
<span class="p">(</span>
    <span class="p">[</span><span class="o">-</span><span class="mi">2</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">pear</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">pear</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="converting-between-arrays-and-variables">
<h2>Converting Between Arrays and Variables<a class="headerlink" href="#converting-between-arrays-and-variables" title="Permalink to this headline">¶</a></h2>
<div class="section" id="creating-variables-from-an-array">
<h3>Creating Variables from an Array<a class="headerlink" href="#creating-variables-from-an-array" title="Permalink to this headline">¶</a></h3>
<p>The extract() function automatically creates local variables from an array. The indexes of the array elements are the variable names:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$var_array </span><span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;color&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;blue&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;size&quot;</span>  <span class="o">=&gt;</span> <span class="s2">&quot;medium&quot;</span><span class="p">,</span>
                   <span class="s2">&quot;shape&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;sphere&quot;</span><span class="p">);</span>

<span class="nb">extract</span><span class="p">(</span><span class="nv">$var_array</span><span class="p">);</span>
</pre></div>
</div>
<p>This will create the variables $color, $size, and $shape. If a variable created by the extraction has the same name as an existing one, the extracted variable overwrites the existing variable. You can modify extract()&#8216;s behavior by passing a second argument. The function reference (at PHP.net) describes the possible values for this second argument. The most useful value is EXTR_PREFIX_SAME, which says that the third argument to extract() is a prefix for the variable names that are created. This helps ensure that you create unique variable names when you use extract(). It is good PHP style to always use EXTR_PREFIX_SAME, as shown here:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$shape</span> <span class="o">=</span> <span class="s2">&quot;round&quot;</span><span class="p">;</span>
<span class="nv">$array</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;cover&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;bird&quot;</span><span class="p">,</span> <span class="s2">&quot;shape&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;rectangular&quot;</span><span class="p">);</span>
<span class="nb">extract</span><span class="p">(</span><span class="nv">$array</span><span class="p">,</span> <span class="nx">EXTR_PREFIX_SAME</span><span class="p">,</span> <span class="s2">&quot;book&quot;</span><span class="p">);</span>   <span class="c1">// prefixes only variables when there is a name collison</span>
<span class="k">echo</span> <span class="s2">&quot;Cover: </span><span class="si">$cover</span><span class="s2">, Book Shape: </span><span class="si">$book_shape</span><span class="s2">, Shape: </span><span class="si">$shape</span><span class="s2">&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>ouputs:</p>
<blockquote>
<div>Cover: bird, Book Shape: rectangular, Shape: round</div></blockquote>
<div class="highlight-cpp"><div class="highlight"><pre>&lt;?php
$shape = &quot;round&quot;;
$array = array(&quot;cover&quot; =&gt; &quot;bird&quot;, &quot;shape&quot; =&gt; &quot;rectangular&quot;);
extract($array, EXTR_PREFIX_ALL, &quot;book&quot;);        // unconditionally prefixes all variables
echo &quot;Cover: $book_cover, Book Shape: $book_shape, Shape: $shape&quot;;
</pre></div>
</div>
<p>outputs:</p>
<blockquote>
<div>Cover: bird, Book Shape: rectangular, Shape: round</div></blockquote>
</div>
</div>
<div class="section" id="creating-an-array-from-a-variable">
<h2>Creating an Array from a Variable<a class="headerlink" href="#creating-an-array-from-a-variable" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">compact()</span></code>, and its opposite <code class="docutils literal"><span class="pre">extract()</span></code>, create an associative array whose keys are the variable names and whose values are the variable&#8216;s values. Any names in the array that do not correspond to actual variables are skipped. Here&#8216;s an example of <code class="docutils literal"><span class="pre">compact()</span></code> in action:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="x">$color = &#39;indigo&#39;;</span>
<span class="x">$shape = &#39;curvy&#39;;</span>
<span class="x">$floppy = &#39;none&#39;;</span>

<span class="x">$a = compact(&#39;color&#39;, &#39;shape&#39;, &#39;floppy&#39;);</span>
<span class="x">// or</span>
<span class="x">$names = array(&#39;color&#39;, &#39;shape&#39;, &#39;floppy&#39;);</span>
<span class="x">$a = compact($names);</span>
<span class="x">foreach($a as $key =&gt; $val) {</span>
<span class="x">        print(“[$key] =&gt; $val&lt;br /&gt;”);</span>
<span class="x">}</span>
</pre></div>
</div>
<p>outputs:</p>
<div class="highlight-python"><div class="highlight"><pre>[color] =&gt; indigo
[shape] =&gt; curvy
[floppy] =&gt; none
</pre></div>
</div>
<p>Compact is also handy for debugging, to quickly show a bunch of variables and their values. We first use explode()to create an array and then hand it off to compact():</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$count</span> <span class="o">=</span> <span class="mi">70</span><span class="p">;</span>
<span class="nv">$acw</span> <span class="o">=</span> <span class="mi">9</span><span class="p">;</span>
<span class="nv">$cols</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
<span class="nv">$coldepth</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

<span class="nb">print_r</span><span class="p">(</span><span class="nb">compact</span><span class="p">(</span><span class="nb">explode</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;count acw cols coldepth&#39;</span><span class="p">)));</span>
</pre></div>
</div>
<p>gives:</p>
<div class="highlight-python"><div class="highlight"><pre>Array
(
    [count] =&gt; 70
    [acw] =&gt; 9
    [cols] =&gt; 7
    [coldepth] =&gt; 10
)
</pre></div>
</div>
</div>
<div class="section" id="traversing-arrays">
<h2>Traversing Arrays<a class="headerlink" href="#traversing-arrays" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-foreach-construct">
<h3>The foreach Construct<a class="headerlink" href="#the-foreach-construct" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal"><span class="pre">foreach()</span></code> returns are copies of array elements; however, you can easily modify an array&#8216;s elements by returning a reference. This allows you to modify the array:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$arr </span><span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">);</span>
<span class="k">foreach</span> <span class="p">(</span><span class="nv">$arr as </span><span class="o">&amp;</span><span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>  <span class="c1">// when &amp; precedes $value a reference is returned.</span>
    <span class="nv">$value </span><span class="o">=</span> <span class="nv">$value </span><span class="o">*</span> <span class="mi">2</span><span class="p">;</span>     <span class="c1">// assigning it changing the corresponding array element</span>
<span class="p">}</span>
<span class="c1">// $arr is now array(2, 4, 6, 8)</span>
<span class="nb">unset</span><span class="p">(</span><span class="nv">$value</span><span class="p">);</span> <span class="c1">// break the reference with the last element</span>
</pre></div>
</div>
<p>Because the reference of $value to the last element will remain after the loop ends, we must destroy it using unset().</p>
</div>
</div>
<div class="section" id="iterator-functions">
<h2>Iterator functions<a class="headerlink" href="#iterator-functions" title="Permalink to this headline">¶</a></h2>
<p>In PHP every array has an internal iterator that tracks the current element.  The iterator functions are:</p>
<ul class="simple">
<li>current()     returns the element currently pointed at by the iterator. It does not advance the internal iterator.</li>
<li>reset()       moves the iterator to the first element in the array and returns it</li>
<li>next()        moves the iterator to the next element in the array and returns it</li>
<li>prev()        moves the iterator to the previous element in the array and returns it</li>
<li>end()         moves the iterator to the last element in the array and returns it</li>
<li>each()        returns the key and value of the current element as an array and moves the iterator to the next element in the array</li>
<li>key()         returns the key of the current element</li>
<li>each() can be used to loop over the elements of an array using the internal iterator. It returns in a four-element associtive array, with keys of 0, 1, key, and value.  Elements 0 and key contain the key name of the array element, and 1 and value contain the data. For example:</li>
</ul>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$foo </span><span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;bob&quot;</span><span class="p">,</span> <span class="s2">&quot;fred&quot;</span><span class="p">,</span> <span class="s2">&quot;jussi&quot;</span><span class="p">,</span> <span class="s2">&quot;jouni&quot;</span><span class="p">,</span> <span class="s2">&quot;egon&quot;</span><span class="p">,</span> <span class="s2">&quot;marliese&quot;</span><span class="p">);</span>
<span class="nv">$bar </span><span class="o">=</span> <span class="nb">each</span><span class="p">(</span><span class="nv">$foo</span><span class="p">);</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$bar</span><span class="p">);</span>
</pre></div>
</div>
<p>outputs:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="k">Array</span>
<span class="p">(</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">bob</span>
    <span class="p">[</span><span class="nx">value</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">bob</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">0</span>
    <span class="p">[</span><span class="nb">key</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="mi">0</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
    <span class="nv">$foo </span><span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;Robert&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="s2">&quot;Seppo&quot;</span> <span class="o">=&gt;</span> <span class="s2">&quot;Sepi&quot;</span><span class="p">);</span>
    <span class="nv">$bar </span><span class="o">=</span> <span class="nb">each</span><span class="p">(</span><span class="nv">$foo</span><span class="p">);</span>
    <span class="nb">print_r</span><span class="p">(</span><span class="nv">$bar</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="k">Array</span>
<span class="p">(</span>
    <span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">Bob</span>
    <span class="p">[</span><span class="nx">value</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">Bob</span>
    <span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">Robert</span>
    <span class="p">[</span><span class="nb">key</span><span class="p">]</span> <span class="o">=&gt;</span> <span class="nx">Robert</span>
<span class="p">)</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">each()</span></code> is typically used in conjunction with <code class="docutils literal"><span class="pre">list()</span></code> to traverse an array. For example:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$fruit </span><span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;a&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;apple&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;banana&#39;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;cranberry&#39;</span><span class="p">);</span>

<span class="nb">reset</span><span class="p">(</span><span class="nv">$fruit</span><span class="p">);</span>
<span class="k">while</span> <span class="p">(</span><span class="k">list</span><span class="p">(</span><span class="nv">$key</span><span class="p">,</span> <span class="nv">$val</span><span class="p">)</span> <span class="o">=</span> <span class="nb">each</span><span class="p">(</span><span class="nv">$fruit</span><span class="p">))</span> <span class="p">{</span> <span class="c1">// each() advances internal iterator</span>
    <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">$key </span><span class="s2">=&gt; </span><span class="si">$val\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>ouptputs:</p>
<blockquote>
<div>a =&gt; apple
b =&gt; banana
c =&gt; cranberry</div></blockquote>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$addresses</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;spam@cyberpromo.net&#39;</span><span class="p">,</span> <span class="s1">&#39;abuse@example.com&#39;</span><span class="p">);</span>
    <span class="c1">//. . .</span>
<span class="nb">reset</span><span class="p">(</span><span class="nv">$addresses</span><span class="p">);</span>

<span class="k">while</span> <span class="p">(</span><span class="k">list</span><span class="p">(</span><span class="nv">$key</span><span class="p">,</span> <span class="nv">$value</span><span class="p">)</span> <span class="o">=</span> <span class="nb">each</span><span class="p">(</span><span class="nv">$addresses</span><span class="p">))</span> <span class="p">{</span>

  <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">$key</span><span class="s2"> is </span><span class="si">$value</span><span class="s2">&lt;br /&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>0 is <a class="reference external" href="mailto:spam&#37;&#52;&#48;cyberpromo&#46;net">spam<span>&#64;</span>cyberpromo<span>&#46;</span>net</a>
1 is <a class="reference external" href="mailto:abuse&#37;&#52;&#48;example&#46;com">abuse<span>&#64;</span>example<span>&#46;</span>com</a></p>
<p>You should not assign the array being traversed by each() to another array within the each-loop. This will reset the internal iterator, resulting in an infinite loop. If the internal pointer for the array points past the end of the array contents, each() returns FALSE, and you must call reset() after traversing the array to reset the internal iterator.
Calling a Function for Each Array Element
array_walk()
bool array_walk(array &amp;$array , callback $funcname [, mixed $userdata ]) applies a user-defined function to each element of the array. array_walk() is not affected by the internal array pointer of array. array_walk() will walk through the entire array regardless of pointer position. The function you define takes in two or, optionally, three arguments: the element&#8217;s value, the element&#8217;s key, and the third is a value supplied to array_walk() when it is called. If the first paramter of the callback function takes a reference, the values of the array can be changed.
array_walk() is like C++ for_each().  But the functor for_each() only receives the element, not the element and its key (plus an optional third parameter). So for_each() is more similar to array_map().  In fact, you can pass a functor of sorts to array walk by passing a class instance and a member function. This will be explained toward the end of the discussion.
In this example, array_walk() is used to build table columns from the contents of an associative array:
$person = array(&#8216;name&#8217; =&gt; &#8216;Fred&#8217;, &#8216;age&#8217; =&gt; 35, &#8216;wife&#8217; =&gt; &#8216;Wilma&#8217;);</p>
<p>function print_row($value, $key) {</p>
<blockquote>
<div>print(&#8220;&lt;tr&gt;&lt;td&gt;$value&lt;/td&gt;&lt;td&gt;$key&lt;/td&gt;&lt;/tr&gt;n&#8221;);</div></blockquote>
<p>}
echo &#8216;&lt;table&gt;&#8217;;
array_walk($person, &#8216;print_row&#8217;);
echo &#8216;&lt;/table&gt;&#8217;;
Notice that the key is passed as the second parameter to the callback and the value as the first parameter. A variation of this example specifies a background color using the optional third argument to array_walk(). This parameter gives us the flexibility we need to print many tables, with many background colors:
$person = array(&#8216;name&#8217; =&gt; &#8216;Fred&#8217;, &#8216;age&#8217; =&gt; 35, &#8216;wife&#8217; =&gt; &#8216;Wilma&#8217;);</p>
<p>function&nbsp;print_row($value,&nbsp;$key,&nbsp;$color)
{
&nbsp;&nbsp;&nbsp;&nbsp;print(&#8220;&lt;tr&gt;&lt;td bgcolor=$color&gt;$value&lt;/td&gt;&lt;td bgcolor=$color&gt;$key&lt;/td&gt;&lt;/tr&gt;n&#8221;);
}</p>
<p>echo &#8216;&lt;table&gt;&#8217;;
array_walk($person, &#8216;print_row&#8217;, &#8216;blue&#8217;);
echo &#8216;&lt;/table&gt;&#8217;;
If callback() needs to change the actual values of the array, specify the first parameter as a reference. Then, any changes made to those elements will be made in the original array itself. For example:
$fruits&nbsp;=&nbsp;array(&#8220;d&#8221;&nbsp;=&gt;&nbsp;&#8220;lemon&#8221;,&nbsp;&#8220;a&#8221;&nbsp;=&gt;&nbsp;&#8220;orange&#8221;,&nbsp;&#8220;b&#8221;&nbsp;=&gt;&nbsp;&#8220;banana&#8221;,&nbsp;&#8220;c&#8221;&nbsp;=&gt;&nbsp;&#8220;apple&#8221;);</p>
<p>function&nbsp;test_alter(&amp;$item1,&nbsp;$key,&nbsp;$prefix) // using a reference allows us to change values in the array
{
&nbsp;&nbsp;&nbsp;&nbsp;$item1&nbsp;=&nbsp;&#8221;$prefix:&nbsp;$item1&#8221;;
}</p>
<p>function&nbsp;test_print($item2,&nbsp;$key)
{
&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&#8221;$key.&nbsp;$item2&lt;br&nbsp;/&gt;n&#8221;;
}</p>
<p>echo&nbsp;&#8220;Before&nbsp;...:n&#8221;;
array_walk($fruits,&nbsp;&#8216;test_print&#8217;);</p>
<p>array_walk($fruits,&nbsp;&#8216;test_alter&#8217;,&nbsp;&#8216;fruit&#8217;);
echo&nbsp;&#8221;...&nbsp;and&nbsp;after:n&#8221;;</p>
<p>array_walk($fruits,&nbsp;&#8216;test_print&#8217;);
Before ...:
d. lemon
a. orange
b. banana
c. apple
... and after:
d. fruit: lemon
a. fruit: orange
b. fruit: banana
c. fruit: apple</p>
<p>All the array traversal functions will accept a class method as a callback. The second parameter must be an array with two elements. If the class method is static, then the array would contain: the name of the class, followed by the name of the static method. If the method is not static, the array would contain: a class instance, followed by the name of the class method.</p>
<p>For example, give a class with a static display() method that echos the input value:</p>
<dl class="docutils">
<dt>class Show {</dt>
<dd><p class="first">public static function display(&amp;$value, $key)
{</p>
<blockquote>
<div>echo &#8216;&lt;p&gt;the value is &#8216;.$value.&#8217;&lt;/p&gt;&#8217;;</div></blockquote>
<p class="last">}</p>
</dd>
</dl>
<p>}
$numbers = range(1, 10);
array_walk($numbers,array(&#8220;Show&#8221;, &#8220;display&#8221;));</p>
<p>If the class method is not static, instantiate an object and pass it:</p>
<p>class Sum {</p>
<blockquote>
<div><p>private $sum;
function __construct()  { $sum = 0;}</p>
<p>public function sum($value) {   $this-&gt;sum += $value;  }</p>
<p>public function display()       {  echo &#8220;sum is &#8221;.$this-&gt;sum.&#8217;&lt;br /&gt;&#8217;;  }</p>
</div></blockquote>
<p>}</p>
<p>$numbers = range(1, 10);
$sum = new Sum();
array_walk($numbers, array($sum, &#8220;sum&#8221;));
$sum-&gt;display();
echo &#8220;&lt;hr /&gt;&#8221;;</p>
<p>Here is the table builder example again. This time we use array_walk() together with a class method:</p>
<p>echo “&lt;p&gt;example two&lt;/p&gt;”;</p>
<dl class="docutils">
<dt>class Tablebuilder {</dt>
<dd><blockquote class="first">
<div>private $table;
function __construct()  {}
public function build($value, $key)</div></blockquote>
<dl class="docutils">
<dt>{</dt>
<dd>$this-&gt;table .= &#8220;&lt;tr&gt;&lt;td&gt;$key&lt;/td&gt;&lt;td&gt;$value&lt;/td&gt;&lt;/tr&gt;n&#8221;;</dd>
</dl>
<p>}
public function display()
{</p>
<blockquote>
<div>echo &#8220;&lt;table&gt;&lt;tr&gt;&lt;th&gt;Value&lt;/th&gt;&lt;th&gt;Key&lt;/th&gt;&lt;/tr&gt;&#8221;.$this-&gt;table.&#8217;&lt;/table&gt;&#8217;;</div></blockquote>
<p class="last">}</p>
</dd>
</dl>
<p>};
$fruits = array(&#8220;d&#8221; =&gt; &#8220;lemon&#8221;, &#8220;a&#8221; =&gt; &#8220;orange&#8221;, &#8220;b&#8221; =&gt; &#8220;banana&#8221;, &#8220;c&#8221; =&gt; &#8220;apple&#8221;);
$tb = new TableBuilder();
array_walk($fruits, array($tb, &#8220;build&#8221;));
$tb-&gt;display()
array_reduce()
A cousin of array_walk(), array_reduce(), applies a function to each element of the array in turn, to build a single value:
$result array_reduce ( array $input , callback $function [, int $initial ] )
array_reduce() is similar to the C++ accumulate() function found in &lt;numeric&gt;. If the array is empty and initial is not passed, array_reduce() returns NULL. The callback takes two parameters. The first is the result-in-progress (or “acumulator”) value being assembled. If you supply an $initial value, the accumulator will start with this value; otherwise, it starts as NULL (so be careful). The second parameter is the current value of the array being visited.  The return value of the callback will become the new value passed as the first parameter. When the array is exhausted, array_reduce() returns this accumulated value.
If you were to write a  PHP function that mimiced array_reduce()it might therefore look something like this (less details like error checking and so on):</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
 <span class="k">function</span> <span class="nf">array_reduce</span><span class="p">(</span><span class="nv">$array</span><span class="p">,</span> <span class="nv">$callback</span><span class="p">,</span> <span class="nv">$initial</span><span class="o">=</span><span class="k">null</span><span class="p">)</span>
 <span class="p">{</span>
     <span class="nv">$acc</span> <span class="o">=</span> <span class="nv">$initial</span><span class="p">;</span>
     <span class="k">foreach</span><span class="p">(</span><span class="nv">$array</span> <span class="k">as</span> <span class="nv">$a</span><span class="p">)</span>
         <span class="nv">$acc</span> <span class="o">=</span> <span class="nv">$callback</span><span class="p">(</span><span class="nv">$acc</span><span class="p">,</span> <span class="nv">$a</span><span class="p">);</span>
     <span class="k">return</span> <span class="nv">$acc</span><span class="p">;</span>
 <span class="p">}</span>
 <span class="cp">?&gt;</span><span class="x"></span>
</pre></div>
</div>
<p>This example, which adds up the squares of the values of an array, demonstrates the operation of array_reduce:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
 <span class="k">function</span> <span class="nf">add_up</span> <span class="p">(</span><span class="nv">$running_total</span><span class="p">,</span> <span class="nv">$current_value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nv">$running_total</span> <span class="o">===</span> <span class="k">NULL</span><span class="p">)</span> <span class="p">{</span>
           <span class="k">print</span><span class="p">(</span><span class="s2">&quot;add_up(NULL, </span><span class="si">$current_value</span><span class="s2">)&quot;</span><span class="p">);</span>
   <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
         <span class="k">print</span><span class="p">(</span><span class="s2">&quot;add_up(</span><span class="si">$running_total</span><span class="s2">, </span><span class="si">$current_value</span><span class="s2">)&quot;</span><span class="p">);</span>
   <span class="p">}</span>

   <span class="nv">$running_total</span> <span class="o">+=</span> <span class="nv">$current_value</span> <span class="o">*</span> <span class="nv">$current_value</span><span class="p">;</span>

   <span class="k">echo</span> <span class="s2">&quot;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;returns&amp;nbsp;</span><span class="si">$running_total</span><span class="s2">&lt;br /&gt;&quot;</span><span class="p">;</span>

   <span class="k">return</span> <span class="nv">$running_total</span><span class="p">;</span>
 <span class="p">}</span>

 <span class="nv">$numbers</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">);</span>
 <span class="nv">$total</span> <span class="o">=</span> <span class="nb">array_reduce</span><span class="p">(</span><span class="nv">$numbers</span><span class="p">,</span> <span class="s1">&#39;add_up&#39;</span><span class="p">);</span>

 <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Total = </span><span class="si">$total</span><span class="s2">&quot;</span><span class="p">);</span><span class="c1">// $total is now 87</span>
</pre></div>
</div>
<p>The output from array_reduce() will be:</p>
<blockquote>
<div>add_up(NULL, 2)  returns 4
add_up(4, 3)     returns 13
add_up(13, 5)    returns 38
add_up(38, 7)    returns 87</div></blockquote>
<p>A second example</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
 <span class="k">function</span> <span class="nf">add_up</span><span class="p">(</span><span class="nv">$running_total</span><span class="p">,</span> <span class="nv">$current_value</span><span class="p">)</span>
 <span class="p">{</span>
   <span class="nv">$running_total</span> <span class="o">+=</span> <span class="nv">$current_value</span><span class="p">;</span>
   <span class="k">return</span> <span class="nv">$running_total</span><span class="p">;</span>
 <span class="p">}</span>

 <span class="nv">$total</span> <span class="o">=</span> <span class="nb">array_reduce</span><span class="p">(</span><span class="nv">$numbers</span><span class="p">,</span> <span class="s1">&#39;add_up&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
 <span class="k">echo</span> <span class="s2">&quot;The total is </span><span class="si">$total</span><span class="s2">&lt;br /&gt;&quot;</span><span class="p">;</span>
</pre></div>
</div>
<p>If the array is empty, array_reduce() returns the default value, the third parameter. If no default value is given and the array is empty, array_reduce() returns NULL. Using a class method doesn’t seem to offer much benefit (that I can see), though one can put several static methods in a class that can be reused for various ‘reductions’.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
 <span class="k">class</span> <span class="nc">Reductions</span> <span class="p">{</span>
         <span class="k">static</span> <span class="nv">$initial</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">sum</span><span class="p">(</span><span class="nv">$running_total</span><span class="p">,</span> <span class="nv">$value</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="k">return</span> <span class="nv">$running_total</span> <span class="o">+=</span> <span class="nv">$value</span><span class="p">;</span>
      <span class="k">return</span> <span class="nv">$running_total</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">multi</span><span class="p">(</span><span class="nv">$accum</span><span class="p">,</span> <span class="nv">$value</span><span class="p">)</span>
    <span class="p">{</span>
            <span class="nv">$accum</span> <span class="o">*=</span> <span class="nv">$value</span><span class="p">;</span>
            <span class="k">return</span> <span class="nv">$accum</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">public</span> <span class="k">static</span> <span class="k">function</span> <span class="nf">multi_debug</span><span class="p">(</span><span class="nv">$accum</span><span class="p">,</span> <span class="nv">$value</span><span class="p">)</span>
    <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nx">self</span><span class="o">::</span><span class="nv">$initial</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
                    <span class="nx">self</span><span class="o">::</span><span class="nv">$initial</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
                    <span class="k">echo</span> <span class="s1">&#39;&lt;table&gt;&lt;tr&gt;&lt;th&gt;1st param&amp;nbsp;&lt;/th&gt;&lt;th&gt;&amp;nbsp;2nd param&lt;/th&gt;&lt;/tr&gt;&#39;</span><span class="p">;</span>
            <span class="p">}</span>
            <span class="nb">printf</span><span class="p">(</span><span class="s2">&quot;&lt;tr&gt;&lt;td&gt;%d&lt;/td&gt;&lt;td&gt;%2d&lt;/td&gt;&lt;/tr&gt;&quot;</span><span class="p">,</span> <span class="nv">$accum</span><span class="p">,</span> <span class="nv">$value</span><span class="p">);</span>
            <span class="nv">$accum</span> <span class="o">*=</span> <span class="nv">$value</span><span class="p">;</span>
            <span class="k">return</span> <span class="nv">$accum</span><span class="p">;</span>
    <span class="p">}</span>
 <span class="p">}</span>
 <span class="k">echo</span> <span class="s2">&quot;&lt;p&gt;&lt;span  style=</span><span class="se">\&quot;</span><span class="s2">font-family: &#39;Courier new&#39;</span><span class="se">\&quot;</span><span class="s2">&gt;array_reduce(</span><span class="se">\$</span><span class="s2">numbers, array(&#39;Reductions&#39;, &#39;multi_debug&#39;), 1)&lt;/span&gt;</span>
<span class="s2">         &lt;br /&gt;where multi() is: &lt;span style=</span><span class="se">\&quot;</span><span class="s2">font-family: &#39;Courier new&#39;</span><span class="se">\&quot;</span><span class="s2">&gt;function static Reductions::multi_debug(accum, value)&lt;/span&gt;&lt;/p&gt;&quot;</span><span class="p">;</span>

 <span class="nv">$numbers</span> <span class="o">=</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>
 <span class="nv">$result</span> <span class="o">=</span> <span class="nb">array_reduce</span><span class="p">(</span><span class="nv">$numbers</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;Reductions&quot;</span><span class="p">,</span> <span class="s2">&quot;multi_debug&quot;</span><span class="p">),</span> <span class="mi">1</span><span class="p">);</span>
 <span class="k">echo</span> <span class="s1">&#39;&lt;/table&gt;&#39;</span><span class="p">;</span>
 <span class="k">echo</span> <span class="s2">&quot;&lt;p&gt;The result is </span><span class="si">$result</span><span class="s2">&lt;/p&gt;&quot;</span><span class="p">;</span>
 <span class="nb">array_reduce</span><span class="p">(</span><span class="nv">$numbers</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;Reductions&#39;</span><span class="p">,</span> <span class="s1">&#39;multi_debug&#39;</span><span class="p">),</span> <span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
<p>where multi() is: function static Reductions::multi_debug(accum, value)</p>
<p>1st param
2nd param
1
1
1
2
2
3
6
4
24
5
120
6
720
7
5040
8
40320
9
362880
10
The result is 3628800
You can also use a class without static methods. This will allow you to call array_reduce()without needing to set an initial value in the optional third parameter, but this offers no real extra benefit.</p>
<p>class Reductions2 {</p>
<blockquote>
<div><p>private $multi_initial;
private $multi_invoked;</p>
<p>function __construct()
{</p>
<blockquote>
<div>$this-&gt;multi_initial = 1;
$this-&gt;multi_invoked = 0;</div></blockquote>
<p>}
public function sum($accum, $value)
{</p>
<blockquote>
<div>$accum += $value;
return $accum;</div></blockquote>
<p>}
public function multi($accum, $value)
{</p>
<blockquote>
<div><blockquote>
<div>// we don’t rely on $accum having been given an initial value. We will use 1.</div></blockquote>
<p>if ($this-&gt;multi_invoked == 0) {</p>
<blockquote>
<div><blockquote>
<div>$this-&gt;multi_invoked = 1;</div></blockquote>
<p>$accum = 1;</p>
</div></blockquote>
<p>}</p>
<p>echo &#8220;&lt;p&gt;1st param = $accum. 2nd param = $value&lt;/p&gt;&#8221;;
$accum <a href="#id1"><span class="problematic" id="id2">*</span></a>= $value;
return $accum;</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p>}</p>
<p>echo &#8220;&lt;p&gt;using static member function&lt;/p&gt;&#8221;;
// 1 (or some initial value) is need; otherwise, the result will always be 0 because NULL (which is 0) is passed initially.
$red2 = new Reductions2();
$result = array_reduce($numbers,array($red2, &#8220;multi&#8221;));
echo &#8220;The result is $result&lt;br /&gt;&#8221;;</p>
<p>array_walk() with a class method can do what array_reduce() does:</p>
<p>class Multiply {</p>
<blockquote>
<div><p>private $accum;</p>
<p>function __construct($init = 1)
{</p>
<blockquote>
<div>$this-&gt;accum = $init;</div></blockquote>
<p>}
public function multi(&amp;$value, $key)
{</p>
<blockquote>
<div>$this-&gt;accum <a href="#id3"><span class="problematic" id="id4">*</span></a>= $value;
return $this-&gt;accum;</div></blockquote>
<p>}
public function result()
{</p>
<blockquote>
<div>return $this-&gt;accum;</div></blockquote>
<p>}</p>
</div></blockquote>
<p>}
$numbers = range(1, 10);
$multi = new Multiply();
array_walk($numbers,array($multi, &#8220;multi&#8221;));
echo &#8216;The result of array_walk() is &#8216;.$multi-&gt;result().&#8217;&lt;br /&gt;&#8217;;
array_map()
array array_map ( callback $callback , array $arr1 [, array $... ] )
array_map() returns an array containing all the elements of arr1 after applying the callback function to each one. The number of parameters that the callback function accepts should match the number of arrays passed to the array_map(). array_map() differs from array_walk() in that the callback only takes one parameter, the array value, rather than two (plus an optional third), the key and the value.
array_map() is similar to the C++ algorithm for_each(). Some examples:
// Create an array or cubed values (of the elements of input array)
function&nbsp;cube($n)
{
&nbsp;&nbsp;&nbsp;&nbsp;return($n&nbsp;<em>&nbsp;$n&nbsp;</em>&nbsp;$n);
}</p>
<p>$a&nbsp;=&nbsp;array(1,&nbsp;2,&nbsp;3,&nbsp;4,&nbsp;5);
$b&nbsp;=&nbsp;array_map(&#8220;cube&#8221;,&nbsp;$a);
print_r($b);
print_r($a);
Array
(</p>
<blockquote>
<div>[0] =&gt; 1
[1] =&gt; 8
[2] =&gt; 27
[3] =&gt; 64
[4] =&gt; 125</div></blockquote>
<p>)
Array
(</p>
<blockquote>
<div>[0] =&gt; 1
[1] =&gt; 2
[2] =&gt; 3
[3] =&gt; 4
[4] =&gt; 5</div></blockquote>
<p>)</p>
<p>// return a string
function&nbsp;show_Spanish($n,&nbsp;$m)
{
&nbsp;&nbsp;&nbsp;&nbsp;return(&#8220;The&nbsp;number&nbsp;$n&nbsp;is&nbsp;called&nbsp;$m&nbsp;in&nbsp;Spanish&#8221;);
}
// return an associative array of one key/value element
function&nbsp;map_Spanish($n,&nbsp;$m)
{
&nbsp;&nbsp;&nbsp;&nbsp;return(array($n&nbsp;=&gt;&nbsp;$m));
}</p>
<p>$a&nbsp;=&nbsp;array(1,&nbsp;2,&nbsp;3,&nbsp;4,&nbsp;5);
$b&nbsp;=&nbsp;array(&#8220;uno&#8221;,&nbsp;&#8220;dos&#8221;,&nbsp;&#8220;tres&#8221;,&nbsp;&#8220;cuatro&#8221;,&nbsp;&#8220;cinco&#8221;);</p>
<p>$c&nbsp;=&nbsp;array_map(&#8220;show_Spanish&#8221;,&nbsp;$a,&nbsp;$b);
print_r($c);</p>
<p>$d&nbsp;=&nbsp;array_map(&#8220;map_Spanish&#8221;,&nbsp;$a&nbsp;,&nbsp;$b);
print_r($d);
// output of $c
Array
(</p>
<blockquote>
<div>[0] =&gt; The number 1 is called uno in Spanish
[1] =&gt; The number 2 is called dos in Spanish
[2] =&gt; The number 3 is called tres in Spanish
[3] =&gt; The number 4 is called cuatro in Spanish
[4] =&gt; The number 5 is called cinco in Spanish</div></blockquote>
<p>)
// output of $d
Array
(</p>
<blockquote>
<div><dl class="docutils">
<dt>[0] =&gt; Array</dt>
<dd><dl class="first docutils">
<dt>(</dt>
<dd>[1] =&gt; uno</dd>
</dl>
<p class="last">)</p>
</dd>
<dt>[1] =&gt; Array</dt>
<dd><dl class="first docutils">
<dt>(</dt>
<dd>[2] =&gt; dos</dd>
</dl>
<p class="last">)</p>
</dd>
<dt>[2] =&gt; Array</dt>
<dd><dl class="first docutils">
<dt>(</dt>
<dd>[3] =&gt; tres</dd>
</dl>
<p class="last">)</p>
</dd>
<dt>[3] =&gt; Array</dt>
<dd><dl class="first docutils">
<dt>(</dt>
<dd>[4] =&gt; cuatro</dd>
</dl>
<p class="last">)</p>
</dd>
<dt>[4] =&gt; Array</dt>
<dd><dl class="first docutils">
<dt>(</dt>
<dd>[5] =&gt; cinco</dd>
</dl>
<p class="last">)</p>
</dd>
</dl>
</div></blockquote>
<p>)</p>
<p>This example shows how to use a class method with array_map():</p>
<p>class&nbsp;Spanish
{</p>
<p>public function&nbsp;show_Spanish($n,&nbsp;$m)
{
&nbsp;&nbsp;&nbsp;&nbsp;return(&#8220;The&nbsp;number&nbsp;$n&nbsp;is&nbsp;called&nbsp;$m&nbsp;in&nbsp;Spanish&#8221;);
}</p>
<p>}</p>
<p>$a&nbsp;=&nbsp;array(1,&nbsp;2,&nbsp;3,&nbsp;4,&nbsp;5);
$b&nbsp;=&nbsp;array(&#8220;uno&#8221;,&nbsp;&#8220;dos&#8221;,&nbsp;&#8220;tres&#8221;,&nbsp;&#8220;cuatro&#8221;,&nbsp;&#8220;cinco&#8221;);
$c&nbsp;=&nbsp;array_map(array(new Spanish(),&nbsp;&#8220;show_Spanish&#8221;),&nbsp;$a,&nbsp;$b);</p>
<p>array_filter()</p>
<p>array array_filter (array $input [, callback $callback ])</p>
<p>Iterates over each value in the input array passing them to the callback function. If the array is an associative array, the value (not the key) is passed. If the callback function returns true, the current value from input is returned into the result array. Array keys are preserved.  array_filter() can be  compared to the C++ remove_if() algorithm; however, remove_if() removes elements whereas array_filter()returns a new array.</p>
<p>Example:</p>
<p>function&nbsp;odd($var)
{
&nbsp;&nbsp;&nbsp;&nbsp;return($var&nbsp;&amp;&nbsp;1);
}</p>
<p>function&nbsp;even($var)
{
&nbsp;&nbsp;&nbsp;&nbsp;return(!($var&nbsp;&amp;&nbsp;1));
}</p>
<p>$array1&nbsp;=&nbsp;array(&#8220;a&#8221;=&gt;1,&nbsp;&#8220;b&#8221;=&gt;2,&nbsp;&#8220;c&#8221;=&gt;3,&nbsp;&#8220;d&#8221;=&gt;4,&nbsp;&#8220;e&#8221;=&gt;5);</p>
<p>$array2&nbsp;=&nbsp;array(6,&nbsp;7,&nbsp;8,&nbsp;9,&nbsp;10,&nbsp;11,&nbsp;12);</p>
<p>echo&nbsp;&#8220;Odd&nbsp;:n&#8221;;
print_r(array_filter($array1,&nbsp;&#8220;odd&#8221;));</p>
<p>echo&nbsp;&#8220;Even:n&#8221;;
print_r(array_filter($array2,&nbsp;&#8220;even&#8221;));</p>
<p>Odd :
Array
(</p>
<blockquote>
<div>[a] =&gt; 1
[c] =&gt; 3
[e] =&gt; 5</div></blockquote>
<p>)
Even:
Array
(</p>
<blockquote>
<div>[0] =&gt; 6
[2] =&gt; 8
[4] =&gt; 10
[6] =&gt; 12</div></blockquote>
<p>)</p>
<p>Note: Be aware array_filter() preserves array indexes:</p>
<p>&lt;?php
function f($item)
{
&nbsp;&nbsp;&nbsp; return $item &lt; 50;
}</p>
<p>print_r( array_filter(array( 10, 100, 20 ),&#8221;f&#8221;) );</p>
<p>Array (
&nbsp;&nbsp;&nbsp; [0] =&gt; 10
&nbsp;&nbsp;&nbsp; [2] =&gt; 20
)</p>
<p>Reassign numerical indexes using array_values():</p>
<p>print_r2(array_values(array_filter(array(10, 100, 20),&#8221;f&#8221;)));</p>
<p>Array([0] =&gt; 10 [1] =&gt; 20 )</p>
<p>You can use a class method as a callback:</p>
<p>class Test {</p>
<blockquote>
<div><dl class="docutils">
<dt>public static function odd($var) {</dt>
<dd>return($var &amp; 1);</dd>
</dl>
<p>}</p>
</div></blockquote>
<p>};</p>
<p>$array1&nbsp;=&nbsp;array(&#8220;a&#8221;=&gt;1,&nbsp;&#8220;b&#8221;=&gt;2,&nbsp;&#8220;c&#8221;=&gt;3,&nbsp;&#8220;d&#8221;=&gt;4,&nbsp;&#8220;e&#8221;=&gt;5);
$newArray = array_filter($array1, array(“Test”, &#8220;odd&#8221;));
print_r2($newArray);
array([a] =&gt; 1 [c] =&gt; 3 [e] =&gt; 5 )//output</p>
<p>array_fill()
array array_fill ( int $start_index , int $num , mixed $value )</p>
<p>Fills an array with num entries of the value of the value parameter, keys starting at the start_index parameter. array_fill() is analogous to C++’s fill() algorithm, but array_fill() creates a new arrary (whereas C++’s fill()fills an existing container). Example:</p>
<p>$a&nbsp;=&nbsp;array_fill(5,&nbsp;6,&nbsp;&#8216;banana&#8217;);
$b&nbsp;=&nbsp;array_fill(-2,&nbsp;2,&nbsp;&#8216;pear&#8217;);
print_r($a);
print_r($b);</p>
<p>Array
(</p>
<blockquote>
<div>[5]  =&gt; banana
[6]  =&gt; banana
[7]  =&gt; banana
[8]  =&gt; banana
[9]  =&gt; banana
[10] =&gt; banana</div></blockquote>
<p>)
Array
(</p>
<blockquote>
<div>[-2] =&gt; pear
[0] =&gt; pear</div></blockquote>
<p>)
Searching for Values</p>
<p>bool in_array ( mixed $needle , array $haystack [, bool $strict ] )</p>
<p>Searches for $needle in array $haystack. If $strict is TRUE, then the type is also compared. For example,</p>
<p>$a&nbsp;=&nbsp;array(&#8216;1.10&#8217;,&nbsp;12.4,&nbsp;1.13);</p>
<p>if&nbsp;(in_array(&#8216;12.4&#8217;,&nbsp;$a,&nbsp;true))&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;&#8220;&#8216;12.4&#8217;&nbsp;found&nbsp;with&nbsp;strict&nbsp;checkn&#8221;;
}</p>
<p>will not find &#8216;12.4&#8217; in $a because it is a string type. in_array() is much faster than a loop that checks every value to find the one you want.</p>
<p>mixed array_search ( mixed $needle , array $haystack [, bool $strict ] )</p>
<p>array_search() returns the key of the element found (in_array() returns a bool).  If $hatstack is a string, a case insensitive search is done.  array_search() returns FALSE if $needle is not found.</p>
<p>If $needle is found in $haystack more than once, only the first matching key is returned.  In this example, only the key of the first ‘a’ is returned.</p>
<p>$haystack = range(&#8220;a&#8221;, &#8220;z&#8221;);
$haystack[] = &#8216;a&#8217;;
$haystack[] = &#8216;b&#8217;;
$result = array_search(&#8216;a&#8217;, $haystack);
echo &#8220;haystack is:&lt;br /&gt;&#8221;;
print_r2($haystack);
echo &#8220;&lt;br /&gt;result of array_search(&#8216;a&#8217;, $haystack) is: $result&#8221;;</p>
<p>haystack is:
Array([0] =&gt; a [1] =&gt; b [2] =&gt; c [3] =&gt; d [4] =&gt; e [5] =&gt; f [6] =&gt; g [7] =&gt; h [8] =&gt; i [9] =&gt; j [10] =&gt; k [11] =&gt; l [12] =&gt; m [13] =&gt; n [14] =&gt; o [15] =&gt; p [16] =&gt; q [17] =&gt; r [18] =&gt; s [19] =&gt; t [20] =&gt; u [21] =&gt; v [22] =&gt; w [23] =&gt; x [24] =&gt; y [25] =&gt; z [26] =&gt; a [27] =&gt; b )
result of array_search(&#8216;a&#8217;, Array) is: 0</p>
<p>In this example we search for an array (within the haystack):</p>
<p>$haystack = range(&#8220;a&#8221;, &#8220;z&#8221;);
$search = range(&#8220;a&#8221;, &#8220;d&#8221;);
$haystack[] = $search;    // append an inner array
$result = array_search($search, $haystack);</p>
<p>echo &#8220;haystack is:&lt;br /&gt;&#8221;;
print_r2($haystack);
echo &#8220;&lt;br /&gt;search is:&lt;br /&gt;&#8221;;
print_r2($search);</p>
<p>echo &#8220;&lt;br /&gt;The result of array_search($search, $haystack) is: $result&#8221;;</p>
<p>$haystack = range(&#8220;a&#8221;, &#8220;z&#8221;);
$search = range(&#8220;a&#8221;, &#8220;d&#8221;);
$haystack[] = $search;</p>
<p>$result = array_search($search, $haystack);</p>
<p>echo &#8220;haystack is:&lt;br /&gt;&#8221;;
print_r2($haystack);
echo &#8220;&lt;br /&gt;search is:&lt;br /&gt;&#8221;;
print_r2($search);
echo &#8220;&lt;br /&gt;The result of array_search($search, $haystack) is: $result&#8221;;</p>
<p>Array([0] =&gt; a [1] =&gt; b [2] =&gt; c [3] =&gt; d [4] =&gt; e [5] =&gt; f [6] =&gt; g [7] =&gt; h [8] =&gt; i [9] =&gt; j [10] =&gt; k [11] =&gt; l [12] =&gt; m [13] =&gt; n [14] =&gt; o [15] =&gt; p [16] =&gt; q [17] =&gt; r [18] =&gt; s [19] =&gt; t [20] =&gt; u [21] =&gt; v [22] =&gt; w [23] =&gt; x [24] =&gt; y [25] =&gt; z [26] =&gt; Array([0] =&gt; a [1] =&gt; b [2] =&gt; c [3] =&gt; d ) )
search is:
Array([0] =&gt; a [1] =&gt; b [2] =&gt; c [3] =&gt; d )
The result of array_search($search, $haystack) is: 26</p>
<p>This example searches an associative array:
&lt;?php
$a=array(&#8220;a&#8221;=&gt;&#8221;5&#8221;,&#8221;b&#8221;=&gt;5,&#8221;c&#8221;=&gt;&#8221;5&#8221;);
echo array_search(5,$a,true);
?&gt;
b // output</p>
<p>To search for all occurances of $needle in $haystack, use array_keys(), specifying the second, optional parameter of a search values:</p>
<p>$array&nbsp;=&nbsp;array(&#8220;blue&#8221;,&nbsp;&#8220;red&#8221;,&nbsp;&#8220;green&#8221;,&nbsp;&#8220;blue&#8221;,&nbsp;&#8220;blue&#8221;);
print_r(array_keys($array,&nbsp;&#8220;blue&#8221;)); // This will return the keys of all occurances of “blue” in $array
Array
(</p>
<blockquote>
<div>[0] =&gt; 0
[1] =&gt; 3
[2] =&gt; 4</div></blockquote>
<p>)</p>
<p>If the third parameter $strict is set to TRUE then the array_search() function will also check the types of the $needle in the $haystack.</p>
<p>$array&nbsp;=&nbsp;array(0&nbsp;=&gt;&nbsp;&#8216;blue&#8217;,&nbsp;1&nbsp;=&gt;&nbsp;&#8216;red&#8217;,&nbsp;2&nbsp;=&gt;&nbsp;&#8216;green&#8217;,&nbsp;3&nbsp;=&gt;&nbsp;&#8216;red&#8217;);</p>
<p>$key&nbsp;=&nbsp;array_search(&#8216;green&#8217;,&nbsp;$array);&nbsp;//&nbsp;$key&nbsp;=&nbsp;2;
$key&nbsp;=&nbsp;array_search(&#8216;red&#8217;,&nbsp;$array);&nbsp;&nbsp;&nbsp;//&nbsp;$key&nbsp;=&nbsp;1;</p>
<p>array_keys() returns an array of all the keys in input. Example of array_keys() with and without search criteria:</p>
<p>$array = array(0 =&gt; 100, &#8220;color&#8221; =&gt; &#8220;red&#8221;);</p>
<p>print_r2(array_keys($array)); // no search criteria
echo &#8216;&lt;br /&gt;&#8217;;</p>
<p>$array = array(&#8220;blue&#8221;, &#8220;red&#8221;, &#8220;green&#8221;, &#8220;blue&#8221;, &#8220;blue&#8221;);
print_r2(array_keys($array, &#8220;blue&#8221;));  // search criteria</p>
<p>Array([0] =&gt; 0 [1] =&gt; color )
Array([0] =&gt; 0 [1] =&gt; 3 [2] =&gt; 4 )</p>
<p>Sorting</p>
<p>Sorting changes the internal order of elements in an array and optionally rewrites the keys to reflect this new order. For example, you might use sorting to arrange a list of scores from biggest to smallest, to alphabetize a list of names, or to order a set of users based on how many messages they posted.</p>
<p>PHP provides three ways to sort arrays—sorting by keys, sorting by values without changing the keys, or sorting by values and then changing the keys. Each kind of sort can be done in ascending order, descending order, or an order defined by a user-defined function.</p>
<p>The functions provided by PHP to sort an array are:</p>
<p>Effect
Ascending
Descending
User-defined order
Sort array by values, then reassign indexes starting with 0
sort()
rsort()
usort()
Sort array by values
asort()
arsort()
uasort()
Sort array by keys
ksort()
krsort()
uksort()</p>
<p>The sort(), rsort(), and usort() functions are designed to work on numerically indexed arrays, because they assign new numeric keys to represent the ordering. They&#8217;re useful when you need to answer questions like &#8220;what are the top 10 scores?&#8221; and &#8220;who&#8217;s the third person in alphabetical order?&#8221; The other sort functions can be used on indexed arrays, but you&#8217;ll only be able to access the sorted ordering by using traversal functions such as foreach and next().</p>
<p>To sort names into ascending alphabetical order, you&#8217;d use this:</p>
<p>$names = array(&#8216;cath&#8217;, &#8216;angela&#8217;, &#8216;brad&#8217;, &#8216;dave&#8217;);
echo ‘$names before sort($names) &lt;br /&gt;‘.$names.’&lt;br /&gt;’;
sort($names);
echo ‘$names after sort($names) &lt;br /&gt;‘.$names.’&lt;br /&gt;’;</p>
<p>$names before sort($names)
Array([0] =&gt; cath [1] =&gt; angela [2] =&gt; brad [3] =&gt; dave )
$names after sort($names)
Array([0] =&gt; angela [1] =&gt; brad [2] =&gt; cath [3] =&gt; dave )</p>
<p>To get them in reverse, descending alphabetic order, simply call rsort() instead of sort().</p>
<p>If you have an associative array, use arsort(). Here the associative array $logins maps usernames to minutes logged on.</p>
<dl class="docutils">
<dt>$logins2 = $logins = array(&#8216;njt&#8217; =&gt; 415,</dt>
<dd><p class="first">&#8216;kt&#8217;  =&gt; 492,
&#8216;rl&#8217;  =&gt; 652,
&#8216;jht&#8217; =&gt; 441,
&#8216;jj&#8217;  =&gt; 441,</p>
<blockquote class="last">
<div>&#8216;wt&#8217;  =&gt; 402);</div></blockquote>
</dd>
</dl>
<p>echo &#8216;&lt;p&gt;Before ksort() of &#8216;;
print_r2($logins2);</p>
<p>echo &#8216;&lt;p&gt;After ksort() = &#8216;;
ksort($logins2);
print_r2($logins2);
$logins = Array([njt] =&gt; 415 [kt] =&gt; 492 [rl] =&gt; 652 [jht] =&gt; 441 [jj] =&gt; 441 [wt] =&gt; 402 )
arsort($logins) = Array([rl] =&gt; 652 [kt] =&gt; 492 [jj] =&gt; 441 [jht] =&gt; 441 [njt] =&gt; 415 [wt] =&gt; 402 )
If you want that table displayed in ascending order by username, use ksort(), to sort on the keys:</p>
<p>ksort($logins); // sorts based on the key</p>
<p>echo(&#8220;&lt;table&gt;n&#8221;);
foreach ($logins as $user =&gt; $time) {</p>
<blockquote>
<div>echo(&#8220;&lt;tr&gt;&lt;td&gt;$user&lt;/td&gt;&lt;td&gt;$time&lt;/td&gt;&lt;/tr&gt;n&#8221;);</div></blockquote>
<p>}
echo(&#8220;&lt;/table&gt;n&#8221;);</p>
<p>&lt;table&gt;
&lt;tr&gt;&lt;td&gt;jht&lt;/td&gt;&lt;td&gt;441&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;jj&lt;/td&gt;&lt;td&gt;441&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;kt&lt;/td&gt;&lt;td&gt;492&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;njt&lt;/td&gt;&lt;td&gt;415&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;rl&lt;/td&gt;&lt;td&gt;652&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;wt&lt;/td&gt;&lt;td&gt;402&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;</p>
<p>User-defined ordering requires that you provide a function that takes two values and returns a value that specifies the order of the two values in the sorted array. The function should return 1 if the first value is greater than the second, -1 if the first value is less than the second, and 0 if the values are the same for the purposes of your custom sort order.</p>
<p>This example is a program that lets you try the various sorting functions on the same data.</p>
<p>Here is code that creates a html form that allows you demo the various sorts.</p>
<p>&lt;?php
require_once &#8216;HTML/QuickForm. &lt;?php&#8217;;
include &#8220;print_array. &lt;?php&#8221;;
// Using HTML_QuickFor</p>
<p>function user_sort($a, $b)
{</p>
<blockquote>
<div>//Simply do a case insensitive compare
return strcasecmp($a, $b);</div></blockquote>
<p>}</p>
<p>$selections = array(&#8216;sort&#8217;, &#8216;rsort&#8217;, &#8216;usort&#8217;, &#8216;asort&#8217;, &#8216;arsort&#8217;, &#8216;uasort&#8217;, &#8216;ksort&#8217;,  &#8216;uksort&#8217;);</p>
<dl class="docutils">
<dt>$assoarray = array(&#8220;i&#8221;=&gt;&#8221;tom&#8221;, &#8220;b&#8221;=&gt;&#8221;anne&#8221;, &#8220;c&#8221;=&gt;&#8221;DAVE&#8221;, &#8220;e&#8221;=&gt;&#8221;Dave&#8221;, &#8220;d&#8221;=&gt;&#8221;fred&#8221;, &#8220;k&#8221;=&gt;&#8221;silvia&#8221;, &#8220;g&#8221;=&gt;&#8221;kelly&#8221;, &#8220;j&#8221;=&gt;&#8221;Kelly&#8221;,</dt>
<dd>&#8220;a&#8221;=&gt;&#8221;dave&#8221;, &#8220;h&#8221;=&gt;&#8221;chris&#8221;, &#8220;f&#8221;=&gt;&#8221;vivian&#8221;);</dd>
</dl>
<p>$other = array(&#8220;tom&#8221;, &#8220;anne&#8221;, &#8220;DAVE&#8221;, &#8220;Dave&#8221;, &#8220;fred&#8221;, &#8220;silvia&#8221;, &#8220;kelly&#8221;, &#8220;Kelly&#8221;, &#8220;dave&#8221;, &#8220;chris&#8221;, &#8220;vivian&#8221;);</p>
<dl class="docutils">
<dt>try {</dt>
<dd><blockquote class="first">
<div><blockquote>
<div>// create a text field of size 40 that is required</div></blockquote>
<p>$form = new HTML_QuickForm();</p>
<p>$select =&amp; $form-&gt;addElement(&#8216;select&#8217;, &#8216;sortTest&#8217;, &#8216;Test sort:&#8217;, $selections);</p>
<p>$select-&gt;setSize(8);</p>
<p>$form-&gt;addElement(&#8216;submit&#8217;, null, &#8216;Submit&#8217;);</p>
<p>if ($form-&gt;validate()) {</p>
<blockquote>
<div><p>// Form is validated, then processes the data
$form-&gt;freeze();</p>
<p>// Returns all values in an associative array
$data = $form-&gt;exportValues();</p>
<p>$index = $data[&#8220;sortTest&#8221;];</p>
<p>$sort = $selections[$index];</p>
<p>$ar =  ($index &gt; 2) ? $assoarray : $other;</p>
<p>echo &#8220;&lt;p&gt;The array before doing &#8221;.$sort.&#8221;() is &lt;/p&gt;&#8221;;</p>
<p>print_r2($ar);</p>
<p>if ($index == 2 || $index == 5) {</p>
<blockquote>
<div>$sort($ar, &#8220;user_sort&#8221;);</div></blockquote>
<p>}
else {</p>
<blockquote>
<div>$sort($ar);</div></blockquote>
<p>}</p>
<p>echo &#8220;&lt;p&gt;The array after doing &#8221;.$sort.&#8221;() is &lt;/p&gt;&#8221;;</p>
<p>print_r2($ar);</p>
</div></blockquote>
<p>}
else {</p>
<blockquote>
<div><p>echo &#8220;&lt;h2&gt;PHP sort demo&lt;/h2&gt;&#8221;;
echo &#8220;&lt;p&gt;For asort(), arsort(), uasort(), ksort() and uksort() this array will be sorted:&lt;/p&gt;&#8221;;</p>
<p>print_r2($assoarray);</p>
<p>echo &#8220;&lt;p&gt;For sort(), rsort() and usort() this array will be sorted:&lt;/p&gt;&#8221;;</p>
<p>print_r2($other);</p>
<p>$form-&gt;display();</p>
</div></blockquote>
<p>}</p>
</div></blockquote>
<p class="last">}</p>
</dd>
</dl>
<p>catch(Exception $e)  {</p>
<blockquote>
<div>echo &#8216;Message: &#8216; .$e-&gt;getMessage().&#8221;&lt;br /&gt;&#8221;;
exit();</div></blockquote>
<p>}
Natural-Order Sorting
PHP&#8217;s built-in sort functions correctly sort strings and numbers, but they don&#8217;t correctly sort strings that contain numbers. For example, if you have the filenames ex10. &lt;?php, ex5. &lt;?php, and ex1. &lt;?php, the normal sort functions will rearrange them in this order: ex1. &lt;?php, ex10. &lt;?php, ex5. &lt;?php. To correctly sort strings that contain numbers, use the natsort() and natcasesort() functions:
$output = natsort(input);
$output = natcasesort(input);
Sorting Multiple Arrays at Once
bool array_multisort(array1 [, array2, ... ]);
array_multisort()sorts multiple indexed arrays at once, or a multi-dimensional array by one or more dimensions. Associative keys will be maintained, but numeric keys wil be re-indexed.
We pass it a series of arrays and sorting orders (identified by the SORT_ASC or SORT_DESC constants), and it reorders the elements of all the arrays, assigning new indexes. It is similar to a join operation on a relational database.
Imagine that you have a lot of people, and several pieces of data on each person:
$names = array(&#8216;Tom&#8217;, &#8216;Dick&#8217;,  &#8216;Harriet&#8217;, &#8216;Brenda&#8217;, &#8216;Joe&#8217;);
$ages  = array(25,    35,      29,        35,       35);
$zips  = array(80522, &#8216;02140&#8217;, 90210,     64141,    80522);
The first element of each array represents a single record—all the information known about Tom. Similarly, the second element constitutes another record—all the information known about Dick. The array_multisort() function reorders the elements of the arrays, preserving the records. That is, if Dick ends up first in the $names array after the sort, the rest of Dick&#8217;s information will be first in the other arrays too. (Note that we needed to quote Dick&#8217;s zip code to prevent it from being interpreted as an octal constant.)
Here&#8217;s how to sort the records first ascending by age, then descending by zip code, and lastly by ascending names:
array_multisort($ages, SORT_ASC, $zips, SORT_DESC, $names, SORT_ASC);
We need to include $names in the function call to ensure that Dick&#8217;s name stays with his age and zip code. Printing out the data shows the result of the sort:
$names = array(&#8216;Tom&#8217;, &#8216;Dick&#8217;,  &#8216;Harriet&#8217;, &#8216;Brenda&#8217;, &#8216;Joe&#8217;, ‘Amy’);
$ages  = array(25,    35,      29,        35,       35,    35 );
$zips  = array(80522, &#8216;02140&#8217;, 90210,     64141,    80522, 64141);</p>
<p>function display($ages, $zips, $names)
{
for ($i = 0; $i &lt; count($ages); $i++) {</p>
<blockquote>
<div>echo &#8220;&lt;tr&gt;&lt;td&gt;$ages[$i]&lt;/td&gt;&lt;td&gt;$zips[$i]&lt;/td&gt;&lt;td&gt;$names[$i]&lt;/td&gt;&lt;/tr&gt;&#8221;;</div></blockquote>
<p>echo &#8220;&lt;p&gt;Before array_multi_sort():&lt;/p&gt;&lt;p&gt;&lt;table&gt;&#8221;;</p>
<p>display($ages, $zips, $names);</p>
<p>echo &#8220;&lt;/table&gt;&lt;/p&gt;&lt;p&gt;Doing array_multisort($ages, SORT_ASC, $zips, SORT_DESC, $names, SORT_ASC)...&lt;/p&gt;&#8221;;
echo &#8220;&lt;p&gt;We sort first by age, then (within age) by zip code (with higher zip codes coming first), and lastly we sort by name in ascending order&lt;/p&gt;”;</p>
<p>array_multisort($ages, SORT_ASC, $zips, SORT_DESC, $names, SORT_ASC);</p>
<p>echo &#8220;&lt;table&gt;&#8221;;
display($ages, $zips, $names);
echo &#8220;&lt;/table&gt;&#8221;;</p>
<p>&lt;table&gt;
&lt;tr&gt;&lt;td&gt;25&lt;/td&gt;&lt;td&gt;80522&lt;/td&gt;&lt;td&gt;Tom&lt;/td&gt;
&lt;tr&gt;&lt;td&gt;29&lt;/td&gt;&lt;td&gt;90210&lt;/td&gt;&lt;td&gt;Harriet&lt;/td&gt;
&lt;tr&gt;&lt;td&gt;35&lt;/td&gt;&lt;td&gt;80522&lt;/td&gt;&lt;td&gt;Joe&lt;/td&gt;
&lt;tr&gt;&lt;td&gt;35&lt;/td&gt;&lt;td&gt;64141&lt;/td&gt;&lt;td&gt;Amy&lt;/td&gt;
&lt;tr&gt;&lt;td&gt;35&lt;/td&gt;&lt;td&gt;64141&lt;/td&gt;&lt;td&gt;Brenda&lt;/td&gt;
&lt;tr&gt;&lt;td&gt;35&lt;/td&gt;&lt;td&gt;02140&lt;/td&gt;&lt;td&gt;Dick&lt;/td&gt;
&lt;/table&gt;</p>
<p>Since two individuals are both 35 years old, the individual with the numerically larger zip code is displayed first. Since there are two such individuals, Amy is displayed first because we sort names in ascending order.
Reversing Arrays</p>
<p>$result = array_reverse(array $a) [, bool $preserve_keys ] ) takes an input array and returns a new array with the order of the elements reversed. Example:
$ar = range(1, 20, 3);
echo &#8220;array to reverse is ”;
print_r2($ar);
echo &#8220;&lt;br /&gt;output of array_reverse()&lt;/br&gt;&#8221;;
$reversed = array_reverse($ar);
print_r2($reversed);
array to reverse is:
Array([0] =&gt; 1 [1] =&gt; 4 [2] =&gt; 7 [3] =&gt; 10 [4] =&gt; 13 [5] =&gt; 16 [6] =&gt; 19 )
output of array_reverse():
Array([0] =&gt; 19 [1] =&gt; 16 [2] =&gt; 13 [3] =&gt; 10 [4] =&gt; 7 [5] =&gt; 4 [6] =&gt; 1 )
Numeric keys are renumbered starting at 0, while string indexes are unaffected. In general, it&#8217;s better to use the reverse-order sorting functions instead of sorting and then reversing the order of an array.
The array_flip() function returns an array that reverses the order of each original element&#8217;s key-value pair:
$flipped = array_flip(array);
That is, for each element of the array whose value is a valid key, the element&#8217;s value becomes its key and the element&#8217;s key becomes its value. For example, if you have an array mapping usernames to home directories, you can use array_flip() to create an array mapping home directories to usernames:
$u2h = array(&#8216;gnat&#8217; =&gt; &#8216;/home/staff/nathan&#8217;,</p>
<blockquote>
<div>&#8216;rasmus&#8217; =&gt; &#8216;/home/elite/rasmus&#8217;,
&#8216;ktatroe&#8217; =&gt; &#8216;/home/staff/kevin&#8217;);</div></blockquote>
<p>$h2u = array_flip($u2h);
$user = $h2u[&#8216;/home/staff/kevin&#8217;];     // $user is now &#8216;ktatroe&#8217;
Elements whose original values are neither strings nor integers are left alone in the resulting array. The new array lets you discover the key in the original array given its value, but this technique works effectively only when the original array has unique values.
In this example, after sorting, the first array will transform to &#8220;10&#8221;, 100, 100, 11, &#8220;a&#8221; (it was sorted as strings in ascending order). The second will contain 1, 3, &#8220;2&#8221;, 2, 1 (sorted as numbers, in descending order).
$ar&nbsp;=&nbsp;array(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(&#8220;10&#8221;,&nbsp;11,&nbsp;100,&nbsp;100,&nbsp;&#8220;a&#8221;),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(&nbsp;&nbsp;&nbsp;1,&nbsp;&nbsp;2,&nbsp;&#8220;2&#8221;,&nbsp;&nbsp;&nbsp;3,&nbsp;&nbsp;&nbsp;1)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);</p>
<p>array_multisort($ar[0],&nbsp;SORT_ASC,&nbsp;SORT_STRING,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ar[1],&nbsp;SORT_NUMERIC,&nbsp;SORT_DESC);
var_dump($ar);</p>
<dl class="docutils">
<dt>array(2) {</dt>
<dd><dl class="first docutils">
<dt>[0]=&gt; array(5) {</dt>
<dd>[0]=&gt; string(2) &#8220;10&#8221;
[1]=&gt; int(100)
[2]=&gt; int(100)
[3]=&gt; int(11)
[4]=&gt; string(1) &#8220;a&#8221;</dd>
</dl>
<p>}
[1]=&gt; array(5) {</p>
<blockquote>
<div>[0]=&gt; int(1)
[1]=&gt; int(3)
[2]=&gt; string(1) &#8220;2&#8221;
[3]=&gt; int(2)
[4]=&gt; int(1)</div></blockquote>
<p class="last">}</p>
</dd>
</dl>
<p>}
Randomizing Order
To traverse the elements in an array in a random order, use the shuffle( ) function. All existing keys, whether string or numeric, are replaced with consecutive integers starting at 0.
Here&#8217;s how to randomize the order of the days of the week:
$days = array(&#8216;Monday&#8217;, &#8216;Tuesday&#8217;, &#8216;Wednesday&#8217;,</p>
<blockquote>
<div>&#8216;Thursday&#8217;, &#8216;Friday&#8217;, &#8216;Saturday&#8217;, &#8216;Sunday&#8217;);</div></blockquote>
<p>shuffle($days);</p>
<p>print_r($days);
Array
(</p>
<blockquote>
<div>[0] =&gt; Tuesday
[1] =&gt; Thursday
[2] =&gt; Monday
[3] =&gt; Friday
[4] =&gt; Wednesday
[5] =&gt; Saturday
[6] =&gt; Sunday</div></blockquote>
<p>)
Obviously, the order after your shuffle() may not be the same as the sample output here. Unless you are interested in getting multiple random elements from an array, without repeating any specific item, using the rand() function to pick an index is more efficient.
Acting on Entire Arrays
PHP has several useful functions for modifying or applying an operation to all elements of an array. You can merge arrays, find the difference, calculate the total, and more, all using built-in functions.
Calculating the Sum of an Array
The array_sum( ) function adds up the values in an indexed or associative array:
$sum = array_sum(array);
For example:
$scores  = array(98, 76, 56, 80);
$total   = array_sum($scores);
// $total = 310</p>
<p>Calculating the Product of an Array</p>
<p>The array_product() returns the product of the values of an array as either an integer or float. This function can be used to test if all values in an array of booleans are TRUE:</p>
<p>&lt;?php</p>
<p>function outbool($test)
{
&nbsp;&nbsp;&nbsp; return (bool) $test;
}</p>
<p>$check[] = outbool(TRUE);
$check[] = outbool(1);
$check[] = outbool(FALSE);
$check[] = outbool(0);</p>
<p>$result = (bool) array_product($check);
// $result is set to FALSE because only two of the four values evaluated to TRUE</p>
<p>?&gt;</p>
<p>The above is equivalent to:</p>
<p>&lt;?php</p>
<p>$check1 = outbool(TRUE);
$check2 = outbool(1);
$check3 = outbool(FALSE);
$check4 = outbool(0);</p>
<p>$result = ($check1 &amp;&amp; $check2 &amp;&amp; $check3 &amp;&amp; $check4);</p>
<p>?&gt;</p>
<p>And array_product() obviously lends itself for factorials:</p>
<p>&lt;?php
$ar = range(1,5);
$r = array_product($ar);
?&gt;
Merging Two Arrays
The array_merge( ) function intelligently merges two or more arrays. The values of one are appended to the end of the previous one. It returns the resulting array.
$merged = array_merge(array1, array2 [, array ... ])
If a numeric key from an earlier array is repeated, the value from the later array is assigned a new numeric key:
$first  = array(&#8216;hello&#8217;, &#8216;world&#8217;);      // 0 =&gt; &#8216;hello&#8217;, 1 =&gt; &#8216;world&#8217;
$second = array(&#8216;exit&#8217;,  &#8216;here&#8217;);       // 0 =&gt; &#8216;exit&#8217;,  1 =&gt; &#8216;here&#8217;
$merged = array_merge($first, $second);
// $merged = array(&#8216;hello&#8217;, &#8216;world&#8217;, &#8216;exit&#8217;, &#8216;here&#8217;)
If a string key from an earlier array is repeated, the earlier value is replaced by the later value:
$first  = array(&#8216;bill&#8217; =&gt; &#8216;clinton&#8217;, &#8216;tony&#8217; =&gt; &#8216;danza&#8217;);
$second = array(&#8216;bill&#8217; =&gt; &#8216;gates&#8217;,   &#8216;adam&#8217; =&gt; &#8216;west&#8217;);
$merged = array_merge($first, $second);
// $merged = array(&#8216;bill&#8217; =&gt; &#8216;gates&#8217;, &#8216;tony&#8217; =&gt; &#8216;danza&#8217;, &#8216;adam&#8217; =&gt; &#8216;west&#8217;)</p>
<p>This example merges numeric and string index arrays:</p>
<p>$array1&nbsp;=&nbsp;array(&#8220;color&#8221;&nbsp;=&gt;&nbsp;&#8220;red&#8221;,&nbsp;2,&nbsp;4);
$array2&nbsp;=&nbsp;array(&#8220;a&#8221;,&nbsp;&#8220;b&#8221;,&nbsp;&#8220;color&#8221;&nbsp;=&gt;&nbsp;&#8220;green&#8221;,&nbsp;&#8220;shape&#8221;&nbsp;=&gt;&nbsp;&#8220;trapezoid&#8221;,&nbsp;4);
$result&nbsp;=&nbsp;array_merge($array1,&nbsp;$array2);
print_r($result);
Array
(</p>
<blockquote>
<div>[color] =&gt; green
[0] =&gt; 2
[1] =&gt; 4
[2] =&gt; a
[3] =&gt; b
[shape] =&gt; trapezoid
[4] =&gt; 4</div></blockquote>
<p>)</p>
<p>Calculating the Difference Between Two Arrays
The array_diff() function identifies values from one array (the first paramater) that are not present in others (the subsequent parameters):
$diff = array_diff(array1, array2 [, array ... ]);
For example:
$a1 = array(&#8216;bill&#8217;, &#8216;claire&#8217;, &#8216;elle&#8217;, &#8216;simon&#8217;, &#8216;judy&#8217;);
$a2 = array(&#8216;jack&#8217;, &#8216;claire&#8217;, &#8216;toni&#8217;);
$a3 = array(&#8216;elle&#8217;, &#8216;simon&#8217;,  &#8216;garfunkel&#8217;);</p>
<p>// find values of $a1 not in $a2 or $a3
$diff = array_diff($a1, $a2, $a3);</p>
<p>// $diff is array(&#8216;bill&#8217;, &#8216;judy&#8217;);
Values are compared using ===, so 1 and &#8220;1&#8221; are considered different. The keys of the first array are preserved, so in $diff the key of &#8216;bill&#8217; is 0 and the key of &#8216;judy&#8217; is 4.
In PHP 5 array_udiff() was added.  It computes the difference of arrays by using a callback function for data comparison. The callback must return an integer less than, equal to, or greater than zero if the first argument is considered to be respectively less than, equal to, or greater than the second. Example:
class&nbsp;cr&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;private&nbsp;$priv_member;
&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;cr($val)
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;priv_member&nbsp;=&nbsp;$val;
&nbsp;&nbsp;&nbsp;&nbsp;}</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;static&nbsp;function&nbsp;comp_func_cr($a,&nbsp;$b)
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;($a-&gt;priv_member&nbsp;===&nbsp;$b-&gt;priv_member)
return&nbsp;0;</p>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;($a-&gt;priv_member&nbsp;&gt;&nbsp;$b-&gt;priv_member) ?&nbsp;1 : -1;
&nbsp;&nbsp;&nbsp;&nbsp;}
}
$a&nbsp;=&nbsp;array(&#8220;0.1&#8221;&nbsp;=&gt;&nbsp;new&nbsp;cr(9),&nbsp;&#8220;0.5&#8221;&nbsp;=&gt;&nbsp;new&nbsp;cr(12),&nbsp;0&nbsp;=&gt;&nbsp;new&nbsp;cr(23),&nbsp;1=&gt;&nbsp;new&nbsp;cr(4),&nbsp;2&nbsp;=&gt;&nbsp;new&nbsp;cr(-15),);
$b&nbsp;=&nbsp;array(&#8220;0.2&#8221;&nbsp;=&gt;&nbsp;new&nbsp;cr(9),&nbsp;&#8220;0.5&#8221;&nbsp;=&gt;&nbsp;new&nbsp;cr(22),&nbsp;0&nbsp;=&gt;&nbsp;new&nbsp;cr(3),&nbsp;1=&gt;&nbsp;new&nbsp;cr(4),&nbsp;2&nbsp;=&gt;&nbsp;new&nbsp;cr(-15),);</p>
<p>$result&nbsp;=&nbsp;array_udiff($a,&nbsp;$b,&nbsp;array(&#8220;cr&#8221;,&nbsp;&#8220;comp_func_cr&#8221;));
print_r($result);
Array
(</p>
<blockquote>
<div><dl class="docutils">
<dt>[0.5] =&gt; cr Object</dt>
<dd><dl class="first docutils">
<dt>(</dt>
<dd>[priv_member:private] =&gt; 12</dd>
</dl>
<p class="last">)</p>
</dd>
<dt>[0] =&gt; cr Object</dt>
<dd><dl class="first docutils">
<dt>(</dt>
<dd>[priv_member:private] =&gt; 23</dd>
</dl>
<p class="last">)</p>
</dd>
</dl>
</div></blockquote>
<p>)</p>
<p>Filtering Elements from an Array
To identify a subset of an array based on its values, use the array_filter() function:
$filtered = array_filter(array, callback);</p>
<p>array_filter(array, callback) is analogous to the C++ standard library function remove_if().
Each value of array is passed to the function named in callback. The returned array contains only those elements of the original array for which the function returns a true value. For example:
function is_odd ($element)
{</p>
<blockquote>
<div>return $element % 2;</div></blockquote>
<p>}</p>
<p>$numbers = array(9, 23, 24, 27);</p>
<p>$odds    = array_filter($numbers, &#8216;is_odd&#8217;);</p>
<p>// $odds is array(0 =&gt; 9, 1 =&gt; 23, 3 =&gt; 27)</p>
<p>An alternate to the above code is:</p>
<p>function&nbsp;odd($var)
{
&nbsp;&nbsp;&nbsp;&nbsp;return($var&nbsp;&amp;&nbsp;1);
}</p>
<p>function&nbsp;even($var)
{
&nbsp;&nbsp;&nbsp;&nbsp;return(!($var&nbsp;&amp;&nbsp;1));
}</p>
<p>$array1&nbsp;=&nbsp;array(&#8220;a&#8221;=&gt;1,&nbsp;&#8220;b&#8221;=&gt;2,&nbsp;&#8220;c&#8221;=&gt;3,&nbsp;&#8220;d&#8221;=&gt;4,&nbsp;&#8220;e&#8221;=&gt;5);
$array2&nbsp;=&nbsp;array(6,&nbsp;7,&nbsp;8,&nbsp;9,&nbsp;10,&nbsp;11,&nbsp;12);</p>
<p>echo&nbsp;&#8220;Odd&nbsp;:n&#8221;;
print_r(array_filter($array1,&nbsp;&#8220;odd&#8221;));</p>
<p>echo&nbsp;&#8220;Even:n&#8221;;
print_r(array_filter($array2,&nbsp;&#8220;even&#8221;));
Odd :
Array
(</p>
<blockquote>
<div>[a] =&gt; 1
[c] =&gt; 3
[e] =&gt; 5</div></blockquote>
<p>)
Even:
Array
(</p>
<blockquote>
<div>[0] =&gt; 6
[2] =&gt; 8
[4] =&gt; 10
[6] =&gt; 12</div></blockquote>
<p>)
As you see, the keys are preserved. This function is most useful with associative arrays.
Using Arrays
Arrays crop up in almost every PHP program. In addition to their obvious use for storing collections of values, they&#8217;re also used to implement various abstract data types. In this section, we show how to use arrays to implement sets and stacks.
Sets
Arrays let you implement the basic operations of set theory: union, intersection, and difference. Each set is represented by an array, and various PHP functions implement the set operations. The values in the set are the values in the array—the keys are not used, but they are generally preserved by the operations.
The union of two sets is all the elements from both sets, with duplicates removed. The array_merge() and array_unique() functions let you calculate the union. Here&#8217;s how to find the union of two arrays:
function array_union($a, $b)
{</p>
<blockquote>
<div>$union = array_merge($a, $b); // duplicates may still exist
$union = array_unique($union);
return $union;</div></blockquote>
<p>}</p>
<p>$first = array(1, &#8216;two&#8217;, 3);
$second = array(&#8216;two&#8217;, &#8216;three&#8217;, &#8216;four&#8217;);
$union = array_union($first, $second);
print_r($union);</p>
<p>Array
(</p>
<blockquote>
<div>[0] =&gt; 1
[1] =&gt; two
[2] =&gt; 3
[4] =&gt; three
[5] =&gt; four</div></blockquote>
<p>)
The intersection of two (or more) sets (arrays) is the set of elements they have in common. It is analogous to the C++ set_intersection() functiion. PHP&#8217;s built-in array_intersect( ) function takes any number of arrays as arguments and returns an array of those values that exist in each. If multiple keys have the same value, the first key with that value is preserved. Example:
$array1&nbsp;=&nbsp;array(&#8220;a&#8221;&nbsp;=&gt;&nbsp;&#8220;green&#8221;,&nbsp;&#8220;red&#8221;,&nbsp;&#8220;blue&#8221;);
$array2&nbsp;=&nbsp;array(&#8220;b&#8221;&nbsp;=&gt;&nbsp;&#8220;green&#8221;,&nbsp;&#8220;yellow&#8221;,&nbsp;&#8220;red&#8221;);
$result&nbsp;=&nbsp;array_intersect($array1,&nbsp;$array2);
print_r($result);
Array
(</p>
<blockquote>
<div>[a] =&gt; green
[0] =&gt; red</div></blockquote>
<p>)
Another common function to perform on a set of arrays is to get the difference: the values in one array that are not present in another array. The array_diff() function returns an array containing all the entries from array1 that are not present in any of the other arrays. It is analogous to C++ algorithm set_difference(). The following code takes the difference of two arrays:
$first = array(1, &#8216;two&#8217;, 3);
$second = array(&#8216;two&#8217;, &#8216;three&#8217;, &#8216;four&#8217;);</p>
<p>$difference = array_diff($first, $second);
print_r($difference);</p>
<p>Array
(</p>
<blockquote>
<div>[0] =&gt; 1
[2] =&gt; 3</div></blockquote>
<p>)</p>
<p>Example two:</p>
<p>$array1&nbsp;=&nbsp;array(&#8220;a&#8221;&nbsp;=&gt;&nbsp;&#8220;green&#8221;,&nbsp;&#8220;red&#8221;,&nbsp;&#8220;blue&#8221;,&nbsp;&#8220;red&#8221;);
$array2&nbsp;=&nbsp;array(&#8220;b&#8221;&nbsp;=&gt;&nbsp;&#8220;green&#8221;,&nbsp;&#8220;yellow&#8221;,&nbsp;&#8220;red&#8221;);</p>
<p>$result&nbsp;=&nbsp;array_diff($array1,&nbsp;$array2);</p>
<p>print_r($result);</p>
<p>Array
(</p>
<blockquote>
<div>[1] =&gt; blue</div></blockquote>
<p>)
More specialized versions of  the difference and intersection functions</p>
<p>In addition to array_diff() and array_interset(), there are versions of these functions that
1.) compare both the key and the value (this is more applicable to string-indexed arrays).
2.) compare only keys
3.) use a callbacks to do the comparison
The functions array_diff_assoc() and array_intersect_assoc()use both the key and the value in the comparison. For example,
$array1&nbsp;=&nbsp;array(&#8220;a&#8221;&nbsp;=&gt;&nbsp;&#8220;green&#8221;,&nbsp;&#8220;b&#8221;&nbsp;=&gt;&nbsp;&#8220;brown&#8221;,&nbsp;&#8220;c&#8221;&nbsp;=&gt;&nbsp;&#8220;blue&#8221;,&nbsp;&#8220;red&#8221;);
$array2&nbsp;=&nbsp;array(&#8220;a&#8221;&nbsp;=&gt;&nbsp;&#8220;green&#8221;,&nbsp;&#8220;yellow&#8221;,&nbsp;&#8220;red&#8221;);
$result_array&nbsp;=&nbsp;array_intersect_assoc($array1,&nbsp;$array2); // both values and keys must be identical
print_r($result_array);
Array
(</p>
<blockquote>
<div>[a] =&gt; green</div></blockquote>
<p>)</p>
<p>The value &#8220;red&#8221; was not returned because in $array1 its key is 0 while the key of &#8220;red&#8221; in $array2 is 1. The two values from the key =&gt; value pairs are considered equal only if (string) $elem1 === (string) $elem2 . In other words a strict type check is executed so the string representation must be the same.
Example of array_diff_assoc():
$array1&nbsp;=&nbsp;array(&#8220;a&#8221;&nbsp;=&gt;&nbsp;&#8220;green&#8221;,&nbsp;&#8220;b&#8221;&nbsp;=&gt;&nbsp;&#8220;brown&#8221;,&nbsp;&#8220;c&#8221;&nbsp;=&gt;&nbsp;&#8220;blue&#8221;,&nbsp;&#8220;red&#8221;);
$array2&nbsp;=&nbsp;array(&#8220;a&#8221;&nbsp;=&gt;&nbsp;&#8220;green&#8221;,&nbsp;&#8220;yellow&#8221;,&nbsp;&#8220;red&#8221;);
$result&nbsp;=&nbsp;array_diff_assoc($array1,&nbsp;$array2);
print_r($result);
Array
(</p>
<blockquote>
<div>[b] =&gt; brown
[c] =&gt; blue
[0] =&gt; red</div></blockquote>
<p>)
Like array_intersect_assoc()two key =&gt; value pairs are considered equal only if (string) $elem1 === (string) $elem2 . In other words a strict check takes place so the string representations must be the same. The pair 0 =&gt; &#8220;red&#8221; is in the ouput because in the second argument &#8220;red&#8221; has key which is 1 but its is 0 in the first argument.
The functions array_diff_key() and array_assoc_key()use the key and not its value in the comparison. Two keys are considered equal only if (string) $key1 === (string) $key2.
For each version of the difference and intersection functions, there is a callback version. For the assoc version there are two callback versions. These tables summarizes this.
Difference functions
array_diff()
(string) $value1 === (string) $value2
array_diff_assoc()
(string) $key1  === (string) $key2 &amp;&amp; (string) $value1 === (string) $value2
array_diff_key()
(string) $key1  === (string) $key2</p>
<p>Difference function that use callbacks
array_udiff()</p>
<blockquote>
<div>callback($value1, $value2)</div></blockquote>
<dl class="docutils">
<dt>array_udiff_assoc()</dt>
<dd>callback($value1, $value2) &amp;&amp;  (string) $value1 === (string) $value2</dd>
<dt>array_udiff_uassoc()</dt>
<dd>callback($key1, $key2) &amp;&amp; callback($value1, $value2)</dd>
<dt>array_diff_ukey()</dt>
<dd>callback($key1, $key2)</dd>
</dl>
<p>Intersection functions
array_intersect()
(string) $value1 === (string) $value2
array_intersect_assoc()
(string) $key1  === (string) $key2 &amp;&amp; (string) $value1 === (string) $value2
array_intersect_key()
(string) $key1  === (string) $key2</p>
<p>Intersection functions that use callbacks
array_uintersect()</p>
<blockquote>
<div>callback($value1, $value2)</div></blockquote>
<dl class="docutils">
<dt>array_uintersect_assoc()</dt>
<dd>callback($value1, $value2) &amp;&amp;  (string) $value1 === (string) $value2</dd>
<dt>array_uintersect_uassoc()</dt>
<dd>callback($key1, $key2) &amp;&amp; callback($value1, $value2)</dd>
<dt>array_intersect_ukey()</dt>
<dd>callback($key1, $key2)</dd>
</dl>
<p>The callback function must return an integer  either less than zero, zero, or greater than zero, indicating whether the first argument is, respectively, less than, equal to, or greater than the second.
These examples illustrate the use of the callback versions of the intersection functions. The callback will do a case insensitive comparison.
$array1&nbsp;=&nbsp;array(&#8220;a&#8221;&nbsp;=&gt;&nbsp;&#8220;green&#8221;,&nbsp;&#8220;b&#8221;&nbsp;=&gt;&nbsp;&#8220;brown&#8221;,&nbsp;&#8220;c&#8221;&nbsp;=&gt;&nbsp;&#8220;blue&#8221;,&nbsp;&#8220;red&#8221;);
$array2&nbsp;=&nbsp;array(&#8220;a&#8221;&nbsp;=&gt;&nbsp;&#8220;GREEN&#8221;,&nbsp;&#8220;B&#8221;&nbsp;=&gt;&nbsp;&#8220;brown&#8221;,&nbsp;&#8220;yellow&#8221;,&nbsp;&#8220;red&#8221;);</p>
<p>print_r(array_uintersect($array1,&nbsp;$array2,&nbsp;&#8220;strcasecmp&#8221;));
Array
(</p>
<blockquote>
<div>[a] =&gt; green
[b] =&gt; brown
[0] =&gt; red</div></blockquote>
<p>)</p>
<p>Next we use array_uintersect_assoc()
$array1&nbsp;=&nbsp;array(&#8220;a&#8221;&nbsp;=&gt;&nbsp;&#8220;green&#8221;,&nbsp;&#8220;b&#8221;&nbsp;=&gt;&nbsp;&#8220;brown&#8221;,&nbsp;&#8220;c&#8221;&nbsp;=&gt;&nbsp;&#8220;blue&#8221;,&nbsp;&#8220;red&#8221;);
$array2&nbsp;=&nbsp;array(&#8220;a&#8221;&nbsp;=&gt;&nbsp;&#8220;GREEN&#8221;,&nbsp;&#8220;B&#8221;&nbsp;=&gt;&nbsp;&#8220;brown&#8221;,&nbsp;&#8220;yellow&#8221;,&nbsp;&#8220;red&#8221;);</p>
<p>print_r(array_uintersect_assoc($array1,&nbsp;$array2,&nbsp;&#8220;strcasecmp&#8221;, &#8220;strcasecmp&#8221;));
Array
(</p>
<blockquote>
<div>[a] =&gt; green</div></blockquote>
<p>)</p>
<p>Next we use array_uintersect_uassoc()
$array1&nbsp;=&nbsp;array(&#8220;a&#8221;&nbsp;=&gt;&nbsp;&#8220;green&#8221;,&nbsp;&#8220;b&#8221;&nbsp;=&gt;&nbsp;&#8220;brown&#8221;,&nbsp;&#8220;c&#8221;&nbsp;=&gt;&nbsp;&#8220;blue&#8221;,&nbsp;&#8220;red&#8221;);
$array2&nbsp;=&nbsp;array(&#8220;a&#8221;&nbsp;=&gt;&nbsp;&#8220;GREEN&#8221;,&nbsp;&#8220;B&#8221;&nbsp;=&gt;&nbsp;&#8220;brown&#8221;,&nbsp;&#8220;yellow&#8221;,&nbsp;&#8220;red&#8221;);</p>
<p>print_r(array_uintersect_uassoc($array1,&nbsp;$array2,&nbsp;&#8220;strcasecmp&#8221;));
Array
(</p>
<blockquote>
<div>[a] =&gt; green
[b] =&gt; brown</div></blockquote>
<p>)</p>
<p>The difference callback version function the same way.
Stacks
Although not as common in PHP programs as in other programs, one fairly common data type is the last-in first-out (LIFO) stack. We can create stacks using a pair of PHP functions, array_push() and array_pop(). array_push()treats array as a stack, and pushes the passed variables onto the end of array . The length of array increases by the number of variables pushed. It has the same effect as:
&lt;?php
$array[]&nbsp;=&nbsp;$var;
?&gt;
repeated for each var. Example of array_push():
$stack&nbsp;=&nbsp;array(&#8220;orange&#8221;,&nbsp;&#8220;banana&#8221;);
array_push($stack,&nbsp;&#8220;apple&#8221;,&nbsp;&#8220;raspberry&#8221;);
print_r($stack);
Array
(</p>
<blockquote>
<div>[0] =&gt; orange
[1] =&gt; banana
[2] =&gt; apple
[3] =&gt; raspberry</div></blockquote>
<p>)
array_pop() pops and returns the last value of the array, shortening the array by one element. If array is empty (or is not an array), NULL will be returned. It will produce a warning  when called on a non-array.  Note: This function will reset()the array pointer after use.
$stack&nbsp;=&nbsp;array(&#8220;orange&#8221;,&nbsp;&#8220;banana&#8221;,&nbsp;&#8220;apple&#8221;,&nbsp;&#8220;raspberry&#8221;);
$fruit&nbsp;=&nbsp;array_pop($stack);
echo $fruit.’&lt;br /&gt;’;
print_r($stack);
raspberry
Array
(</p>
<blockquote>
<div>[0] =&gt; orange
[1] =&gt; banana
[2] =&gt; apple</div></blockquote>
<p>)
Using array_push() and array_pop() makes it clear that we&#8217;re working with stacks. If you only want to add one element to the end of an array, $arr[] = $var is much faster than calling array_push().
Stacks are particularly useful for maintaining state. This example provides a simple state debugger that allows you to print out a list of which functions have been called up to this point (i.e., the stack trace).
Example: State debugger
$call_trace = array();</p>
<p>function enter_function($name)
{</p>
<blockquote>
<div><p>global $call_trace;</p>
<p>array_push($call_trace, $name); // same as $call_trace[] = $name</p>
<p>echo &#8220;Entering $name (stack is now: &#8221; . join(&#8216; -&gt; &#8216;, $call_trace) . &#8216;)&lt;br /&gt;&#8217;;</p>
</div></blockquote>
<p>}</p>
<p>function exit_function( )
{</p>
<blockquote>
<div><p>echo &#8216;Exiting&lt;br /&gt;&#8217;;</p>
<p>global $call_trace;</p>
<p>array_pop($call_trace);        // we ignore array_pop()&#8217;s return value</p>
</div></blockquote>
<p>}</p>
<p>function first(  )
{</p>
<blockquote>
<div>enter_function(&#8216;first&#8217;);
exit_function();</div></blockquote>
<p>}</p>
<dl class="docutils">
<dt>function second() {</dt>
<dd><dl class="first docutils">
<dt>enter_function(&#8216;second&#8217;);</dt>
<dd>first(  );</dd>
</dl>
<p class="last">exit_function(  );</p>
</dd>
</dl>
<p>}</p>
<dl class="docutils">
<dt>function third() {</dt>
<dd><dl class="first docutils">
<dt>enter_function(&#8216;third&#8217;);</dt>
<dd>second(  );
first(  );</dd>
</dl>
<p class="last">exit_function(  );</p>
</dd>
</dl>
<p>}</p>
<p>first();
third();
Here&#8217;s the output from the Example:
Entering first (stack is now: first)
Exiting
Entering third (stack is now: third)
Entering second (stack is now: third -&gt; second)
Entering first (stack is now: third -&gt; second -&gt; first)
Exiting
Exiting
Entering first (stack is now: third -&gt; first)
Exiting
Exiting
The functions array_shift() and array_unshift() treat an array like a queue. Thus, array_shift() shifts the first value of the array off and returns it (or NULL if array is empty or is not an array), shortening the array by one element and moving everything down. All numerical array keys will be modified to start counting from zero while literal keys won&#8217;t be touched. array_shift()will reset() the array pointer after use.
$queue&nbsp;=&nbsp;array(&#8220;orange&#8221;,&nbsp;&#8220;banana&#8221;,&nbsp;&#8220;apple&#8221;,&nbsp;&#8220;raspberry&#8221;);
$fruit&nbsp;=&nbsp;array_shift($queue);
echo $stack.’&lt;br /&gt;’;
print_r($queue);
orange
Array
(</p>
<blockquote>
<div>[0] =&gt; banana
[1] =&gt; apple
[2] =&gt; raspberry</div></blockquote>
<p>)
int array_unshift (array &amp;$array , mixed $var [, mixed $... ] ) prepends elements to the front of the array. The list of elements is prepended as a whole, so the elements stay in the same order. All numerical array keys will be modified to start counting from zero while literal keys won&#8217;t be touched. array_unshift()returns the new number of elements in the array. Example:
$queue&nbsp;=&nbsp;array(&#8220;orange&#8221;,&nbsp;&#8220;banana&#8221;);
$count = array_unshift($queue,&nbsp;&#8220;apple&#8221;,&nbsp;&#8220;raspberry&#8221;);
print_r($queue);
echo $count.’&lt;br /&gt;’;
4
Array
(</p>
<blockquote>
<div>[0] =&gt; apple
[1] =&gt; raspberry
[2] =&gt; orange
[3] =&gt; banana</div></blockquote>
<p>)</p>
<p>To do:
Complete the additional array difference and intersection functions
PHP has a Standard Library: <a class="reference external" href="http://www">http://www</a>. &lt;?php.net/manual/en/book.spl. &lt;?php and <a class="reference external" href="http://www">http://www</a>. &lt;?phpbuilder.com/columns/bosanac20030225. &lt;?php3
<a class="reference external" href="http://www.alternateinterior.com/2007/01/recursive-data-structures-in">http://www.alternateinterior.com/2007/01/recursive-data-structures-in</a>- &lt;?php.html</p>
<p><a class="reference external" href="http://www.devshed.com/c/a/PHP/Iterators-in-the-Simplest-Sense-Traversing-Different-Data-Structures/1/">http://www.devshed.com/c/a/PHP/Iterators-in-the-Simplest-Sense-Traversing-Different-Data-Structures/1/</a></p>
</div>
<div class="section" id="array-slice-versus-array-splice">
<h2><code class="docutils literal"><span class="pre">array_slice</span></code> versus <code class="docutils literal"><span class="pre">array_splice</span></code><a class="headerlink" href="#array-slice-versus-array-splice" title="Permalink to this headline">¶</a></h2>
<p>A: <code class="docutils literal"><span class="pre">array_slice</span></code> returns a segment of the input array, which it does not alter.  <code class="docutils literal"><span class="pre">array_splice</span></code> is used to remove a segment and replace it will something else,
or simply to insert or remove a segment. Examples:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="nv">$i6</span> <span class="o">=</span> <span class="nv">$i5</span> <span class="o">=</span> <span class="nv">$i4</span> <span class="o">=</span> <span class="nv">$i3</span> <span class="o">=</span> <span class="nv">$i2</span> <span class="o">=</span> <span class="nv">$i1</span> <span class="o">=</span> <span class="nv">$input</span><span class="p">;</span>

<span class="nb">array_splice</span><span class="p">(</span><span class="nv">$i1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span> <span class="c1">// removes &quot;law&quot; and &quot;math&quot;</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$i1</span><span class="p">);</span>

<span class="nb">array_splice</span><span class="p">(</span><span class="nv">$i2</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>    <span class="c1">// leaves &quot;chem&quot;, &quot;biology&quot;</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$i2</span><span class="p">);</span>

<span class="c1">// Negative values indicate &quot;from (or up to) the end&quot;</span>
<span class="c1">// Remove from offset 1 up to (but not including) last element, -1</span>
<span class="nb">array_splice</span><span class="p">(</span><span class="nv">$i3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span> <span class="c1">// leaves &quot;chem&quot;, &quot;physics&quot;</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$i3</span><span class="p">);</span>

<span class="c1">// Remove starting at last element and moving toward front, removing 1 total elements</span>
<span class="nb">array_splice</span><span class="p">(</span><span class="nv">$i4</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span> <span class="c1">// removes &quot;physics&quot;</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$i4</span><span class="p">);</span>

<span class="c1">// To replace a segment</span>
<span class="nb">array_splice</span><span class="p">(</span><span class="nv">$i5</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;English&quot;</span><span class="p">,</span> <span class="s2">&quot;art&quot;</span><span class="p">));</span> <span class="c1">// replaces &quot;law&quot;, &quot;math&quot; with &quot;English&quot;, &quot;art&quot;</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$i5</span><span class="p">);</span>

<span class="c1">// To insert the segment, use 0 for removal</span>
<span class="nb">array_splice</span><span class="p">(</span><span class="nv">$i6</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s2">&quot;English&quot;</span><span class="p">,</span> <span class="s2">&quot;art&quot;</span><span class="p">));</span>
<span class="nb">print_r</span><span class="p">(</span><span class="nv">$i6</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="basic-iter.html" title="Basic Iterator interfaces"
             >next</a> |</li>
        <li class="right" >
          <a href="../index.html" title="PHP Standard Library Notes"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PHP SPL Iterators 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Kurt Krueckeberg.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>