<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Basic Iterator interfaces &mdash; PHP SPL Iterators 1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="PHP SPL Iterators 1 documentation" href="../index.html" />
    <link rel="next" title="SplFileObject" href="splfileobject.html" />
    <link rel="prev" title="Arrays" href="array-review.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="splfileobject.html" title="SplFileObject"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="array-review.html" title="Arrays"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PHP SPL Iterators 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Basic Iterator interfaces</a><ul>
<li><a class="reference internal" href="#iterator-interface">Iterator interface</a><ul>
<li><a class="reference internal" href="#example-implementations">Example implementations</a></li>
</ul>
</li>
<li><a class="reference internal" href="#iteratoraggregate-interface">IteratorAggregate interface</a><ul>
<li><a class="reference internal" href="#example-implementation">Example implementation</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="array-review.html"
                        title="previous chapter">Arrays</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="splfileobject.html"
                        title="next chapter">SplFileObject</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/notes/basic-iter.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="basic-iterator-interfaces">
<h1>Basic Iterator interfaces<a class="headerlink" href="#basic-iterator-interfaces" title="Permalink to this headline">¶</a></h1>
<div class="section" id="iterator-interface">
<h2>Iterator interface<a class="headerlink" href="#iterator-interface" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal"><span class="pre">Iterator</span></code> interface allows an object to be used in <code class="docutils literal"><span class="pre">foreach</span></code> loops, where the foreach loop implicitly calls the <code class="docutils literal"><span class="pre">Iterator</span></code> methods.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">interface</span> <span class="nc">Iterator</span> <span class="o">{</span> <span class="c1">// conceptual definitions</span>
    <span class="kd">public</span> <span class="n">function</span> <span class="n">mixed</span> <span class="nf">current</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="n">function</span> <span class="n">scalar</span> <span class="nf">key</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="n">function</span> <span class="kt">void</span> <span class="nf">next</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="n">function</span> <span class="kt">void</span> <span class="nf">rewind</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>
    <span class="kd">public</span> <span class="n">function</span> <span class="kt">boolean</span> <span class="nf">valid</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">);</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">MyContainer</span> <span class="kd">implements</span> <span class="n">Iterator</span> <span class="o">{</span>
   <span class="c1">//...snip</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The foreach loop below</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">$x</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyClass</span><span class="o">();</span> <span class="c1">// implements Iterator</span>
<span class="c1">//...add some elements</span>
<span class="c1">// iterate using ``foreach``</span>
<span class="n">foreach</span><span class="o">(</span><span class="n">$x</span> <span class="n">as</span> <span class="n">$current</span><span class="o">)</span> <span class="o">{</span>

    <span class="n">echo</span> <span class="n">$current</span><span class="o">;</span>
<span class="o">}</span>
</pre></div>
</div>
<p>is equivalent to these explicit <code class="docutils literal"><span class="pre">Iterator</span></code> calls and for loop:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
 <span class="nv">$x</span><span class="o">-&gt;</span><span class="na">rewind</span><span class="p">();</span>

 <span class="k">for</span><span class="p">(</span> <span class="nv">$x</span><span class="o">-&gt;</span><span class="na">rewind</span><span class="p">();</span> <span class="nv">$x</span><span class="o">-&gt;</span><span class="na">valid</span><span class="p">();</span> <span class="nv">$x</span><span class="o">-&gt;</span><span class="na">next</span><span class="p">())</span> <span class="p">{</span>  <span class="c1">// called each time</span>

    <span class="nv">$echo</span> <span class="nv">$x</span><span class="o">-&gt;</span><span class="na">current</span><span class="p">();</span>

 <span class="p">}</span>
</pre></div>
</div>
<div class="section" id="example-implementations">
<h3>Example implementations<a class="headerlink" href="#example-implementations" title="Permalink to this headline">¶</a></h3>
<p>This code shows how to implement an iterator for an array.</p>
<div class="highlight-php" id="myarrayiteratorimplementation"><div class="highlight"><pre><span class="cp">&lt;?php</span>
 <span class="k">class</span> <span class="nc">MyArrayIterator</span> <span class="k">implements</span> <span class="nx">Iterator</span> <span class="p">{</span>

     <span class="k">array</span> <span class="k">private</span> <span class="nv">$a</span><span class="p">;</span>

     <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="o">&amp;</span><span class="nv">$a</span><span class="p">)</span>
     <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">a</span> <span class="o">=</span> <span class="nv">$a</span><span class="p">;</span>
     <span class="p">}</span>

     <span class="k">public</span> <span class="k">function</span> <span class="nf">valid</span><span class="p">()</span>
     <span class="p">{</span>
        <span class="k">return</span> <span class="nb">current</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">a</span><span class="p">)</span> <span class="o">!==</span> <span class="k">false</span><span class="p">;</span>
     <span class="p">}</span>

     <span class="k">public</span> <span class="k">function</span> <span class="nf">next</span><span class="p">()</span>
     <span class="p">{</span>
        <span class="nb">next</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">a</span><span class="p">);</span>
        <span class="k">return</span><span class="p">;</span>
     <span class="p">}</span>

     <span class="k">public</span> <span class="k">function</span> <span class="nf">current</span><span class="p">()</span>
     <span class="p">{</span>
        <span class="k">return</span> <span class="nb">current</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">a</span><span class="p">);</span>
     <span class="p">}</span>

     <span class="k">public</span> <span class="k">function</span> <span class="nf">rewind</span><span class="p">()</span>
     <span class="p">{</span>
        <span class="nb">reset</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">a</span><span class="p">);</span>
     <span class="p">}</span>

     <span class="k">public</span> <span class="k">function</span> <span class="nf">key</span><span class="p">()</span>
     <span class="p">{</span>
        <span class="k">return</span> <span class="nb">key</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">a</span><span class="p">);</span>
     <span class="p">}</span>
 <span class="p">}</span>
</pre></div>
</div>
<p>And we would use it like so:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
 <span class="nv">$a</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;a&#39;</span> <span class="o">=&gt;</span> <span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span> <span class="o">=&gt;</span> <span class="s2">&quot;bear&quot;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span> <span class="o">=&gt;</span> <span class="s2">&quot;camel&quot;</span><span class="p">);</span>

 <span class="nv">$iter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MyArrayIterator</span><span class="p">(</span><span class="nv">$a</span><span class="p">);</span>
 <span class="k">foreach</span><span class="p">(</span><span class="nv">$iter</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>

     <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">$key</span><span class="s2"> = </span><span class="si">$value\n</span><span class="s2">&quot;</span><span class="p">;</span>
 <span class="p">}</span>
</pre></div>
</div>
<p>Since php provides a built-in array iterator, we could have simply used it:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
 <span class="nv">$a</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">&#39;a&#39;</span> <span class="o">=&gt;</span> <span class="s2">&quot;apple&quot;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span> <span class="o">=&gt;</span> <span class="s2">&quot;bear&quot;</span><span class="p">,</span> <span class="s1">&#39;c&#39;</span> <span class="o">=&gt;</span> <span class="s2">&quot;camel&quot;</span><span class="p">);</span>

 <span class="nv">$iter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">ArrayIterator</span><span class="p">(</span><span class="nv">$a</span><span class="p">);</span>
 <span class="k">foreach</span><span class="p">(</span><span class="nv">$iter</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>

     <span class="k">echo</span> <span class="s2">&quot;</span><span class="si">$key</span><span class="s2"> = </span><span class="si">$value\n</span><span class="s2">&quot;</span><span class="p">;</span>
 <span class="p">}</span>
</pre></div>
</div>
<p>The code below shows how to implement a text file iterator:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">TextFileReadIterator</span> <span class="k">implements</span> <span class="nx">Iterator</span> <span class="p">{</span>

    <span class="k">private</span> <span class="nv">$fh</span><span class="p">;</span>
    <span class="k">private</span> <span class="nv">$line_no</span><span class="p">;</span>
    <span class="k">private</span> <span class="nv">$text</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$filename</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$rc</span> <span class="o">=</span> <span class="nb">fopen</span><span class="p">(</span><span class="nv">$filename</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="nv">$rc</span> <span class="o">===</span> <span class="k">FALSE</span><span class="p">)</span> <span class="p">{</span>
             <span class="k">throw</span> <span class="k">new</span> <span class="nx">Exception</span><span class="p">(</span><span class="nv">$filename</span> <span class="o">.</span> <span class="s2">&quot;file could not be opened&quot;</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fh</span> <span class="o">=</span> <span class="nv">$rc</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">rewind</span><span class="p">();</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">valid</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$rc</span> <span class="o">=</span> <span class="nb">feof</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fh</span><span class="p">);</span>
        <span class="k">return</span> <span class="p">(</span><span class="nv">$rc</span> <span class="o">===</span> <span class="k">true</span><span class="p">)</span> <span class="o">?</span> <span class="k">false</span> <span class="o">:</span> <span class="k">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">next</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">text</span> <span class="o">=</span> <span class="nb">fgets</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fh</span><span class="p">);</span>

        <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">text</span> <span class="o">!==</span> <span class="k">FALSE</span><span class="p">)</span> <span class="p">{</span>
            <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">line_no</span><span class="o">++</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">current</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">text</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">key</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">line_no</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">rewind</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="nb">fseek</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">fh</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">line_no</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">next</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Which would be used like this:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="k">include</span> <span class="s2">&quot;TextFileIterator.php&quot;</span><span class="p">;</span>

<span class="nv">$fileiter</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">TextFileReadIterator</span><span class="p">(</span><span class="s2">&quot;/home/kurt/www/kurttest/spl/notes/spl-iterators.rst&quot;</span><span class="p">);</span>

<span class="k">foreach</span><span class="p">(</span><span class="nv">$fileiter</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>

    <span class="k">echo</span> <span class="s2">&quot;Line number is &quot;</span> <span class="o">.</span> <span class="nv">$key</span> <span class="o">.</span> <span class="s2">&quot; text is </span><span class="se">\n</span><span class="si">$value\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The built–PHP <strong>SplFileObject</strong> class already provides this functionality. There are other PHP classes that support iteration. Examples include
<strong>SimpleXMLElement</strong>, <strong>DomNodeList</strong> and <strong>PDOstatement</strong>.</p>
</div>
</div>
<div class="section" id="iteratoraggregate-interface">
<h2>IteratorAggregate interface<a class="headerlink" href="#iteratoraggregate-interface" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">IteratorAggregate</span></code> lets you implement your iterator externally. It has only one method, <code class="docutils literal"><span class="pre">getIterator()</span></code> that returns an <code class="docutils literal"><span class="pre">Iterator</span></code>.</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">IteratorAggregate</span> <span class="kd">extends</span> <span class="n">Traversable</span> <span class="o">{</span>
    <span class="cm">/* Methods */</span>
    <span class="kd">abstract</span> <span class="kd">public</span> <span class="n">Traversable</span> <span class="nf">getIterator</span> <span class="o">(</span> <span class="kt">void</span> <span class="o">)</span>
<span class="o">}</span>
</pre></div>
</div>
<div class="highlight-java"><div class="highlight"><pre><span class="kd">class</span> <span class="nc">MyContainer</span> <span class="kd">implements</span> <span class="n">IteratorAggregate</span> <span class="o">{</span>
   <span class="kd">public</span> <span class="n">function</span> <span class="nf">getIterator</span><span class="o">()</span> <span class="o">{</span> <span class="k">return</span> <span class="k">new</span> <span class="n">MyExternalIterator</span><span class="o">(</span><span class="n">$this</span><span class="o">);</span> <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">MyExternalIterator</span> <span class="kd">implements</span> <span class="n">Iterator</span> <span class="o">{</span>
 <span class="c1">//...snip</span>
    <span class="kd">public</span> <span class="n">function</span> <span class="nf">__construct</span><span class="o">(</span><span class="n">MyContainer</span> <span class="n">$member</span><span class="o">)</span>
    <span class="o">{</span>
      <span class="c1">// Store $member locally for iteration</span>
    <span class="o">}</span>

    <span class="c1">// Implementations for: current(), key(), next(), rewind() and valid() to iterate over data in $member</span>
<span class="o">}</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">foreach</span></code> also implicitly calls <strong>getIterator()</strong></p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
 <span class="nv">$x</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SomeClass</span><span class="p">();</span> <span class="c1">// implements IteratorAggregate</span>
 <span class="c1">//...add some elements</span>
 <span class="c1">// iterate using ``foreach``</span>
 <span class="k">foreach</span><span class="p">(</span><span class="nv">$x</span> <span class="k">as</span> <span class="nv">$element</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// calls SomeClass::getIterator()</span>

     <span class="k">echo</span> <span class="nv">$element</span> <span class="o">.</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
 <span class="p">}</span>
</pre></div>
</div>
<div class="section" id="example-implementation">
<h3>Example implementation<a class="headerlink" href="#example-implementation" title="Permalink to this headline">¶</a></h3>
<p>The <a class="reference external" href="http://en.wikipedia.org/wiki/Composite_Pattern">Composite Pattern</a> can be implemented using IteratorAggregate. Below class Menu is the composite class. It implements IteratorAggregate to return an external iterator.
The base class class of the containment hierarchy is MenuComponent. It too implements IteratorAggregate and returns an instance of EmptyIterator.</p>
<p>In the code below The Menu::__toString() method invokes foreach on its components—either submenus or menu items.</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="k">abstract</span> <span class="k">class</span> <span class="nc">MenuComponent</span> <span class="k">implements</span> <span class="nx">IteratorAggregate</span> <span class="p">{</span>

     <span class="k">public</span> <span class="k">function</span> <span class="nf">add</span><span class="p">(</span><span class="nx">MenuComponent</span>  <span class="nv">$m</span><span class="p">)</span>
     <span class="p">{</span>
         <span class="k">throw</span> <span class="k">new</span> <span class="nx">\Exception</span><span class="p">(</span><span class="s2">&quot;method MenuComponent::add not implemented&quot;</span><span class="p">);</span>
     <span class="p">}</span>
     <span class="k">public</span> <span class="k">function</span> <span class="nf">remove</span><span class="p">(</span><span class="nx">MenuComponent</span> <span class="nv">$m</span><span class="p">)</span>
     <span class="p">{</span>
         <span class="k">throw</span> <span class="k">new</span> <span class="nx">\Exception</span><span class="p">(</span><span class="s2">&quot;method MenuComponent::remove not implemented&quot;</span><span class="p">);</span>
     <span class="p">}</span>

     <span class="k">public</span> <span class="k">function</span> <span class="nf">getName</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string</span>
     <span class="p">{</span>
         <span class="k">throw</span> <span class="k">new</span> <span class="nx">\Exception</span><span class="p">(</span><span class="s2">&quot;method MenuComponent::getName not implemented&quot;</span><span class="p">);</span>
     <span class="p">}</span>
     <span class="k">public</span> <span class="k">function</span> <span class="nf">getDescription</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string</span>
     <span class="p">{</span>
         <span class="k">throw</span> <span class="k">new</span> <span class="nx">\Exception</span><span class="p">(</span><span class="s2">&quot;method MenuComponent::getDescription  not implemented&quot;</span><span class="p">);</span>
     <span class="p">}</span>
     <span class="k">public</span> <span class="k">function</span> <span class="nf">getPrice</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string</span>
     <span class="p">{</span>
         <span class="k">throw</span> <span class="k">new</span> <span class="nx">\Exception</span><span class="p">(</span><span class="s2">&quot;method MenuComponent::getPrice not implemented&quot;</span><span class="p">);</span>
     <span class="p">}</span>
     <span class="k">public</span> <span class="k">function</span> <span class="nf">isVegetarian</span><span class="p">()</span> <span class="o">:</span> <span class="nx">bool</span>
     <span class="p">{</span>
         <span class="k">throw</span> <span class="k">new</span> <span class="nx">\Exception</span><span class="p">(</span><span class="s2">&quot;method MenuComponent::isVegetarian not implemented&quot;</span><span class="p">);</span>
     <span class="p">}</span>
     <span class="k">public</span> <span class="k">function</span> <span class="nf">getIterator</span><span class="p">()</span> <span class="o">:</span> <span class="nx">\Iterator</span>
     <span class="p">{</span>
          <span class="k">return</span> <span class="k">new</span> <span class="nx">EmptyIterator</span><span class="p">();</span>
     <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The MenuItem class looks like this</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">MenuItem</span> <span class="k">extends</span> <span class="nx">MenuComponent</span> <span class="p">{</span>

    <span class="k">private</span> <span class="nv">$name</span><span class="p">;</span>
    <span class="k">private</span> <span class="nv">$description</span><span class="p">;</span>
    <span class="k">private</span> <span class="nv">$vegetarian</span><span class="p">;</span>
    <span class="k">private</span> <span class="nv">$price</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$name</span><span class="p">,</span> <span class="nx">string</span> <span class="nv">$description</span><span class="p">,</span> <span class="nx">bool</span> <span class="nv">$vegetarian</span><span class="p">,</span> <span class="nx">float</span> <span class="nv">$price</span><span class="p">)</span>
    <span class="p">{</span>
          <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="nv">$name</span><span class="p">;</span>
          <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">description</span> <span class="o">=</span> <span class="nv">$description</span><span class="p">;</span>
          <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">vegetarian</span> <span class="o">=</span> <span class="nv">$vegetarian</span><span class="p">;</span>
          <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span> <span class="o">=</span> <span class="nv">$price</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getName</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string</span>
    <span class="p">{</span>
          <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getDescription</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string</span>
    <span class="p">{</span>
          <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">description</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">getPrice</span><span class="p">()</span> <span class="o">:</span> <span class="nx">float</span>
    <span class="p">{</span>
          <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">price</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">isVegetarian</span><span class="p">()</span> <span class="o">:</span> <span class="nx">bool</span>
    <span class="p">{</span>
          <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">vegetarian</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">__toString</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string</span>
    <span class="p">{</span>
          <span class="nv">$str</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">  &quot;</span> <span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getName</span><span class="p">();</span>

          <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">isVegetarian</span><span class="p">())</span> <span class="p">{</span>

              <span class="nv">$str</span> <span class="o">.=</span> <span class="s2">&quot;(v)&quot;</span><span class="p">;</span>
          <span class="p">}</span>

          <span class="nv">$str</span> <span class="o">.=</span>  <span class="s2">&quot;, &quot;</span> <span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getPrice</span><span class="p">();</span>
          <span class="nv">$str</span> <span class="o">.=</span> <span class="s2">&quot;     -- &quot;</span> <span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getDescription</span><span class="p">();</span>

          <span class="k">return</span> <span class="nv">$str</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Finally, Menu looks like this</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>

<span class="k">class</span> <span class="nc">Menu</span> <span class="k">extends</span> <span class="nx">MenuComponent</span> <span class="k">implements</span> <span class="nx">IteratorAggregate</span> <span class="p">{</span>

   <span class="k">private</span> <span class="nv">$menuComponents</span><span class="p">;</span>
   <span class="k">private</span> <span class="nv">$name</span><span class="p">;</span>
   <span class="k">private</span> <span class="nv">$description</span><span class="p">;</span>

   <span class="k">public</span> <span class="k">function</span> <span class="nf">__construct</span><span class="p">(</span><span class="nx">string</span> <span class="nv">$name</span><span class="p">,</span> <span class="nx">string</span> <span class="nv">$description</span><span class="p">)</span>
   <span class="p">{</span>
       <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">description</span> <span class="o">=</span> <span class="nv">$description</span><span class="p">;</span>
       <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span> <span class="o">=</span> <span class="nv">$name</span><span class="p">;</span>
       <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">menuComponents</span> <span class="o">=</span> <span class="k">array</span><span class="p">();</span>
   <span class="p">}</span>

   <span class="k">public</span> <span class="k">function</span> <span class="nf">add</span><span class="p">(</span><span class="nx">MenuComponent</span> <span class="nv">$menuComponent</span><span class="p">)</span>
   <span class="p">{</span>
       <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">menuComponents</span><span class="p">[</span><span class="nb">spl_object_hash</span><span class="p">(</span><span class="nv">$menuComponent</span><span class="p">)]</span> <span class="o">=</span> <span class="nv">$menuComponent</span><span class="p">;</span>
   <span class="p">}</span>

   <span class="k">public</span> <span class="k">function</span> <span class="nf">remove</span><span class="p">(</span><span class="nx">MenuComponent</span> <span class="nv">$menuComponent</span><span class="p">)</span>
   <span class="p">{</span>
       <span class="nb">unset</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">menuComponents</span><span class="p">[</span><span class="nx">\spl_object_hash</span><span class="p">(</span><span class="nv">$menuComponent</span><span class="p">)]);</span>
   <span class="p">}</span>

   <span class="k">public</span> <span class="k">function</span> <span class="nf">getIterator</span><span class="p">()</span> <span class="o">:</span> <span class="nx">\Iterator</span>
   <span class="p">{</span>
       <span class="k">echo</span> <span class="s2">&quot;Menu::getIterator() just called</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
       <span class="k">return</span> <span class="k">new</span> <span class="nx">ArrayIterator</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">menuComponents</span><span class="p">);</span>
   <span class="p">}</span>

   <span class="k">public</span> <span class="k">function</span> <span class="nf">getName</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string</span> <span class="p">{</span> <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">name</span><span class="p">;</span> <span class="p">}</span>

   <span class="k">public</span> <span class="k">function</span> <span class="nf">getDescription</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string</span> <span class="p">{</span> <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">description</span><span class="p">;</span> <span class="p">}</span>

   <span class="k">public</span> <span class="k">function</span> <span class="nf">__toString</span><span class="p">()</span> <span class="o">:</span> <span class="nx">string</span>
   <span class="p">{</span>
       <span class="nv">$str</span> <span class="o">=</span><span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span> <span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getName</span><span class="p">();</span>
       <span class="nv">$str</span> <span class="o">.=</span> <span class="s2">&quot;, &quot;</span> <span class="o">.</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">getDescription</span><span class="p">();</span>
       <span class="nv">$str</span> <span class="o">.=</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">---------------------&quot;</span><span class="p">;</span>

       <span class="k">foreach</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">menuComponents</span> <span class="k">as</span> <span class="nv">$component</span><span class="p">)</span> <span class="p">{</span>

        <span class="nv">$str</span> <span class="o">.=</span> <span class="nv">$component</span><span class="p">;</span> <span class="c1">// calls component&#39;s __toString()</span>
       <span class="p">}</span>
       <span class="nv">$str</span> <span class="o">.=</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">;</span>
       <span class="k">return</span> <span class="nv">$str</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Finally, The test code looks like this</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="k">include</span> <span class="s2">&quot;SplClassLoader.php&quot;</span><span class="p">;</span>

<span class="nv">$loader</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">SplClassLoader</span><span class="p">();</span>
<span class="nv">$loader</span><span class="o">-&gt;</span><span class="na">register</span><span class="p">();</span>

<span class="k">try</span> <span class="p">{</span>

    <span class="nv">$pancakeHouseMenu</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Menu</span><span class="p">(</span><span class="s2">&quot;PANCAKE HOUSE MENU&quot;</span><span class="p">,</span> <span class="s2">&quot;Breakfast&quot;</span><span class="p">);</span>

    <span class="nv">$dinerMenu</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Menu</span><span class="p">(</span><span class="s2">&quot;DINER MENU&quot;</span><span class="p">,</span> <span class="s2">&quot;Lunch&quot;</span><span class="p">);</span>

    <span class="nv">$cafeMenu</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Menu</span><span class="p">(</span><span class="s2">&quot;CAFE MENU&quot;</span><span class="p">,</span> <span class="s2">&quot;Dinner&quot;</span><span class="p">);</span>

    <span class="nv">$dessertMenu</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Menu</span><span class="p">(</span><span class="s2">&quot;DESSERT MENU&quot;</span><span class="p">,</span> <span class="s2">&quot;Dessert of course!&quot;</span><span class="p">);</span>

    <span class="nv">$coffeeMenu</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Menu</span><span class="p">(</span><span class="s2">&quot;COFFEE MENU&quot;</span><span class="p">,</span> <span class="s2">&quot;Stuff to go with your afternoon coffee&quot;</span><span class="p">);</span>

    <span class="nv">$allMenus</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Menu</span><span class="p">(</span><span class="s2">&quot;ALL MENUS&quot;</span><span class="p">,</span> <span class="s2">&quot;All menus combined&quot;</span><span class="p">);</span>

    <span class="nv">$allMenus</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="nv">$pancakeHouseMenu</span><span class="p">);</span>
    <span class="nv">$allMenus</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="nv">$dinerMenu</span><span class="p">);</span>
    <span class="nv">$allMenus</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="nv">$cafeMenu</span><span class="p">);</span>

    <span class="nv">$pancakeItem</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MenuItem</span><span class="p">(</span>
            <span class="s2">&quot;K&amp;B&#39;s Pancake Breakfast&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Pancakes with scrambled eggs, and toast&quot;</span><span class="p">,</span>
            <span class="k">true</span><span class="p">,</span>
            <span class="mf">2.99</span><span class="p">);</span>

    <span class="nv">$pancakeHouseMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="nv">$pancakeItem</span><span class="p">);</span>

    <span class="nv">$pancakeHouseMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">(</span>
            <span class="s2">&quot;Regular Pancake Breakfast&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Pancakes with fried eggs, sausage&quot;</span><span class="p">,</span>
            <span class="k">false</span><span class="p">,</span>
            <span class="mf">2.99</span><span class="p">));</span>

    <span class="nv">$pancakeHouseMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">(</span>
            <span class="s2">&quot;Blueberry Pancakes&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Pancakes made with fresh blueberries, and blueberry syrup&quot;</span><span class="p">,</span>
            <span class="k">true</span><span class="p">,</span>
            <span class="mf">3.49</span><span class="p">));</span>

    <span class="nv">$pancakeHouseMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">(</span>
            <span class="s2">&quot;Waffles&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Waffles, with your choice of blueberries or strawberries&quot;</span><span class="p">,</span>
            <span class="k">true</span><span class="p">,</span>
            <span class="mf">3.59</span><span class="p">));</span>

    <span class="nv">$dinerMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">(</span>
            <span class="s2">&quot;Vegetarian BLT&quot;</span><span class="p">,</span>
            <span class="s2">&quot;(Fakin&#39;) Bacon with lettuce &amp; tomato on whole wheat&quot;</span><span class="p">,</span>
            <span class="k">true</span><span class="p">,</span>
            <span class="mf">2.99</span><span class="p">));</span>
    <span class="nv">$dinerMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">(</span>
            <span class="s2">&quot;BLT&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Bacon with lettuce &amp; tomato on whole wheat&quot;</span><span class="p">,</span>
            <span class="k">false</span><span class="p">,</span>
            <span class="mf">2.99</span><span class="p">));</span>

    <span class="nv">$dinerMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">(</span>
            <span class="s2">&quot;Soup of the day&quot;</span><span class="p">,</span>
            <span class="s2">&quot;A bowl of the soup of the day, with a side of potato salad&quot;</span><span class="p">,</span>
            <span class="k">false</span><span class="p">,</span>
            <span class="mf">3.29</span><span class="p">));</span>

    <span class="nv">$dinerMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">(</span>
            <span class="s2">&quot;Hotdog&quot;</span><span class="p">,</span>
            <span class="s2">&quot;A hot dog, with saurkraut, relish, onions, topped with cheese&quot;</span><span class="p">,</span>
            <span class="k">false</span><span class="p">,</span>
            <span class="mf">3.05</span><span class="p">));</span>
    <span class="nv">$dinerMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">(</span>
            <span class="s2">&quot;Steamed Veggies and Brown Rice&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Steamed vegetables over brown rice&quot;</span><span class="p">,</span>
            <span class="k">true</span><span class="p">,</span>
            <span class="mf">3.99</span><span class="p">));</span>

    <span class="nv">$dinerMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">(</span>
            <span class="s2">&quot;Pasta&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Spaghetti with Marinara Sauce, and a slice of sourdough bread&quot;</span><span class="p">,</span>
            <span class="k">true</span><span class="p">,</span>
            <span class="mf">3.89</span><span class="p">));</span>

    <span class="nv">$dinerMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="nv">$dessertMenu</span><span class="p">);</span>

    <span class="nv">$dessertMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">(</span>
            <span class="s2">&quot;Apple Pie&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Apple pie with a flakey crust, topped with vanilla icecream&quot;</span><span class="p">,</span>
            <span class="k">true</span><span class="p">,</span>
            <span class="mf">1.59</span><span class="p">));</span>

    <span class="nv">$dessertMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">(</span>
            <span class="s2">&quot;Cheesecake&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Creamy New York cheesecake, with a chocolate graham crust&quot;</span><span class="p">,</span>
            <span class="k">true</span><span class="p">,</span>
            <span class="mf">1.99</span><span class="p">));</span>

    <span class="nv">$dessertMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">(</span>
            <span class="s2">&quot;Sorbet&quot;</span><span class="p">,</span>
            <span class="s2">&quot;A scoop of raspberry and a scoop of lime&quot;</span><span class="p">,</span>
            <span class="k">true</span><span class="p">,</span>
            <span class="mf">1.89</span><span class="p">));</span>

    <span class="nv">$cafeMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">(</span>
            <span class="s2">&quot;Veggie Burger and Air Fries&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Veggie burger on a whole wheat bun, lettuce, tomato, and fries&quot;</span><span class="p">,</span>
            <span class="k">true</span><span class="p">,</span>
            <span class="mf">3.99</span><span class="p">));</span>

    <span class="nv">$cafeMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">(</span>
            <span class="s2">&quot;Soup of the day&quot;</span><span class="p">,</span>
            <span class="s2">&quot;A cup of the soup of the day, with a side salad&quot;</span><span class="p">,</span>
            <span class="k">false</span><span class="p">,</span>
            <span class="mf">3.69</span><span class="p">));</span>

    <span class="nv">$cafeMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">(</span>
            <span class="s2">&quot;Burrito&quot;</span><span class="p">,</span>
            <span class="s2">&quot;A large burrito, with whole pinto beans, salsa, guacamole&quot;</span><span class="p">,</span>
            <span class="k">true</span><span class="p">,</span>
            <span class="mf">4.29</span><span class="p">));</span>

    <span class="nv">$cafeMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="nv">$coffeeMenu</span><span class="p">);</span>

    <span class="nv">$coffeeMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">(</span>
            <span class="s2">&quot;Coffee Cake&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Crumbly cake topped with cinnamon and walnuts&quot;</span><span class="p">,</span>
            <span class="k">true</span><span class="p">,</span>
        <span class="mf">1.59</span><span class="p">));</span>

    <span class="nv">$coffeeMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">(</span>
            <span class="s2">&quot;Bagel&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Flavors include sesame, poppyseed, cinnamon raisin, pumpkin&quot;</span><span class="p">,</span>
            <span class="k">false</span><span class="p">,</span>
            <span class="mf">0.69</span><span class="p">));</span>

    <span class="nv">$coffeeMenu</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span class="k">new</span> <span class="nx">MenuItem</span><span class="p">(</span>
            <span class="s2">&quot;Biscotti&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Three almond or hazelnut biscotti cookies&quot;</span><span class="p">,</span>
            <span class="k">true</span><span class="p">,</span>
            <span class="mf">0.89</span><span class="p">));</span>

    <span class="k">echo</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">===================</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>

    <span class="k">foreach</span> <span class="p">(</span><span class="nv">$allMenus</span> <span class="k">as</span> <span class="nv">$current</span><span class="p">)</span> <span class="p">{</span>

           <span class="k">echo</span> <span class="nv">$current</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="nv">$d</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>

<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">Exception</span> <span class="nv">$ex</span><span class="p">)</span> <span class="p">{</span>

   <span class="k">echo</span> <span class="s2">&quot;Exception on line &quot;</span> <span class="o">.</span> <span class="nv">$ex</span><span class="o">-&gt;</span><span class="na">getLine</span><span class="p">()</span> <span class="o">.</span> <span class="s2">&quot; of file &quot;</span> <span class="o">.</span> <span class="nv">$ex</span><span class="o">-&gt;</span><span class="na">getFile</span><span class="p">()</span> <span class="o">.</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
   <span class="k">echo</span> <span class="nv">$ex</span><span class="o">-&gt;</span><span class="na">getMessage</span><span class="p">();</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Will return this output:</p>
<div class="highlight-python"><div class="highlight"><pre>Menu::getIterator() just called

PANCAKE HOUSE MENU, Breakfast
---------------------
  K &amp;amp; B&#39;s Pancake Breakfast(v), 2.99     -- Pancakes with scrambled eggs, and toast
  Regular Pancake Breakfast, 2.99     -- Pancakes with fried eggs, sausage
  Blueberry Pancakes(v), 3.49     -- Pancakes made with fresh blueberries, and blueberry syrup
  Waffles(v), 3.59     -- Waffles, with your choice of blueberries or strawberries


DINER MENU, Lunch
---------------------
  Vegetarian BLT(v), 2.99     -- (Fakin&#39;) Bacon with lettuce &amp; tomato on whole wheat
  BLT, 2.99     -- Bacon with lettuce &amp; tomato on whole wheat
  Soup of the day, 3.29     -- A bowl of the soup of the day, with a side of potato salad
  Hotdog, 3.05     -- A hot dog, with saurkraut, relish, onions, topped with cheese
  Steamed Veggies and Brown Rice(v), 3.99     -- Steamed vegetables over brown rice
  Pasta(v), 3.89     -- Spaghetti with Marinara Sauce, and a slice of sourdough bread
DESSERT MENU, Dessert of course!
---------------------
  Apple Pie(v), 1.59     -- Apple pie with a flakey crust, topped with vanilla icecream
  Cheesecake(v), 1.99     -- Creamy New York cheesecake, with a chocolate graham crust
  Sorbet(v), 1.89     -- A scoop of raspberry and a scoop of lime




CAFE MENU, Dinner
---------------------
  Veggie Burger and Air Fries(v), 3.99     -- Veggie burger on a whole wheat bun, lettuce, tomato, and fries
  Soup of the day, 3.69     -- A cup of the soup of the day, with a side salad
  Burrito(v), 4.29     -- A large burrito, with whole pinto beans, salsa, guacamole
COFFEE MENU, Stuff to go with your afternoon coffee
---------------------
  Coffee Cake(v), 1.59     -- Crumbly cake topped with cinnamon and walnuts
  Bagel, 0.69     -- Flavors include sesame, poppyseed, cinnamon raisin, pumpkin
  Biscotti(v), 0.89     -- Three almond or hazelnut biscotti cookies
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="splfileobject.html" title="SplFileObject"
             >next</a> |</li>
        <li class="right" >
          <a href="array-review.html" title="Arrays"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PHP SPL Iterators 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Kurt Krueckeberg.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>