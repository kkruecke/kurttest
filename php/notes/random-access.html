<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Random Access interfaces &mdash; PHP SPL Iterators 1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="PHP SPL Iterators 1 documentation" href="../index.html" />
    <link rel="next" title="Iterating Recursive Structures" href="recursive-iteration.html" />
    <link rel="prev" title="ArrayIterator class" href="array-iterator.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="recursive-iteration.html" title="Iterating Recursive Structures"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="array-iterator.html" title="ArrayIterator class"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PHP SPL Iterators 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Random Access interfaces</a><ul>
<li><a class="reference internal" href="#arrayaccess-interface">ArrayAccess interface</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="array-iterator.html"
                        title="previous chapter">ArrayIterator class</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="recursive-iteration.html"
                        title="next chapter">Iterating Recursive Structures</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/notes/random-access.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="random-access-interfaces">
<h1>Random Access interfaces<a class="headerlink" href="#random-access-interfaces" title="Permalink to this headline">¶</a></h1>
<div class="section" id="arrayaccess-interface">
<h2>ArrayAccess interface<a class="headerlink" href="#arrayaccess-interface" title="Permalink to this headline">¶</a></h2>
<p><code class="docutils literal"><span class="pre">ArrayAccess</span></code> interface allows random access to your collection through the array index operator []:</p>
<div class="highlight-java"><div class="highlight"><pre><span class="n">ArrayAccess</span> <span class="o">{</span>
     <span class="cm">/* Methods */</span>
     <span class="kd">abstract</span> <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">offsetExists</span> <span class="o">(</span> <span class="n">mixed</span> <span class="n">$offset</span> <span class="o">)</span>
     <span class="kd">abstract</span> <span class="kd">public</span> <span class="n">mixed</span> <span class="nf">offsetGet</span> <span class="o">(</span> <span class="n">mixed</span> <span class="n">$offset</span> <span class="o">)</span>
     <span class="kd">abstract</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">offsetSet</span> <span class="o">(</span> <span class="n">mixed</span> <span class="n">$offset</span> <span class="o">,</span> <span class="n">mixed</span> <span class="n">$value</span> <span class="o">)</span>
     <span class="kd">abstract</span> <span class="kd">public</span> <span class="kt">void</span> <span class="nf">offsetUnset</span> <span class="o">(</span> <span class="n">mixed</span> <span class="n">$offset</span> <span class="o">)</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Example of Book class that implements ArrayAccess</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">Book</span> <span class="k">implements</span> <span class="nx">ArrayAccess</span> <span class="p">{</span>
    <span class="k">public</span> <span class="nv">$title</span><span class="p">;</span>

    <span class="k">public</span> <span class="nv">$author</span><span class="p">;</span>

    <span class="k">public</span> <span class="nv">$isbn</span><span class="p">;</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">offsetExists</span><span class="p">(</span> <span class="nv">$offset</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nb">isset</span><span class="p">(</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="nv">$offset</span> <span class="p">);</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">offsetSet</span><span class="p">(</span> <span class="nv">$offset</span><span class="p">,</span> <span class="nv">$value</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="nv">$this</span><span class="o">-&gt;</span><span class="nv">$offset</span> <span class="o">=</span> <span class="nv">$value</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">offsetGet</span><span class="p">(</span> <span class="nv">$offset</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="nv">$offset</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">public</span> <span class="k">function</span> <span class="nf">offsetUnset</span><span class="p">(</span> <span class="nv">$offset</span> <span class="p">)</span>
    <span class="p">{</span>
        <span class="nb">unset</span><span class="p">(</span> <span class="nv">$this</span><span class="o">-&gt;</span><span class="nv">$offset</span> <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span> <span class="sd">/*** end of class ***/</span>

<span class="nv">$book</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">book</span><span class="p">;</span>

<span class="nv">$book</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="o">=</span> <span class="s1">&#39;Pro PHP&#39;</span><span class="p">;</span>
<span class="nv">$book</span><span class="p">[</span><span class="s1">&#39;author&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;Kevin McArthur&#39;</span><span class="p">;</span>
<span class="nv">$book</span><span class="p">[</span><span class="s1">&#39;isbn&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1590598199</span><span class="p">;</span>

<span class="k">foreach</span><span class="p">(</span><span class="nv">$book</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$value</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">echo</span> <span class="s2">&quot;&lt;p&gt;book[</span><span class="si">$key</span><span class="s2">] = </span><span class="si">$value</span><span class="s2">&lt;/p&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note: In PHP any class can be used in a <code class="docutils literal"><span class="pre">foreach</span></code> loop—provided it has public properties. It does not have to implement the Iterator interface(or one that extends it). By default the public properties
of the object are returned by default. ArrayAccess does not provided <code class="docutils literal"><span class="pre">foreach</span></code> iterability rather the fact that Book is a class.</p>
<p>As mentioned earlier, <code class="docutils literal"><span class="pre">ArrayObject</span></code> implements not only <code class="docutils literal"><span class="pre">ArrayAccess</span></code> but also <code class="docutils literal"><span class="pre">Countable</span></code>, <code class="docutils literal"><span class="pre">Serializeable</span></code> and <code class="docutils literal"><span class="pre">IteratorAggregate</span></code>. Extending it has the added
convenvience of these additional interfaces, in addition to the methods specific to <code class="docutils literal"><span class="pre">ArrayObject</span></code> such as <code class="docutils literal"><span class="pre">append</span></code> and various sorting methods, like sort, natsort, uasort, and uksort. See <a href="#id1"><span class="problematic" id="id2">ArrayObject_</span></a>.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="recursive-iteration.html" title="Iterating Recursive Structures"
             >next</a> |</li>
        <li class="right" >
          <a href="array-iterator.html" title="ArrayIterator class"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PHP SPL Iterators 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Kurt Krueckeberg.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>