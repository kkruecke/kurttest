<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>IteratorIterator &mdash; PHP SPL Iterators 1 documentation</title>
    
    <link rel="stylesheet" href="../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="PHP SPL Iterators 1 documentation" href="../index.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">PHP SPL Iterators 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">IteratorIterator</a></li>
<li><a class="reference internal" href="#special-iterators">Special Iterators</a></li>
<li><a class="reference internal" href="#appenditerator">AppendIterator</a></li>
<li><a class="reference internal" href="#other-iterators-notes-below">Other Iterators notes below:</a></li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/notes/new.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p>Read this <a class="reference external" href="http://ramikayyali.com/archives/2005/02/25/iterators">http://ramikayyali.com/archives/2005/02/25/iterators</a></p>
<div class="section" id="iteratoriterator">
<h1>IteratorIterator<a class="headerlink" href="#iteratoriterator" title="Permalink to this headline">¶</a></h1>
<p>IteratorIterator seems like an internal class needed for changing a non-Iterator but Traversable&#8211;internal class?&#8211;
into an Iterator that the concrete classes need.</p>
<p>Example:</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="k">class</span> <span class="nc">Book</span> <span class="k">implements</span> <span class="nx">IteratorAggregate</span><span class="p">,</span> <span class="nx">Countable</span> <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="k">function</span> <span class="nf">count</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">return</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">_chapters</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="k">print</span> <span class="s2">&quot;Number of chapters in our book: &quot;</span> <span class="o">.</span> <span class="nb">count</span><span class="p">(</span><span class="nv">$book</span><span class="p">)</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
</pre></div>
</div>
<p>Since we now have an iterator, it’s easy to add our own filtering, for instance, limiting the foreach() to the first 2 chapters:
1 2 3 4 5 6 7 8 9 10 11 12</p>
<p>Using IteratorIterator to apply filtering</p>
<div class="highlight-php"><div class="highlight"><pre><span class="cp">&lt;?php</span>
<span class="c1">// &quot;change&quot; our IteratorAggregate into a Iterator using IteratorIterator.</span>
<span class="nv">$it</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">IteratorIterator</span><span class="p">(</span><span class="nv">$book</span><span class="p">);</span>

<span class="c1">// Display the first two chapters only</span>
<span class="nv">$it</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">LimitIterator</span><span class="p">(</span><span class="nv">$it</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">);</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$it</span> <span class="k">as</span> <span class="nv">$chapter</span><span class="p">)</span> <span class="p">{</span>

    <span class="k">print</span> <span class="s2">&quot;- &quot;</span> <span class="o">.</span> <span class="nv">$chapter</span><span class="o">-&gt;</span><span class="na">getTitle</span><span class="p">()</span> <span class="o">.</span> <span class="nx">PHP_EOL</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="special-iterators">
<h1>Special Iterators<a class="headerlink" href="#special-iterators" title="Permalink to this headline">¶</a></h1>
<p>See <a class="reference external" href="http://eide.org/2008/08/05/iterators/">http://eide.org/2008/08/05/iterators/</a></p>
</div>
<div class="section" id="appenditerator">
<h1>AppendIterator<a class="headerlink" href="#appenditerator" title="Permalink to this headline">¶</a></h1>
<p>Iterates over several iterators one after the other, which have been append() &#8216;ed.</p>
</div>
<div class="section" id="other-iterators-notes-below">
<h1>Other Iterators notes below:<a class="headerlink" href="#other-iterators-notes-below" title="Permalink to this headline">¶</a></h1>
<p>FilterIterator: this is an abstract class that can be extended to filter the elements that are being iterated over (perhaps removing unwanted elements for a search).</p>
<p>ParentIterator: when using a ResursiveIterator, the ParentIterator allows you to filter out elements that do not have children. If, for example, you have a CMS in which documents can be placed anywhere under a tree of categories, the ParentIterator would allow you to recurse the tree but display only the &#8220;category nodes&#8221;, omitting the documents that appear under each category.</p>
<p>LimitIterator: this class allows you to specify a range of elements to Iterator over, starting with a key offset and specifying a number of elements to access from that point. The concept is the same as the LIMIT clause in MySQL.
CachingIterator: this manages another Iterator (which you pass to its constructor). It allows you to check whether the inner Iterator has more elements, using the hasNext() method, before actually advancing with the next() method. Personally, I’m not 100% sure about the name; perhaps LookAheadIterator would be more accurate?</p>
<p>CachingRecursiveIterator: this is largely the same as the CachingIterator, but allows iteration over hierarchical data structures.</p>
<p>DirectoryIterator: to iterate over a directory in a file system, this Iterator provides a bunch of useful methods like isFile() and isDot() that save a lot of hassle.</p>
<p>RecursiveDirectoryIterator: this class allows iteration over a directory structure so that you can descend into subdirectories.</p>
<p>SimpleXMLIterator: this makes SimpleXML even simpler! Currently, the best examples can be found with the SPL tests — see the files beginning &#8220;sxe_*&#8221;
RecursiveIteratorIterator: this helps you do cool stuff like &#8220;flatten&#8221; a hierarchical data structure so that you can loop through it with a single foreach statement, while still preserving knowledge of the hierarchy. This class could be very useful for rendering tree menus, for example.</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../index.html">PHP SPL Iterators 1 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Kurt Krueckeberg.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.6.
    </div>
  </body>
</html>