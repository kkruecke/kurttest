
if(!window.jspackager || !jspackager.devmode){
//ui.core
;;(function($){$.ui={plugin:{add:function(a,b,c){var d=$.ui[a].prototype;for(var i in c){d.plugins[i]=d.plugins[i]||[];d.plugins[i].push([b,c[i]])}},call:function(a,b,c){var d=a.plugins[b];if(!d){return}for(var i=0;i<d.length;i++){if(a.options[d[i][0]]){d[i][1].apply(a.element,c)}}}},cssCache:{},css:function(a){if($.ui.cssCache[a]){return $.ui.cssCache[a]}var b=$('<div class="ui-resizable-gen">').addClass(a).css({position:'absolute',top:'-5000px',left:'-5000px',display:'block'}).appendTo('body');$.ui.cssCache[a]=!!((!(/auto|default/).test(b.css('cursor'))||(/^[1-9]/).test(b.css('height'))||(/^[1-9]/).test(b.css('width'))||!(/none/).test(b.css('backgroundImage'))||!(/transparent|rgba\(0, 0, 0, 0\)/).test(b.css('backgroundColor'))));try{$('body').get(0).removeChild(b.get(0))}catch(e){}return $.ui.cssCache[a]},disableSelection:function(e){e.unselectable="on";e.onselectstart=function(){return false};if(e.style){e.style.MozUserSelect="none"}},enableSelection:function(e){e.unselectable="off";e.onselectstart=function(){return true};if(e.style){e.style.MozUserSelect=""}},hasScroll:function(e,a){var b=/top/.test(a||"top")?'scrollTop':'scrollLeft',has=false;if(e[b]>0)return true;e[b]=1;has=e[b]>0?true:false;e[b]=0;return has}};var j=$.fn.remove;$.fn.remove=function(){$("*",this).add(this).trigger("remove");return j.apply(this,arguments)};function getter(a,b,c){var d=$[a][b].getter||[];d=(typeof d=="string"?d.split(/,?\s+/):d);return($.inArray(c,d)!=-1)}$.widget=function(g,h){var i=g.split(".")[0];g=g.split(".")[1];$.fn[g]=function(b){var c=(typeof b=='string'),args=Array.prototype.slice.call(arguments,1);if(c&&getter(i,g,b)){var d=$.data(this[0],g);return(d?d[b].apply(d,args):undefined)}return this.each(function(){var a=$.data(this,g);if(c&&a&&$.isFunction(a[b])){a[b].apply(a,args)}else if(!c){$.data(this,g,new $[i][g](this,b))}})};$[i][g]=function(c,d){var f=this;this.widgetName=g;this.widgetBaseClass=i+'-'+g;this.options=$.extend({disabled:false},$[i][g].defaults,d);this.element=$(c).bind('setData.'+g,function(e,a,b){return f.setData(a,b)}).bind('getData.'+g,function(e,a){return f.getData(a)}).bind('remove',function(){return f.destroy()});this.init()};$[i][g].prototype=$.extend({},$.widget.prototype,h)};$.widget.prototype={init:function(){},destroy:function(){this.element.removeData(this.widgetName)},getData:function(a){return this.options[a]},setData:function(a,b){this.options[a]=b;if(a=='disabled'){this.element[b?'addClass':'removeClass'](this.widgetBaseClass+'-disabled')}},enable:function(){this.setData('disabled',false)},disable:function(){this.setData('disabled',true)}}})(jQuery);
//ui.scroller
;(function($){$.widget('ui.scroller',{init:function(){var b=this.element[0],o=this.options,that=this;o.animateOptions.complete=function(){that.propagate('end')};o.direction=(o.direction=='vertical')?{scroll:'scrollTop',outerD:'outerHeight',dim:'height'}:{scroll:'scrollLeft',outerD:'outerWidth',dim:'width'};this.pictureUpdate=0;this.moveElem=$(o.moveWrapper,b);this.atomElem=$(o.atoms,b);this.hidingWrapper=$(o.hidingWrapper,b);this.nextLink=$(o.nextLink,b);this.prevLink=$(o.prevLink,b);this.position=0;this.atomPos=0;this.percentage=0;this.oldPosition=0;this.oldAtomPos=0;if(o.hidingHeight||o.hidingWidth){var c=(o.hidingHeight)?{height:o.hidingHeight}:{};if((o.hidingWidth)){c=$.extend(c,{width:o.hidingWidth})}this.hidingWrapper.css(c)}this.dims=[0];this.hidingWrapper[0][o.direction.scroll]=0;this.update();if(o.diashow){this.startDiashow();this.element.bind('mouseenter.diashow',function(){clearInterval(that.diaTimer)}).bind('mouseleave.diashow',function(){that.startDiashow.call(that)})}if($.fn.mousewheel){this.moveElem.mousewheel(function(e,d){that.stopDiashow.call(that);d=(d<0)?'-':'+';var a=(o.moveStep)?o.moveStep:'atom';that.moveTo(d+'atom1');return false})}this.mouseAction=false;this.element.bind('mousedown.uiscroller',function(){that.mouseAction=true}).bind('mouseup.uiscroller',function(){that.mouseAction=false}).bind('mouseleave.uiscroller',function(){that.mouseAction=false});this.nextLink.bind('click.uiscroller',function(){that.stopDiashow.call(that);that.moveTo('-'+o.moveStep);return false});this.prevLink.bind('click.uiscroller',function(){that.stopDiashow.call(that);that.moveTo('+'+o.moveStep);return false});this.moveTo(0,false)},getAtomNearPos:function(a,b){var i=2,len=this.dims.length;for(;i<len;i++){if(b<=this.dims[i]){return i}}return false},startDiashow:function(){var a=this;this.diaTimer=null;clearInterval(this.diaTimer);this.diaTimer=setInterval(function(){((a.position===a.maxPos)?a.moveTo(0,false):a.moveTo('-'+a.o.moveStep))},this.options.diashow)},stopDiashow:function(){this.element.unbind('.diashow');clearInterval(this.diaTimer)},update:function(a){var b=this,jElm,o=this.options;if(a){this.dims=[0]}this.dims[1]=this.hidingWrapper.css({overflow:'hidden'})[o.direction.dim]();var c=this.dims.length-2;for(var i=c,len=this.atomElem.length;i<len;i++){jElm=$(this.atomElem[i]);b.dims.push(b.dims[0]);width=jElm[o.direction.outerD]({margin:true});b.dims[0]+=width}this.dims[0]+=o.addSubPixel;this.maxPos=(this.dims[0]-this.dims[1]);var d=(o.direction.dim=='height')?{height:this.dims[0]+'px'}:{width:this.dims[0]+'px'};this.moveElem.css(d);this.pagination=null;if(o.pagination){this.createPagination(a)}this.showHideLinks()},pictureIsLoaded:function(){this.pictureUpdate--;if(!this.pictureUpdate){this.update()}},append:function(a,b){var c=this;var d=$(a).appendTo(this.moveElem[0]);this.atomElem=this.atomElem.add(d);if(b){d.find('img').each(function(){if(!this.complete){$(this).bind('load.uiscroller',function(){c.pictureIsLoaded.call(c)});c.pictureUpdate++}});if(!this.pictureUpdate){this.update()}}else{this.update()}},createPagination:function(a){var b='<ul>',that=this,tmpContent,o=this.options;this.pagination=$(o.pagination,this.element[0]);this.atomElem.each(function(i){tmpContent=o.paginationAtoms.replace(/\$number/g,i+1);b+=(o.paginationTitleFrom)?tmpContent.replace(/\$title/g,$(o.paginationTitleFrom,this).text()):tmpContent});this.pagination.html(b+'</ul>').find('a').each(function(i){$(this).click(function(){that.stopDiashow.call(that);that.moveTo.call(that,'goTo'+i);return false})})},showHideLinks:function(a){var o=this.options;a=(isNaN(a))?parseInt(this.hidingWrapper[0][o.direction.scroll],10):a;if(a!==this.position){this.percentage=a/(this.maxPos/100);this.oldPosition=this.position;this.oldAtomPos=this.atomPos;this.position=a;var b=this.getAtomNearPos(this.oldPosition,this.position);b=(b)?b-2:0;this.atomPos=b}this.percentage=a/(this.maxPos/100);if(a<=0&&this.prevLink.is('.'+o.activeLinkClass)){o.linkFn.call(this.prevLink,'hide');this.prevLink.removeClass(o.activeLinkClass)}else if(a>0&&!this.prevLink.is('.'+o.activeLinkClass)){o.linkFn.call(this.prevLink,'show');this.prevLink.addClass(o.activeLinkClass)}if(a>=this.maxPos&&this.nextLink.is('.'+o.activeLinkClass)){o.linkFn.call(this.nextLink,'hide');this.nextLink.removeClass(o.activeLinkClass)}else if(a<this.maxPos&&!this.nextLink.is('.'+o.activeLinkClass)){o.linkFn.call(this.nextLink,'show');this.nextLink.addClass(o.activeLinkClass)}if(this.pagination){var c=this.pagination.find('li').filter('.'+o.activePaginationClass).removeClass(o.activePaginationClass),newActive=c.end().eq(this.atomPos).addClass(o.activePaginationClass);if($.isFunction(o.paginationFn)){o.paginationFn.call(c,'inactive');o.paginationFn.call(newActive,'active')}}},calcNewPos:function(a){var b=false,num;if(a.indexOf('goTo')===0){num=parseInt(/(\d+)$/.exec(a)[0],10)+2;a=this.dims[num]}else if(a=='-atom'||a=='-atom1'){num=this.atomPos+3;a=(this.dims[num]||this.dims[num]===0)?this.dims[num]:this.dims[this.dims.length-1]}else if(a=='+atom'||a=='+atom1'){a=(this.atomPos)?this.dims[this.atomPos+1]:0}else if(a.indexOf('atom')==1){num=parseInt(/(\d+)$/.exec(a)[0],10);if(a.indexOf('-')===0){num+=2;if(this.dims[this.atomPos+num]){a=this.dims[this.atomPos+num]}else{a=this.dims[this.dims.length-1]}}else{num-=2;var c=this.atomPos-num;if(c>1&&this.dims[this.atomPos-num]){a=this.dims[this.atomPos-num]}else{a=0}}}else if(a.indexOf('+')===0||a.indexOf('-')===0){b=a.slice(0,1);a=parseInt(a.slice(1),10);a=(b=='-')?this.position+a:this.position-a}else{var d=/(\d+)%$/.exec(a);if(d&&d[1]){a=this.maxPos/100*parseFloat(a)}}return a},moveTo:function(a,b,c){a=(isNaN(a))?this.calcNewPos(a):a;a=(a<=0)?0:(a>=this.maxPos)?this.maxPos:a;if(a===this.position){return false}var o=this.options,scroll=o.direction.scroll;this.showHideLinks(a);this.propagate('start',this.oldPosition);b=(typeof b=='undefined')?o.animate:b;if(b){c=c||{};c=$.extend({},o.animateOptions,{slide:this},c);var d=(scroll=='scrollTop')?{scrollTop:a,uiscrollerComplete:a}:{scrollLeft:a,uiscrollerComplete:a};this.hidingWrapper.stop().animate(d,c)}else{this.hidingWrapper.stop()[0][scroll]=a;this.propagate('end')}},ui:function(){return{instance:this,options:this.options,pos:this.position,percentPos:this.percentage,oldIndex:this.oldAtomPos,newIndex:this.atomPos,size:this.dims.length-2}},propagate:function(n,a){var b=(a||a===0)?[$.extend({},this.ui(),{'pos':a,percentPos:a/(this.maxPos/100)})]:[this.ui()];this.element.triggerHandler("uiscroller"+n,b)}});$.ui.scroller.defaults={hidingWrapper:'div.stage',moveWrapper:'div.stage-design',atoms:'div.teaser',nextLink:'a.next',prevLink:'a.prev',activeLinkClass:'show',linkFn:function(){},animate:true,animateOptions:{duration:800},hidingWidth:false,hidingHeight:false,moveStep:'atom',direction:'horizontal',pagination:false,paginationAtoms:'<li class="pa-$number"><a href="#">$number</a></li>',paginationTitleFrom:false,activePaginationClass:'on',paginationFn:false,diashow:false,addSubPixel:0};$.extend($.fx.step,{uiscrollerComplete:function(a){if(a.now||a.now===0){var b=a.options.slide;if(b){b.propagate('slide',b.hidingWrapper[0][b.options.direction.scroll])}}}})})(jQuery);
//ui.imagegallery
;(function($){$.widget('ui.imageGallery',{init:function(){var a=this,o=this.options;this.links=$(o.selLink,this.element[0]).attr('role','button');this.activeLink=this.links.filter('.'+o.activeClass).parent().addClass(o.activeClass).end();this.next=$(o.selNext,this.element[0]).attr('role','button');this.prev=$(o.selPrev,this.element[0]).attr('role','button');this.displayActiveIndex=$(o.selActiveIndex,this.element[0]);this.displayAmountIndex=$(o.selAmountIndex,this.element[0]).text(this.links.length);this.imageStage=$(o.selImageStage,this.element[0]).attr('tabIndex','-1');if($.imgPreLoad){this.links.each(function(){$.imgPreLoad.add($(this).attr('href'))})}function switchPic(e){a.switchImgStage.call(a,this,e);return false}this.links.bind('click.imageGallery',switchPic);function nextPic(e){a.nextPrev.call(a,1,e);return false}this.next.bind('click.imageGallery',nextPic);function prevPic(e){a.nextPrev.call(a,-1,e);return false}this.prev.bind('click.imageGallery',prevPic);this.updateDisplay()},ui:function(){return{instance:this,options:this.options}},propagate:function(n,e,a){var b=(a)?$.extend(this.ui(),a):this.ui();this.element.triggerHandler("gallery"+n,[e,b])},switchTrans:{fadeInOut:function(a,b){$('<img src="'+b.imgsrc+'" alt="" />').css({opacity:0}).insertBefore(a.img[0]).animate({opacity:1});a.img.animate({opacity:0},{complete:function(){a.img.remove()}})},defaultSwitch:function(a,b){}},nextPrev:function(a,e){var b=this.links.index(this.activeLink[0])+a,nextElm=this.links.get(b);if(nextElm){e.nextPrev=true;this.switchImgStage(nextElm,e)}},updateDisplay:function(){var a=this.links.index(this.activeLink[0]),o=this.options,activated,inactivated;if(a===0&&!this.prev.is('.'+o.inactivePrevNextClass)){inactivated=this.prev.addClass(o.inactivePrevNextClass)}else if(a!==0&&this.prev.is('.'+o.inactivePrevNextClass)){activated=this.prev.removeClass(o.inactivePrevNextClass)}if(a+1===this.links.length&&!this.next.is('.'+o.inactivePrevNextClass)){inactivated=this.next.addClass(o.inactivePrevNextClass)}else if(a+1!==this.links.length&&this.next.is('.'+o.inactivePrevNextClass)){activated=this.next.removeClass(o.inactivePrevNextClass)}this.displayActiveIndex.text(a+1);if(activated){this.propagate('prevnextLinkchange',null,{status:'activated',elm:activated})}if(inactivated){this.propagate('prevnextLinkchange',null,{status:'inactivated',elm:inactivated})}},switchImgStage:function(a,e){jElm=$(a);var o=this.options,old={img:$('img',this.imageStage),link:this.links.filter('.'+o.activeClass).removeClass(o.activeClass).parent().removeClass(o.activeClass).end()},neu={imgsrc:jElm.attr('href'),link:jElm,alt:$('img',a).attr('alt')};this.activeLink=jElm.addClass(o.activeClass).parent().addClass(o.activeClass).end();if(o.switchImg){if(this.switchTrans[o.switchImg]){this.switchTrans[o.switchImg](old,neu)}else{$('<img src="'+neu.imgsrc+'" alt="" />').insertBefore(old.img[0]);old.img.remove()}}this.updateDisplay();this.propagate('imgswitch',e,{oldImg:old,newImg:neu})}});$.ui.imageGallery.defaults={selLink:'#photoindex a',selImageStage:'#gallery-stage',selNext:'#gallery-controls a.next',selPrev:'#gallery-controls a.prev',selActiveIndex:'#gallery-controls span.active-img-index',selAmountIndex:'#gallery-controls span.img-index',activeClass:'active',inactivePrevNextClass:'inactive',getPictureDescription:false,switchImg:'fadeInOut',sildeshow:false}})(jQuery);
//jquery.mousewheel
;(function($){$.event.special.mousewheel={setup:function(){var b=$.event.special.mousewheel.handler;if($.browser.mozilla)$(this).bind('mousemove.mousewheel',function(a){$.data(this,'mwcursorposdata',{pageX:a.pageX,pageY:a.pageY,clientX:a.clientX,clientY:a.clientY})});if(this.addEventListener)this.addEventListener(($.browser.mozilla?'DOMMouseScroll':'mousewheel'),b,false);else this.onmousewheel=b},teardown:function(){var a=$.event.special.mousewheel.handler;$(this).unbind('mousemove.mousewheel');if(this.removeEventListener)this.removeEventListener(($.browser.mozilla?'DOMMouseScroll':'mousewheel'),a,false);else this.onmousewheel=function(){};$.removeData(this,'mwcursorposdata')},handler:function(a){var b=Array.prototype.slice.call(arguments,1);a=$.event.fix(a||window.event);$.extend(a,$.data(this,'mwcursorposdata')||{});var c=0,returnValue=true;if(a.wheelDelta)c=a.wheelDelta/120;if(a.detail)c=-a.detail/3;if($.browser.opera)c=-a.wheelDelta;a.data=a.data||{};a.type="mousewheel";b.unshift(c);b.unshift(a);return $.event.handle.apply(this,b)}};$.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery);
//jquery.imagescale
;(function($){$.imageScale=(function(){function getDim(a){var b=(a.jquery)?a:$(a);return{height:b.height(),width:b.width()}}function scaleTo(a,b,c){var d=getDim(a),percentage,reverseSide=(c=='height')?'width':'height';percentage=d[c]/b;return d[reverseSide]/percentage}function scaleHeightTo(a,b){return scaleTo(a,b,'height')}function scaleSidesIn(a,b,c){var d=getDim(a),estimatetPer=c/b,curPer=d.height/d.width,ret={};if(estimatetPer>curPer){ret.dim=[b,scaleTo(a,b,'width')];ret.padding=[(c-ret.dim[1])/2,0]}else{ret.dim=[scaleTo(a,c,'height'),c];ret.padding=[0,(b-ret.dim[0])/2]}return ret}return{scaleHeightTo:scaleHeightTo,scaleSidesIn:scaleSidesIn}})()})(jQuery);
//jquery.validate
;(function($){$.extend($.fn,{validate:function(b){if(!this.length){b&&b.debug&&window.console&&console.warn("nothing selected, can't validate, returning nothing");return}var c=$.data(this[0],'validator');if(c){return c}c=new $.validator(b,this[0]);$.data(this[0],'validator',c);if(c.settings.onsubmit){this.find("input, button").filter(".cancel").click(function(){c.cancelSubmit=true});this.submit(function(a){if(c.settings.debug)a.preventDefault();function handle(){if(c.settings.submitHandler){c.settings.submitHandler.call(c,c.currentForm);return false}return true}if(c.cancelSubmit){c.cancelSubmit=false;return handle()}if(c.form()){if(c.pendingRequest){c.formSubmitted=true;return false}return handle()}else{c.focusInvalid();return false}})}return c},valid:function(){if($(this[0]).is('form')){return this.validate().form()}else{var a=false;var b=$(this[0].form).validate();this.each(function(){a|=b.element(this)});return a}},removeAttrs:function(a){var b={},$element=this;$.each(a.split(/\s/),function(){b[this]=$element.attr(this);$element.removeAttr(this)});return b},rules:function(c,d){var e=this[0];if(c){var f=$.data(e.form,'validator').settings.rules;var g=$.validator.staticRules(e);switch(c){case"add":$.extend(g,$.validator.normalizeRule(d));f[e.name]=g;break;case"remove":if(!d){delete f[e.name];return g}var h={};$.each(d.split(/\s/),function(a,b){h[b]=g[b];delete g[b]});return h}}var i=$.validator.normalizeRules($.extend({},$.validator.metadataRules(e),$.validator.classRules(e),$.validator.attributeRules(e),$.validator.staticRules(e)),e);if(i.required){var j=i.required;delete i.required;i=$.extend({required:j},i)}return i},push:function(t){return this.setArray(this.add(t).get())}});$.extend($.expr[":"],{blank:function(a){return!$.trim(a.value)},filled:function(a){return!!$.trim(a.value)},unchecked:function(a){return!a.checked}});$.format=function(b,c){if(arguments.length==1)return function(){var a=$.makeArray(arguments);a.unshift(b);return $.format.apply(this,a)};if(arguments.length>2&&c.constructor!=Array){c=$.makeArray(arguments).slice(1)}if(c.constructor!=Array){c=[c]}$.each(c,function(i,n){b=b.replace(new RegExp("\\{"+i+"\\}","g"),n)});return b};$.validator=function(a,b){this.settings=$.extend({},$.validator.defaults,a);this.currentForm=b;this.init()};$.extend($.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",validClass:"valid",errorElement:"label",focusInvalid:true,errorContainer:$([]),errorLabelContainer:$([]),onsubmit:true,ignore:[],onfocusin:function(a){this.lastActive=a;if(this.settings.focusCleanup&&!this.blockFocusCleanup){this.settings.unhighlight&&this.settings.unhighlight.call(this,a,this.settings.errorClass);this.errorsFor(a).hide()}},onfocusout:function(a){if(!this.checkable(a)&&(a.name in this.submitted||!this.optional(a))){this.element(a)}},onkeyup:function(a){if(a.name in this.submitted||a==this.lastElement){this.element(a)}},onclick:function(a){if(a.name in this.submitted)this.element(a)},highlight:function(a,b){$(a).addClass(b)},unhighlight:function(a,b){$(a).removeClass(b)}},setDefaults:function(a){$.extend($.validator.defaults,a)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",dateDE:"Bitte geben Sie ein gültiges Datum ein.",number:"Please enter a valid number.",numberDE:"Bitte geben Sie eine Nummer ein.",digits:"Please enter only digits",creditcard:"Please enter a valid credit card.",equalTo:"Please enter the same value again.",accept:"Please enter a value with a valid extension.",maxlength:$.format("Please enter no more than {0} characters."),minlength:$.format("Please enter at least {0} characters."),rangelength:$.format("Please enter a value between {0} and {1} characters long."),range:$.format("Please enter a value between {0} and {1}."),max:$.format("Please enter a value less than or equal to {0}."),min:$.format("Please enter a value greater than or equal to {0}.")},autoCreateRanges:false,prototype:{init:function(){this.labelContainer=$(this.settings.errorLabelContainer);this.errorContext=this.labelContainer.length&&this.labelContainer||$(this.currentForm);this.containers=$(this.settings.errorContainer).add(this.settings.errorLabelContainer);this.submitted={};this.valueCache={};this.pendingRequest=0;this.pending={};this.invalid={};this.reset();var e=(this.groups={});$.each(this.settings.groups,function(c,d){$.each(d.split(/\s/),function(a,b){e[b]=c})});var f=this.settings.rules;$.each(f,function(a,b){f[a]=$.validator.normalizeRule(b)});function delegate(a){var b=$.data(this[0].form,"validator");b.settings["on"+a.type]&&b.settings["on"+a.type].call(b,this[0])}$(this.currentForm).delegate("focusin focusout keyup",":text, :password, :file, select, textarea",delegate).delegate("click",":radio, :checkbox",delegate)},form:function(){this.checkForm();$.extend(this.submitted,this.errorMap);this.invalid=$.extend({},this.errorMap);if(!this.valid())$(this.currentForm).triggerHandler("invalid-form.validate",[this]);this.showErrors();return this.valid()},checkForm:function(){this.prepareForm();for(var i=0,elements=(this.currentElements=this.elements());elements[i];i++){this.check(elements[i])}return this.valid()},element:function(a){a=this.clean(a);this.lastElement=a;this.prepareElement(a);this.currentElements=$(a);var b=this.check(a);if(b){delete this.invalid[a.name]}else{this.invalid[a.name]=true}if(!this.numberOfInvalids()){this.toHide.push(this.containers)}this.showErrors();return b},showErrors:function(b){if(b){$.extend(this.errorMap,b);this.errorList=[];for(var c in b){this.errorList.push({message:b[c],element:this.findByName(c)[0]})}this.successList=$.grep(this.successList,function(a){return!(a.name in b)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){if($.fn.resetForm)$(this.currentForm).resetForm();this.submitted={};this.prepareForm();this.hideErrors();this.elements().removeClass(this.settings.errorClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(a){var b=0;for(var i in a)b++;return b},hideErrors:function(){this.addWrapper(this.toHide).hide()},valid:function(){return this.size()==0},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid){try{$(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus()}catch(e){}}},findLastActive:function(){var a=this.lastActive;return a&&$.grep(this.errorList,function(n){return n.element.name==a.name}).length==1&&a},elements:function(){var a=this,rulesCache={};return $([]).add(this.currentForm.elements).filter(":input").not(":submit, :reset, :image, [disabled]").not(this.settings.ignore).filter(function(){!this.name&&a.settings.debug&&window.console&&console.error("%o has no name assigned",this);if(this.name in rulesCache||!a.objectLength($(this).rules()))return false;rulesCache[this.name]=true;return true})},clean:function(a){return $(a)[0]},errors:function(){return $(this.settings.errorElement+"."+this.settings.errorClass,this.errorContext)},reset:function(){this.successList=[];this.errorList=[];this.errorMap={};this.toShow=$([]);this.toHide=$([]);this.formSubmitted=false;this.currentElements=$([])},prepareForm:function(){this.reset();this.toHide=this.errors().push(this.containers)},prepareElement:function(a){this.reset();this.toHide=this.errorsFor(a)},check:function(a){a=this.clean(a);if(this.checkable(a)){a=this.findByName(a.name)[0]}var b=$(a).rules();var c=false;for(method in b){var d={method:method,parameters:b[method]};try{var f=$.validator.methods[method].call(this,$.trim(a.value),a,d.parameters);if(f=="dependency-mismatch"){c=true;continue}c=false;if(f=="pending"){this.toHide=this.toHide.not(this.errorsFor(a));return}if(!f){this.formatAndAdd(a,d);return false}}catch(e){this.settings.debug&&window.console&&console.log("exception occured when checking element "+a.id+", check the '"+d.method+"' method");throw e;}}if(c)return;if(this.objectLength(b))this.successList.push(a);return true},customMetaMessage:function(a,b){if(!$.metadata)return;var c=this.settings.meta?$(a).metadata()[this.settings.meta]:$(a).metadata();return c.messages&&c.messages[b]},customMessage:function(a,b){var m=this.settings.messages[a];return m&&(m.constructor==String?m:m[b])},findDefined:function(){for(var i=0;i<arguments.length;i++){if(arguments[i]!==undefined)return arguments[i]}return undefined},defaultMessage:function(a,b){return this.findDefined(this.customMessage(a.name,b),this.customMetaMessage(a,b),a.title||undefined,$.validator.messages[b],"<strong>Warning: No message defined for "+a.name+"</strong>")},formatAndAdd:function(a,b){var c=this.defaultMessage(a,b.method);if(typeof c=="function")c=c.call(this,b.parameters,a);this.errorList.push({message:c,element:a});this.errorMap[a.name]=c;this.submitted[a.name]=c},addWrapper:function(a){if(this.settings.wrapper)a.push(a.parents(this.settings.wrapper));return a},defaultShowErrors:function(){for(var i=0;this.errorList[i];i++){var a=this.errorList[i];this.settings.highlight&&this.settings.highlight.call(this,a.element,this.settings.errorClass);this.showLabel(a.element,a.message)}if(this.errorList.length){this.toShow.push(this.containers)}if(this.settings.success){for(var i=0;this.successList[i];i++){this.showLabel(this.successList[i].addClass(this.settings.validClass))}}if(this.settings.unhighlight){for(var i=0,elements=this.validElements();elements[i];i++){this.settings.unhighlight.call(this,elements[i],this.settings.errorClass)}}this.toHide=this.toHide.not(this.toShow);this.hideErrors();this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return $(this.errorList).map(function(){return this.element})},showLabel:function(a,b){var c=this.errorsFor(a);if(c.length){c.removeClass(this.settings.errorClass+' '+this.settings.validClass).addClass(this.settings.errorClass);c.attr("generated")&&c.html(b)}else{c=$("<"+this.settings.errorElement+"/>").attr({"for":this.idOrName(a),generated:true}).addClass(this.settings.errorClass).html(b||"");if(this.settings.wrapper){c=c.hide().show().wrap("<"+this.settings.wrapper+">").parent()}if(!this.labelContainer.append(c).length)this.settings.errorPlacement?this.settings.errorPlacement(c,$(a)):c.insertAfter(a)}if(!b&&this.settings.success){c.text("");typeof this.settings.success=="string"?c.addClass(this.settings.success):this.settings.success(c)}this.toShow.push(c)},errorsFor:function(a){return this.errors().filter("[@for='"+this.idOrName(a)+"']")},idOrName:function(a){return this.groups[a.name]||(this.checkable(a)?a.name:a.id||a.name)},checkable:function(a){return/radio|checkbox/i.test(a.type)},findByName:function(c){var d=this.currentForm;return $(document.getElementsByName(c)).map(function(a,b){return b.form==d&&b.name==c&&b||null})},getLength:function(a,b){switch(b.nodeName.toLowerCase()){case'select':return $("option:selected",b).length;case'input':if(this.checkable(b))return this.findByName(b.name).filter(':checked').length}return a.length},depend:function(a,b){return this.dependTypes[typeof a]?this.dependTypes[typeof a](a,b):true},dependTypes:{"boolean":function(a,b){return a},"string":function(a,b){return!!$(a,b.form).length},"function":function(a,b){return a(b)}},optional:function(a){return!$.validator.methods.required.call(this,$.trim(a.value),a)&&"dependency-mismatch"},startRequest:function(a){if(!this.pending[a.name]){this.pendingRequest++;this.pending[a.name]=true}},stopRequest:function(a,b){this.pendingRequest--;if(this.pendingRequest<0)this.pendingRequest=0;delete this.pending[a.name];if(b&&this.pendingRequest==0&&this.formSubmitted&&this.form()){$(this.currentForm).submit()}},previousValue:function(a){return $.data(a,"previousValue")||$.data(a,"previousValue",previous={old:null,valid:true,message:this.defaultMessage(a,"remote")})}},classRuleSettings:{required:{required:true},email:{email:true},url:{url:true},date:{date:true},dateISO:{dateISO:true},dateDE:{dateDE:true},number:{number:true},numberDE:{numberDE:true},digits:{digits:true},creditcard:{creditcard:true}},addClassRules:function(a,b){a.constructor==String?this.classRuleSettings[a]=b:$.extend(this.classRuleSettings,a)},classRules:function(a){var b={};var c=$(a).attr('class');c&&$.each(c.split(' '),function(){if(this in $.validator.classRuleSettings){$.extend(b,$.validator.classRuleSettings[this])}});return b},attributeRules:function(a){var b={};var c=$(a);for(method in $.validator.methods){var d=c.attr(method);if(d){b[method]=d}}if(b.maxlength&&/-1|2147483647|524288/.test(b.maxlength)){delete b.maxlength}return b},metadataRules:function(a){if(!$.metadata)return{};var b=$.data(a.form,'validator').settings.meta;return b?$(a).metadata()[b]:$(a).metadata()},staticRules:function(a){var b={};var c=$.data(a.form,'validator');if(c.settings.rules){b=$.validator.normalizeRule(c.settings.rules[a.name])||{}}return b},normalizeRules:function(d,e){$.each(d,function(a,b){if(b===false){delete d[a];return}if(b.param||b.depends){var c=true;switch(typeof b.depends){case"string":c=!!$(b.depends,e.form).length;break;case"function":c=b.depends.call(e,e);break}if(c){d[a]=b.param!==undefined?b.param:true}else{delete d[a]}}});$.each(d,function(a,b){d[a]=$.isFunction(b)?b(e):b});$.each(['minlength','maxlength','min','max'],function(){if(d[this]){d[this]=Number(d[this])}});$.each(['rangelength','range'],function(){if(d[this]){d[this]=[Number(d[this][0]),Number(d[this][1])]}});if($.validator.autoCreateRanges){if(d.min&&d.max){d.range=[d.min,d.max];delete d.min;delete d.max}if(d.minlength&&d.maxlength){d.rangelength=[d.minlength,d.maxlength];delete d.minlength;delete d.maxlength}}if(d.messages){delete d.messages}return d},normalizeRule:function(a){if(typeof a=="string"){var b={};$.each(a.split(/\s/),function(){b[this]=true});a=b}return a},addMethod:function(a,b,c){$.validator.methods[a]=b;$.validator.messages[a]=c;if(b.length<3){$.validator.addClassRules(a,$.validator.normalizeRule(a))}},methods:{required:function(a,b,c){if(!this.depend(c,b))return"dependency-mismatch";switch(b.nodeName.toLowerCase()){case'select':var d=$("option:selected",b);return d.length>0&&(b.type=="select-multiple"||($.browser.msie&&!(d[0].attributes['value'].specified)?d[0].text:d[0].value).length>0);case'input':if(this.checkable(b))return this.getLength(a,b)>0;default:return a.length>0}},remote:function(d,e,f){if(this.optional(e))return"dependency-mismatch";var g=this.previousValue(e);if(!this.settings.messages[e.name])this.settings.messages[e.name]={};this.settings.messages[e.name].remote=typeof g.message=="function"?g.message(d):g.message;if(g.old!==d){g.old=d;var h=this;this.startRequest(e);var i={};i[e.name]=d;$.ajax({url:f,mode:"abort",port:"validate"+e.name,dataType:"json",data:i,success:function(a){if(!a){var b={};b[e.name]=a||h.defaultMessage(e,"remote");h.showErrors(b)}else{var c=h.formSubmitted;h.prepareElement(e);h.formSubmitted=c;h.successList.push(e);h.showErrors()}g.valid=a;h.stopRequest(e,a)}});return"pending"}else if(this.pending[e.name]){return"pending"}return g.valid},minlength:function(a,b,c){return this.optional(b)||this.getLength(a,b)>=c},maxlength:function(a,b,c){return this.optional(b)||this.getLength(a,b)<=c},rangelength:function(a,b,c){var d=this.getLength(a,b);return this.optional(b)||(d>=c[0]&&d<=c[1])},min:function(a,b,c){return this.optional(b)||a>=c},max:function(a,b,c){return this.optional(b)||a<=c},range:function(a,b,c){return this.optional(b)||(a>=c[0]&&a<=c[1])},email:function(a,b){return this.optional(b)||/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(b.value)},url:function(a,b){return this.optional(b)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(b.value)},date:function(a,b){return this.optional(b)||!/Invalid|NaN/.test(new Date(a))},dateISO:function(a,b){return this.optional(b)||/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(a)},dateDE:function(a,b){return this.optional(b)||/^\d\d?\.\d\d?\.\d\d\d?\d?$/.test(a)},number:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/.test(a)},numberDE:function(a,b){return this.optional(b)||/^-?(?:\d+|\d{1,3}(?:\.\d{3})+)(?:,\d+)?$/.test(a)},digits:function(a,b){return this.optional(b)||/^\d+$/.test(a)},creditcard:function(a,b){if(this.optional(b))return"dependency-mismatch";if(/[^0-9-]+/.test(a))return false;var c=0,e=0,bEven=false;a=a.replace(/\D/g,"");for(n=a.length-1;n>=0;n--){var d=a.charAt(n);var e=parseInt(d,10);if(bEven){if((e*=2)>9)e-=9}c+=e;bEven=!bEven}return(c%10)==0},accept:function(a,b,c){c=typeof c=="string"?c:"png|jpe?g|gif";return this.optional(b)||a.match(new RegExp(".("+c+")$","i"))},equalTo:function(a,b,c){return a==$(c).val()}}})})(jQuery);(function($){var c=$.ajax;var d={};$.ajax=function(a){a=$.extend(a,$.extend({},$.ajaxSettings,a));var b=a.port;if(a.mode=="abort"){if(d[b]){d[b].abort()}return(d[b]=c.apply(this,arguments))}return c.apply(this,arguments)}})(jQuery);(function($){$.each({focus:'focusin',blur:'focusout'},function(a,b){$.event.special[b]={setup:function(){if($.browser.msie)return false;this.addEventListener(a,$.event.special[b].handler,true)},teardown:function(){if($.browser.msie)return false;this.removeEventListener(a,$.event.special[b].handler,true)},handler:function(e){arguments[0]=$.event.fix(e);arguments[0].type=b;return $.event.handle.apply(this,arguments)}}});$.extend($.fn,{delegate:function(c,d,e){return this.bind(c,function(a){var b=$(a.target);if(b.is(d)){return e.apply(b,arguments)}})},triggerEvent:function(a,b){return this.triggerHandler(a,[$.event.fix({type:a,target:b})])}})})(jQuery);
//messages_de
;jQuery.extend(jQuery.validator.messages,{required:"Dieses Feld ist ein Pflichtfeld.",maxlength:jQuery.format("Geben Sie bitte maximal {0} Zeichen ein."),minlength:jQuery.format("Geben Sie bitte mindestens {0} Zeichen ein."),rangelength:jQuery.format("Geben Sie bitte mindestens {0} und maximal {1} Zeichen ein."),email:"Geben Sie bitte eine gültige E-Mail Adresse ein.",url:"Geben Sie bitte eine gültige URL ein.",dateDE:"Bitte geben Sie ein gültiges Datum ein.",numberDE:"Geben Sie bitte eine Nummer ein.",number:"Geben Sie bitte eine Nummer ein.",digits:"Geben Sie bitte nur Ziffern ein.",equalTo:"Die beiden Passwörter stimmen nicht überein.",range:jQuery.format("Geben Sie bitten einen Wert zwischen {0} und {1}."),max:jQuery.format("Geben Sie bitte einen Wert kleiner oder gleich {0} ein."),min:jQuery.format("Geben Sie bitte einen Wert größer oder gleich {0} ein."),creditcard:"Geben Sie bitte ein gültige Kreditkarten-Nummer ein."});
//password.strength
;(function($){$.fn.pstrength=function(o){o=$.extend({verdects:['sehr unsicher','unsicher','mittel sicher','sicher','sehr sicher'],scores:[25,50,70,90],verdectClass:['very-unsafe','unsafe','medium-safe','safe','strong']},o);return this.each(function(){var e=$(this).attr('id');var a=$('<div class="password-strength-wrapper"><div id="'+e+'_text"></div><div id="'+e+'_pane" ><div id="'+e+'_bar" ></div></div> '+aperto.lang.passwordSecurityHint+'</div>'),hintImg=$('img',a[0]);hintImg.attr('src',$.location.paths.img+aperto.paths.infoIcon);a.insertBefore(this);if($.fn.Tooltip){$('a.img-info',a[0]).appendTo($('#password-new').prev()[0]).Tooltip({track:false,delay:0,showURL:false});$('#tooltip').bgiframe()}$(this).keyup(function(){$.runPassword($(this).val(),e,o)})})};$.runPassword=function(p,f,o){var a=$.checkPassword(p,o);var b="#"+f+"_bar";var c="#"+f+"_text";if(a<=o.scores[0]){strClass=o.verdectClass[0];strText=o.verdects[0]}else if(a<=o.scores[1]){strClass=o.verdectClass[1];strText=o.verdects[1]}else if(a<=o.scores[2]){strClass=o.verdectClass[2];strText=o.verdects[2]}else if(a<=o.scores[3]){strClass=o.verdectClass[3];strText=o.verdects[3]}else{strClass=o.verdectClass[4];strText=o.verdects[4]}$(b).css({width:a+"%"})[0].className=strClass;$(c).html('<span class="'+strClass+';">'+strText+'</span>')};$.checkPassword=function(p,o){var a=0;var b=o.verdects[0];if(p.length>14){a+=18}else if(p.length>12){a+=10}else if(p.length>10){a+=8}else if(p.length>5){a+=5}else{a+=1}var c={numbers:p.match(/([0-9])/),lowerCase:p.match(/([a-z,ü,ö,ä,ß])/g),special:p.match(/[\[,\],\{,\},:,\,,\;,.,\\,(,),=,!,@,#,$,%,^,&,*,?,_,~,\+,\/]/)};var d=$.extend({},c,{lowerCase:p.match(/([a-z,ü,ö,ä,ß])/),upperCase:p.match(/([A-Z,Ü,Ö,Ä])/)});var e=-1;for(var f in c){if(c[f]){e++}}var g=-1;for(var h in d){if(d[h]){g++}}if(g>0){var i=p.length/1.5;a+=(i*g)}a=Math.round(a*2.2);a+=p.length*1.5;if(a>=o.scores[0]&&(e<1||p.length<6||!c.lowerCase)){a=o.scores[0]-1}else if(e>1&&p.length>6&&a<o.scores[0]){a=o.scores[0]+1}if(a>=o.scores[1]&&(g<2||p.length<8)){a=o.scores[1]-1}else if(a<=o.scores[1]&&g>=2&&p.length>=8){a=o.scores[1]+1}if(a>100){a=100}return a}})(jQuery);
//jquery.scrollTo
;;(function($){var g=$.scrollTo=function(a,b,c){$(window).scrollTo(a,b,c)};g.defaults={axis:'y',duration:1};g.window=function(a){return $(window).scrollable()};$.fn.scrollable=function(){return this.map(function(){var a=this.parentWindow||this.defaultView,elem=this.nodeName=='#document'?a.frameElement||a:this,doc=elem.contentDocument||(elem.contentWindow||elem).document,isWin=elem.setInterval;return elem.nodeName=='IFRAME'||isWin&&$.browser.safari?doc.body:isWin?doc.documentElement:this})};$.fn.scrollTo=function(d,e,f){if(typeof e=='object'){f=e;e=0}if(typeof f=='function')f={onAfter:f};f=$.extend({},g.defaults,f);e=e||f.speed||f.duration;f.queue=f.queue&&f.axis.length>1;if(f.queue)e/=2;f.offset=both(f.offset);f.over=both(f.over);return this.scrollable().each(function(){var c=this,$elem=$(c),targ=d,toff,attr={},win=$elem.is('html,body');switch(typeof targ){case'number':case'string':if(/^([+-]=)?\d+(px)?$/.test(targ)){targ=both(targ);break}targ=$(targ,this);case'object':if(targ.is||targ.style)toff=(targ=$(targ)).offset()}$.each(f.axis.split(''),function(i,a){var b=a=='x'?'Left':'Top',pos=b.toLowerCase(),key='scroll'+b,old=c[key],Dim=a=='x'?'Width':'Height',dim=Dim.toLowerCase();if(toff){attr[key]=toff[pos]+(win?0:old-$elem.offset()[pos]);if(f.margin){attr[key]-=parseInt(targ.css('margin'+b))||0;attr[key]-=parseInt(targ.css('border'+b+'Width'))||0}attr[key]+=f.offset[pos]||0;if(f.over[pos])attr[key]+=targ[dim]()*f.over[pos]}else attr[key]=targ[pos];if(/^\d+$/.test(attr[key]))attr[key]=attr[key]<=0?0:Math.min(attr[key],max(Dim));if(!i&&f.queue){if(old!=attr[key])animate(f.onAfterFirst);delete attr[key]}});animate(f.onAfter);function animate(a){$elem.animate(attr,e,f.easing,a&&function(){a.call(this,d,f)})};function max(a){var b='scroll'+a,doc=c.ownerDocument;return win?Math.max(doc.documentElement[b],doc.body[b]):c[b]}}).end()};function both(a){return typeof a=='object'?a:{top:a,left:a}}})(jQuery);
//jquery.showpassword-1.0
;(function($){$.fn.extend({showPassword:function(f){return this.each(function(){var c=function(a){var a=$(a);var b=$("<input type='text' />");b.insertAfter(a).attr({'class':a.attr('class'),'style':a.attr('style')});return b};var d=function(a,b){b.val(a.val())};var e=function(){if($checkbox.is(':checked')){d($this,g);g.show();$this.hide()}else{d(g,$this);g.hide();$this.show()}};var g=c(this),$this=$(this),$checkbox=$(f);$checkbox.click(function(){e()});$this.keyup(function(){d($this,g)});g.keyup(function(){d(g,$this)});e()})}})})(jQuery);

//extra-starter
;(function($,l,p){function switchLink(a,b){var c=(a==='hide')?[0,0.3]:[1,1];b=(b&&b=='fast')?'css':'animate';this[b]({opacity:c[0]},{duration:400}).parent()[b]({opacity:c[1]},{duration:400})}function imageScroller(){var c,photoIndex;function fadeImginGallery(e,a){$('<div><img src="'+a.newImg.imgsrc+'" alt="" /></div>').css({opacity:0}).insertBefore(a.oldImg.img.parent()[0]).animate({opacity:1});a.oldImg.img.parent().animate({opacity:0},{complete:function(){a.oldImg.img.remove()}});var b=a.newImg.link.parent()[0].offsetLeft,ieCorrect=($.browser.msie)?33:0;c.css('marginLeft',b+ieCorrect+7);$('#gallery-stage h3').text(a.newImg.alt);if(e.nextPrev){photoIndex.scroller('moveTo',b-350+ieCorrect)}}function init(){photoIndex=$('#photoindex');if(photoIndex[0]){$('img',photoIndex[0]).each(function(){var a=$(this),dim=$.imageScale.scaleSidesIn(a,60,60);a.css({height:dim.dim[1],width:dim.dim[0],'padding':String(dim.padding[0]+2)+'px '+String(dim.padding[1]+2)+'px'})});photoIndex.prepend('<div class="prev"><a href="#">Zurück</a></div><div class="next"><a href="#">Vor</a></div>').scroller({atoms:'li',nextLink:'div.next a',prevLink:'div.prev a',linkFn:switchLink,hidingWrapper:'div.index-stage',moveWrapper:'ul',animateOptions:300,moveStep:'atom2',addSubPixel:9,hidingWidth:734});c=$('<div class="indicator"></div>').prependTo('#photoindex div.index-stage');$('#gallery').prepend('<div id="gallery-controls"><a href="#" class="prev">vorheriges Bild</a><a href="#" class="next">nächstes Bild</a><span class="display">Bild <span class="active-img-index">7</span> von <span class="img-index">9</span></span></div>').imageGallery({selLink:'#photoindex ul a',switchImg:false}).bind('galleryimgswitch',fadeImginGallery)}}init()}var q=(function(){var e,indicator,stage,INDICATORLEFT=935,shadow,activeShadow,STAGEWIDTH;function init(){e=$('#teaser-wrapper');var b=e.height()-30;if(e[0]){$('img',e[0]).each(function(){var a=$(this),dim=$.imageScale.scaleSidesIn(a,98,98);a.css({height:dim.dim[1],width:dim.dim[0],'padding':String(dim.padding[0]+2)+'px '+String(dim.padding[1]+2)+'px'})});var c=$('#primary').width()-42;e.css('width',c).scroller({atoms:'dl',nextLink:'div.next a',prevLink:'div.prev a',linkFn:switchLink,hidingWidth:c,animateOptions:400});shadow=$('<div class="pic-carousel-shadow-out"><div class="pic-carousel-shadow"><div class="pic-bl"></div><div class="pic-tr"></div><div class="pic-br"></div></div></div>').css({display:'none'}).prependTo('#teaser-wrapper div.stage-design');stage=$('div.stage',e[0]);STAGEWIDTH=stage.width();var d=$('div.stage-wrapper-out',e[0]).bind('mouseleave',moveDown);indicator=$('<div id="picture-indicator"></div>').appendTo(d[0]).css({'backgroundPosition':'-920px 0'}).addClass('inactive');$('dt',stage[0]).bind('mouseenter',showPicTitleIndicator);$('div.next a, div.prev a',e[0]).each(function(){var a=$(this);if(!a.is('.show')){switchLink.call(a,'hide','fast')}})}}function showPicTitleIndicator(){var a=$('img',this),dl=$(this).parent('dl:first'),dlWidth=dl.outerWidth()/2,offsetLeft=dl[0].offsetLeft,stageScroll=stage[0].scrollLeft,indicatorPos=offsetLeft-stageScroll+dlWidth-INDICATORLEFT;var b='<h4>'+$('dd.title',dl[0]).text()+'</h4>',picHeight=parseInt(a.css('height'),10)+parseInt(a.css('paddingTop'),10)+parseInt(a.css('paddingBottom'),10),picWidth=parseInt(a.css('width'),10)+parseInt(a.css('paddingLeft'),10)+parseInt(a.css('paddingRight'),10),picMargin=20;b+='<p>'+$('dd:not(.title)',dl[0]).text()+'</p>';shadow.css({top:picMargin-2,left:offsetLeft+2}).find('div.pic-carousel-shadow').css({width:picWidth+2,height:picHeight+2}).end().css({display:'block'});indicator.html(b).css({'background-position':indicatorPos+'px 0px'});if(indicator.is('.inactive')){moveUp()}}function moveUp(){$('div.stage-design',stage[0]).stop(true,true).animate({'marginTop':'-13px'},{duration:500});indicator.stop(true,true).animate({'top':'-59px'},{duration:500}).removeClass('inactive');if($.browser.opera){$('#picture-description').hide()}}function moveDown(){$('div.stage-design',stage[0]).stop(true,true).animate({'marginTop':'0px'},{duration:500});indicator.stop(true,true).animate({'top':'1px'},{duration:500,queue:false,complete:function(){if($.browser.opera){$('#picture-description').show()}}}).addClass('inactive');shadow.css({display:'none'})}return{init:init,switchLink:switchLink}})();function inlineGallery(){var d=$('#inline-gallery');if(d[0]){var f=$('div.gallery-stage',d[0]),descrDisplay=$('div.img-descr',d[0]),length=$('li',d[0]).length,galleryControl='<div class="gallery-controls"><a href="#" class="prev">Bild zur�ck</a><a href="#" class="next">Bild vorw�rts</a> <span>1/'+length+'</span></div>',numDisplay=$(galleryControl).insertAfter(f[0]).children('span');descrDisplay=$('<p>'+$('img',d[0]).attr('title')+'</p>').prependTo(descrDisplay[0]);function updateDisplays(e,a){descrDisplay.text($('img',a.instance.atomElem[a.newIndex]).attr('title'));numDisplay.text(String(a.newIndex+1)+'/'+length)}function switchLink(a,b){var c=(a==='hide')?0.3:2;b=(b&&b=='fast')?'css':'animate';this[b]({opacity:c},{duration:200})}$('img',d[0]).each(function(){var a=$(this),dim=$.imageScale.scaleSidesIn(a,150,145);a.css({height:dim.dim[1],width:dim.dim[0],'padding':String(dim.padding[0])+'px '+String(dim.padding[1])+'px'})});d.scroller({hidingWrapper:'div.gallery-stage',moveWrapper:'ul',atoms:'li',nextLink:'a.next',prevLink:'a.prev',linkFn:switchLink,hidingWidth:150,animateOptions:300}).bind('uiscrollerstart',updateDisplays);$('a.next,  a.prev',d[0]).each(function(){var a=$(this);if(!a.is('.show')){switchLink.call(a,'hide','fast')}})}}function userValidator(){function showUserInfo(a){userNameAlert=$(a).insertBefore(d[0]);d.hide();if(userNameAlert.is('.invalid')){setTimeout(function(){c.attr('aria-invalid','true').parent().addClass('error')},120)}}function validate(){var a=c.val();if(a!==userVal&&a!==''){userVal=a;var b={};b[userName]=userVal;ajax.add({url:url,success:showUserInfo,dataType:'text',type:type,data:$.createAjaxData('validate-username',b)})}}function resetUserInfo(){if(userNameAlert&&userNameAlert[0]){userNameAlert.remove()}d.show();setTimeout(function(){c.removeAttr('aria-invalid')},150)}var c=$('#username-new'),userName=c.attr('name'),userVal=c.val();if(c[0]){var d=c.next('em'),ajax=$.manageAjax({manageType:'abortOld',maxReq:0,blockSameRequest:true}),userNameAlert,form=c.parents('form:first'),url=form.attr('action'),type=form.attr('method')||'GET';type=type.toUpperCase();c.focus(resetUserInfo).blur(validate)}}function createValidationDependencyRules(d,f){d=d||$('form.validate').bind('submit',function(){if(!d.is('.prevent-invalid-submit')&&!d.valid()){d[0].submit()}});function showHeadError(a){var b=$(document).scrollTop(),maxScroll=d.offset();$('div.msg.error').slideUp(300,function(){$(this).remove()});a.css('display','none').prependTo(d).slideDown(300);if(b>maxScroll.top){$.scrollTo(0,{duration:300})}}var g={focusInvalid:false,focusCleanup:false,onkeyup:false,errorPlacement:function(a,b){a.attr('role','alert');if(b.is('.grouped')){var c=b.parent().parent();a.addClass('group-error').appendTo(c[0])}else{a.insertAfter(b[0])}},highlight:function(a){$(a).attr('aria-invalid','true').parent().addClass('invalid')},unhighlight:function(a){setTimeout(function(){$(a).removeAttr('aria-invalid').next('label.error').remove().end().parent().removeClass('invalid')},99)}};function showHideDependentArea(e){var a=$(this),depnedentID='#'+a.val(),css,options=(e.type=='init')?{duration:2}:{duration:200},ieDis;if(a.is(':checked')){css={opacity:1,height:'show'};ieDis={display:'block'};$(depnedentID+' :input.required').attr({'aria-required':'true'})}else{css={opacity:0,height:'hide'};ieDis={display:'none'};$.extend(options,{complete:function(){}});$(depnedentID+' :input.required').removeAttr('aria-required')}if($.browser.msie&&$.browser.version<7){}else{$(depnedentID).addClass('dependent-form-elem').animate(css,options)}}if(f){g=$.extend(g,{submitHandler:f})}var h;$('div.group',d[0]).each(function(i){if(!h){h={groups:{}}}var a=$(':input.required',this),groupedNames=[];a.each(function(){groupedNames.push($(this).addClass('grouped').attr('name'))});h.groups['group-'+i]=groupedNames.join(' ')});if(h){$.extend(g,h)}var j=d.validate(g);$(':input.required',d[0]).attr({'aria-required':'true'});$('input.dependency',d[0]).each(function(){var a=$(this),id=a.attr('id'),depnedentID='#'+a.val();if(!id){id='dependency-'+new Date().getTime();a.attr('id',id);id='#'+id}$(depnedentID+' :input.required').each(function(){$(this).rules("add",{required:id+':checked'})});a.bind('uaagchange',showHideDependentArea);showHideDependentArea.call(this,{type:'init'})});$('input[class*=equalto-]',d[0]).each(function(){var a=this.className.split(' '),equalTo=$.grep(a,function(c){if(c.indexOf('equalto-')===0){if(c){return c}}});if(equalTo&&equalTo.length){equalTo=equalTo[0].replace('equalto-','');$(this).rules("add",{equalTo:'#'+equalTo})}});userValidator();$('#password-new').pstrength()}function createCheckAll(){var b=$("#checkall input[@type=checkbox]:not(#check_all,.products)");$('#checkall').click(function(e){var a=$(e.target);if(!$.nodeName(e.target,'input')||!a.is('[@type=checkbox]')||a.is('.products')){return}if(a.is('#check_all')){b.attr('checked',e.target.checked)}else if(!e.target.checked){$('#check_all').attr('checked',false)}else if(b.length===b.filter(':checked').length){$('#check_all').attr('checked',true)}})}function addCheckPassword(){$('<div id="check-pw"><label for="show-password">Passwort anzeigen</label><input id="show-password" type="checkbox" tabindex="-1" /></div>').prependTo('#password-field')}function showPassword(){$('#password').showPassword('#show-password')}function profileChange(){var o=$.manageAjax({manageType:'abortOld',maxReq:1,blockSameRequest:true}),ajaxQueue=$.manageAjax({manageType:'queue',maxReq:1,blockSameRequest:true}),curDD,modifyLinks;function prepareForm(f,g,h){function closeForm(e){if(e&&e.preventDefault){e.preventDefault()}curDD.animate({height:'hide',minHeight:0,opacity:0},{duration:300,complete:function(){$(this).remove()}});return false}function extractSuccess(a,b){var c=$('span.new-email',curDD[0]).text();if(c){var d=$('dd',b[0]);b.addClass('opt-in');d.filter(':eq(0)').text(c);d.filter(':eq(1)').text(l.mailChangeOptinNotice)}var e=$('ul.ajax-data',curDD[0]);if(e[0]){$('li',e[0]).each(function(){$('dd:eq(0)',b[0]).html($(this).html());b=b.next();if(!b){return false}})}}function getContainerHeight(a){var b=a[0].innerHeight()-20;for(var i=1,len=a.length;i<len;i++){b+=a[i].innerHeight()}return b}function getContainerInfo(a){a=a.parent().parent();var b=a,retElems=[a];while((a=a.next())){if(a[0]&&a.is('.line')){retElems.push(a);b=a}else{break}}return[b,retElems]}function submitAction(c){c=$(c);var d=$.location.strToObj(c.serialize(),{},true),type=c.attr('method')||'GET';type=type.toUpperCase();closeForm();ajaxQueue.add({url:c.attr('action'),type:type,dataType:'text',data:$.createAjaxData('default',d),complete:function(a,b){$.ahrError(a,b,this);prepareForm(a,b,{jelm:h.jelm})}})}if(g!='error'){var j=getContainerInfo(h.jelm),parentContainer=j[0];$('dd.modify-input',parentContainer[0]).remove();var k=getContainerHeight(j[1]),curDD=$('<dd class="modify-input"></dd>'),header;curDD.css({display:'none',opacity:0,marginTop:k*-1}).appendTo(parentContainer[0]);curDD.html(f.responseText).find('input[@type=submit]').createLinkButton({extraClass:'',innerLink:'<span><span><span><span>$value</span></span></span></span>'});var m=$('form',curDD[0]);if(m[0]){header=$('h3:first',curDD[0]);header=$('<div class="form-header"><h3>'+header.text()+'</h3> <a href="#" class="close">'+l.profileChangeClose+'</a></div>').replaceAll(header[0]);$('a.close',header[0]).click(closeForm);var n=$('div.button-1:first',curDD[0]);$(l.profileAbort).insertAfter(n[0]).click(closeForm);createValidationDependencyRules(m,submitAction);createCheckAll()}else{extractSuccess(curDD,h.jelm.parent().parent());setTimeout(closeForm,2500)}curDD.animate({height:'show',opacity:1,minHeight:k+'px'},{duration:300});$.checkLinks(curDD[0])}}function getForm(e){var c=$(this),onAjaxComplete=function(a,b){$.ahrError(a,b,this);prepareForm(a,b,this)},ajaxOpts={url:c.attr('href'),dataType:'text',data:$.createAjaxData(),jelm:c,complete:onAjaxComplete};o.add(ajaxOpts);return false}modifyLinks=$('.my-personal-data dd.modify-now a').bind('click.profileajax',getForm)}function calcEmphasisTable(){var c,output,invalidAlert,emphasisTable,alertVisible;function init(){output=$('td.output',emphasisTable[0]);c=$('input[type=text]',emphasisTable[0]).bind('keyup change',function(){var a=sumEmphasis();output.text(a+'%');if(alertVisible&&a==100){hideAlert()}});emphasisTable.parent().bind('submit',function(e){var a=sumEmphasis();e.preventDefault();if(a!=100){if(!alertVisible){showAlert()}return false}});invalidAlert=$('<div class="invalid-alert">'+l.emphasisInvalidAlert+'</div>').attr({role:'alert'}).css({display:'none'}).appendTo('body')}function showAlert(){var a=emphasisTable.offset();output.addClass('error');a.left+=emphasisTable.width();a.top+=$('tr',emphasisTable).height();invalidAlert.css(a).fadeIn(500);alertVisible=true}function hideAlert(){invalidAlert.fadeOut(500);output.removeClass('error');alertVisible=false}function sumEmphasis(){var b=0;c.each(function(){var a=$(this).val();a=parseFloat(a,10);if(!isNaN(a)){b+=a}});return b}emphasisTable=$('table.t-alt-1');if(emphasisTable[0]){init()}}function callDomReady(){profileChange();createValidationDependencyRules();calcEmphasisTable();if($.fn.scroller&&$.fn.imageGallery){inlineGallery();q.init();imageScroller()}createCheckAll();addCheckPassword();showPassword()}$(callDomReady)})(jQuery,aperto.lang,aperto.paths);
}// END !jspackager.devmode